Guia de PreparaÃ§Ã£o para a
CertificaÃ§Ã£o Funifier Gamification
Developer I
IntroduÃ§Ã£o
Bem-vindo ao Guia de PreparaÃ§Ã£o para a CertificaÃ§Ã£o Funifier Gamification Developer I. Este
documento foi desenvolvido para orientar profissionais que desejam conquistar a certificaÃ§Ã£o
Funifier Developer I, uma credencial que valida conhecimentos tÃ©cnicos essenciais para
implementar e integrar soluÃ§Ãµes gamificadas utilizando a plataforma Funifier.
A certificaÃ§Ã£o Funifier Developer I Ã© voltada para profissionais que jÃ¡ tÃªm uma base tÃ©cnica em
desenvolvimento de software e desejam especializar-se na criaÃ§Ã£o e configuraÃ§Ã£o de soluÃ§Ãµes
gamificadas, aproveitando ao mÃ¡ximo os mÃ³dulos, API, triggers e ferramentas avanÃ§adas
oferecidas pelo Funifier Studio. O exame avalia desde a configuraÃ§Ã£o de mÃ³dulos bÃ¡sicos atÃ©
integraÃ§Ãµes com sistemas externos, manipulaÃ§Ã£o de dados com Aggregates, desenvolvimento
de widgets e aplicaÃ§Ã£o de princÃ­pios bÃ¡sicos de seguranÃ§a.

Estrutura do Guia
1. VisÃ£o Geral da CertificaÃ§Ã£o
2. Papel e Responsabilidades do Funifier Gamification Developer
3. Arquitetura da Plataforma Funifier
4. Conceitos BÃ¡sicos da Plataforma Funifier
5. ConfiguraÃ§Ã£o e Uso dos MÃ³dulos BÃ¡sicos
6. IntegraÃ§Ã£o com a Funifier API (Rest API)
7. ManipulaÃ§Ã£o de Dados com o Endpoint Database e Aggregates
8. Desenvolvimento de Interfaces GrÃ¡ficas
9. AutomaÃ§Ã£o com Triggers Simples
10. PrincÃ­pios BÃ¡sicos de SeguranÃ§a
11. LogÃ­stica e PolÃ­ticas do Exame
12. ManutenÃ§Ã£o da CertificaÃ§Ã£o

Anexo I - MÃ³dulos Funifier
Anexo II - API Funifier
Anexo III - Aggregates Funifier
Anexo IV - Triggers Funifier

1. VisÃ£o Geral da CertificaÃ§Ã£o
A CertificaÃ§Ã£o Funifier Gamification Developer I Ã© destinada a desenvolvedores e profissionais
tÃ©cnicos que atuam diretamente na implementaÃ§Ã£o, configuraÃ§Ã£o e integraÃ§Ã£o de soluÃ§Ãµes
gamificadas usando o Funifier. Essa credencial demonstra que o candidato domina os mÃ³dulos
tÃ©cnicos essenciais, entende a arquitetura da plataforma, sabe como automatizar processos
simples com triggers, manipular dados com aggregates e construir interfaces que se conectam
Ã  API do Funifier.

Objetivos da CertificaÃ§Ã£o
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Validar a capacidade de configurar e conectar mÃ³dulos bÃ¡sicos do Funifier Studio.
Demonstrar conhecimento prÃ¡tico na utilizaÃ§Ã£o da Funifier REST API.
Comprovar habilidades em consultas de dados e agregaÃ§Ãµes com uso do Aggregates.
Garantir domÃ­nio bÃ¡sico no desenvolvimento de interfaces grÃ¡ficas integradas Ã 
plataforma.
â—â€‹ Assegurar a compreensÃ£o de prÃ¡ticas bÃ¡sicas de seguranÃ§a e publicaÃ§Ã£o de soluÃ§Ãµes
gamificadas.â€‹

PÃºblico-Alvo
A certificaÃ§Ã£o Ã© recomendada para:
â—â€‹ Desenvolvedores iniciantes ou intermediÃ¡rios que atuam em projetos de gamificaÃ§Ã£o.
â—â€‹ Engenheiros de software e profissionais de TI responsÃ¡veis por integrar o Funifier a
outros sistemas.
â—â€‹ Equipes tÃ©cnicas em empresas de consultoria, marketing, recursos humanos e
educaÃ§Ã£o que desenvolvem soluÃ§Ãµes gamificadas.â€‹

Principais CompetÃªncias Avaliadas
â—â€‹ Entendimento da arquitetura e infraestrutura do Funifier.
â—â€‹ Habilidade para configurar corretamente os mÃ³dulos bÃ¡sicos da plataforma.

â—â€‹
â—â€‹
â—â€‹
â—â€‹

Capacidade de integrar sistemas externos via REST API.
DomÃ­nio de consultas e agregaÃ§Ãµes usando Aggregates.
Conhecimento prÃ¡tico em automaÃ§Ã£o de processos simples usando triggers.
NoÃ§Ãµes fundamentais de seguranÃ§a e boas prÃ¡ticas de publicaÃ§Ã£o e manutenÃ§Ã£o de
gamificaÃ§Ãµes.

2. Papel e Responsabilidades do Funifier
Gamification Developer
O Funifier Gamification Developer Ã© o profissional responsÃ¡vel por transformar os conceitos
e modelos desenhados pelo time de design em soluÃ§Ãµes tÃ©cnicas reais dentro da plataforma
Funifier. Ele conecta a criatividade do design com a robustez tÃ©cnica, garantindo que as
estratÃ©gias gamificadas sejam implementadas corretamente, integradas a sistemas externos e
funcionando de forma segura e eficiente.
Na certificaÃ§Ã£o Funifier Gamification Developer I, o candidato deve demonstrar nÃ£o apenas
conhecimentos tÃ©cnicos bÃ¡sicos, mas tambÃ©m compreensÃ£o do seu papel dentro do ciclo
completo de desenvolvimento de um projeto de gamificaÃ§Ã£o.

Responsabilidades do Gamification Developer
â€‹
ConfiguraÃ§Ã£o tÃ©cnica no Funifier Studio
â—â€‹ Configurar corretamente os mÃ³dulos bÃ¡sicos (aÃ§Ãµes, pontos, nÃ­veis, desafios, rankings,
moedas virtuais, sorteios, etc.) conforme os requisitos do projeto.
â—â€‹ Garantir que as dependÃªncias entre mÃ³dulos estejam bem definidas e funcionais.â€‹

IntegraÃ§Ã£o com sistemas externos
â—â€‹ Realizar integraÃ§Ãµes utilizando a Funifier REST API para garantir que sistemas externos
(ex.: sites, aplicativos, CRMs, ERPs) possam enviar e receber dados da gamificaÃ§Ã£o.
â—â€‹ Usar ferramentas de teste de API para validar chamadas e respostas antes da
implantaÃ§Ã£o.â€‹

Desenvolvimento de automaÃ§Ãµes

â—â€‹ Criar triggers simples para automatizar lÃ³gicas de negÃ³cios, como cÃ¡lculos de pontos,
envio de notificaÃ§Ãµes ou desbloqueio de recompensas.
â—â€‹ Entender a diferenÃ§a entre triggers e schedulers e saber quando usar cada um.â€‹

Desenvolvimento de interfaces grÃ¡ficas
â—â€‹ Criar widgets personalizados em HTML, CSS e JavaScript que apresentem informaÃ§Ãµes
relevantes ao jogador (ex.: rankings, painÃ©is de progresso, lojas virtuais).
â—â€‹ Integrar essas interfaces com a API para garantir que os dados estejam atualizados em
tempo real.â€‹

Garantia de seguranÃ§a e boas prÃ¡ticas
â—â€‹ Configurar corretamente autenticaÃ§Ã£o, permissÃµes e escopos de acesso na API.
â—â€‹ Manter boas prÃ¡ticas de seguranÃ§a no manuseio de dados, autenticaÃ§Ã£o e autorizaÃ§Ã£o.â€‹

Testes, depuraÃ§Ã£o e implantaÃ§Ã£o
â—â€‹ Realizar testes manuais para garantir que aÃ§Ãµes e conquistas estÃ£o funcionando
conforme esperado.
â—â€‹ Depurar problemas tÃ©cnicos, identificar erros e corrigir falhas antes da publicaÃ§Ã£o final.
â—â€‹ Participar ativamente do processo de staging e deploy para ambientes de produÃ§Ã£o.

O que nÃ£o Ã© responsabilidade direta do Developer (mas ele
deve colaborar):
â—â€‹ Definir as estratÃ©gias e mecÃ¢nicas de jogo (responsabilidade do designer).
â—â€‹ Levantar objetivos de negÃ³cio e personas (responsabilidade do time de
design/estratÃ©gia).
â—â€‹ Aprovar decisÃµes de negÃ³cio ou design (embora ele possa ajudar a validar a viabilidade
tÃ©cnica).â€‹

No contexto da certificaÃ§Ã£o, o candidato deve demonstrar capacidade para implementar
soluÃ§Ãµes gamificadas usando os mÃ³dulos bÃ¡sicos do Funifier, integrar dados via API,
desenvolver widgets simples e configurar automaÃ§Ãµes que atendam Ã s demandas funcionais
do projeto.

3. Arquitetura da Plataforma Funifier
Antes de mergulharmos na estrutura tÃ©cnica da Funifier, Ã© fundamental entender o que
exatamente Ã© uma plataforma de gamification, por que ela existe e qual papel ela desempenha
no contexto de transformaÃ§Ã£o digital, engajamento humano e performance organizacional.

3.1. O que Ã© uma Plataforma de Gamification
A palavra gamification representa a aplicaÃ§Ã£o estratÃ©gica de tÃ©cnicas de jogos para estimular
comportamentos em contextos nÃ£o relacionados a jogos, como empresas, escolas, aplicativos,
comunidades ou instituiÃ§Ãµes pÃºblicas. Mais do que uma ferramenta, a gamificaÃ§Ã£o Ã© uma
estratÃ©gia centrada no ser humano.
Uma plataforma de gamification Ã© um sistema tecnolÃ³gico que permite que empresas
gerenciem o engajamento de seus pÃºblicos â€” clientes, colaboradores, alunos ou parceiros â€”
de maneira contÃ­nua, automatizada e escalÃ¡vel.
Ela monitora as aÃ§Ãµes das pessoas, identifica o que as motiva e fornece feedbacks em
tempo real para guiar comportamentos na direÃ§Ã£o dos objetivos do negÃ³cio.
O que uma plataforma de gamification faz:
â—â€‹ Observa o comportamento individual de cada pessoa.
â—â€‹ Estimula aÃ§Ãµes desejadas pelo negÃ³cio (como comprar, vender, aprender, colaborar).
â—â€‹ Cria experiÃªncias divertidas e motivadoras com tÃ©cnicas como pontos, nÃ­veis, desafios e
recompensas.
â—â€‹ Apresenta os resultados e impactos do engajamento para o negÃ³cio.â€‹

Por que ela Ã© importante?
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Automatiza o engajamento humano.
Torna o comportamento mensurÃ¡vel.
Sustenta a motivaÃ§Ã£o ao longo do tempo.
Melhora a performance e a experiÃªncia das pessoas.â€‹

Em vez de depender de aÃ§Ãµes pontuais de lÃ­deres ou campanhas esporÃ¡dicas, uma plataforma
de gamification transforma o engajamento em um sistema de gestÃ£o contÃ­nuo, que atua 24
horas por dia, com inteligÃªncia e precisÃ£o.

3.2. Componentes da Arquitetura Funifier
A plataforma Funifier foi projetada com foco em escalabilidade, seguranÃ§a e flexibilidade
para atender empresas de diferentes tamanhos e setores. Ela adota uma arquitetura moderna
baseada em cloud computing e multi-tenancy, operando como uma soluÃ§Ã£o SaaS (Software
as a Service), o que permite que clientes utilizem suas funcionalidades pela internet, sem
necessidade de instalaÃ§Ã£o local.
Essa arquitetura Ã© composta por trÃªs elementos principais:
â–¸ Funifier Studio
Ã‰ a interface grÃ¡fica usada pelos administradores e gamificadores para criar e gerenciar
gamificaÃ§Ãµes. AtravÃ©s do Studio, Ã© possÃ­vel configurar todos os mÃ³dulos da gamificaÃ§Ã£o â€”
como pontos, aÃ§Ãµes, moedas, desafios e rankings â€” de forma visual e intuitiva.â€‹
Acesso: https://my.funifier.com

ğŸ”—

â–¸ Funifier REST API
A API Ã© o canal de comunicaÃ§Ã£o entre os sistemas externos (como sites e aplicativos) e a
Engine da Funifier. Ela permite que desenvolvedores consultem e manipulem dados da
gamificaÃ§Ã£o, apresentem feedbacks aos jogadores (como listas de desafios e rankings) e
integrem a gamificaÃ§Ã£o com outros sistemas.
â–¸ Funifier Engine
Ã‰ o motor central da plataforma, onde todas as regras de negÃ³cio e processamento de dados
da gamificaÃ§Ã£o sÃ£o executadas. Ã‰ a parte â€œinvisÃ­velâ€ para o usuÃ¡rio final, mas essencial para
que tudo funcione. Roda em servidores de cloud como AWS, DigitalOcean, Google Cloud e
Azure.
Ao logar no Studio, o usuÃ¡rio precisa selecionar o endereÃ§o do servidor (Engine) onde sua
gamificaÃ§Ã£o estÃ¡ hospedada. O servidor padrÃ£o Ã©:â€‹
https://service2.funifier.comâ€‹
A partir dele, Ã© possÃ­vel acessar a API, por exemplo:â€‹
https://service2.funifier.com/v3/player â†’ Endpoint para consultar os
jogadores.

ğŸ”—
ğŸ”—

3.3. Modelo SaaS, Multi-Tenancy e Infraestrutura de Cloud
Computing
â–¸ SaaS (Software como ServiÃ§o)

O Funifier adota o modelo SaaS, no qual o software Ã© acessado diretamente via internet, sem
necessidade de instalaÃ§Ã£o no computador do usuÃ¡rio. Isso significa que atualizaÃ§Ãµes,
melhorias e correÃ§Ãµes sÃ£o feitas de forma centralizada e automÃ¡tica, sem exigir aÃ§Ãµes do
cliente.
Vantagens do SaaS:
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Acesso remoto a qualquer hora e lugar.
AtualizaÃ§Ãµes automÃ¡ticas e transparentes.
ReduÃ§Ã£o de custos com infraestrutura local.
Suporte tÃ©cnico e manutenÃ§Ã£o centralizada.

Pergunta relacionada:
O que significa SaaS?â€‹
R: Ã‰ um modelo de distribuiÃ§Ã£o de software baseado em assinatura, acessado via
internet, sem necessidade de instalaÃ§Ã£o local.

â–¸ Multi-Tenancy (MultilocaÃ§Ã£o)
A Funifier utiliza uma arquitetura multi-tenant, na qual uma Ãºnica instÃ¢ncia do software (a
Engine) serve a mÃºltiplos clientes. Cada cliente tem sua prÃ³pria conta, com gamificaÃ§Ãµes,
dados e configuraÃ§Ãµes totalmente isolados dos demais, mesmo compartilhando a mesma
infraestrutura.
Vantagens do modelo Multi-Tenant:
â—â€‹
â—â€‹
â—â€‹
â—â€‹

ReduÃ§Ã£o de custos operacionais por compartilhar recursos.
AtualizaÃ§Ãµes e manutenÃ§Ã£o centralizadas, beneficiando todos os clientes.
Escalabilidade otimizada, com uso inteligente dos recursos computacionais.
Isolamento lÃ³gico dos dados, garantindo seguranÃ§a entre clientes.

Pergunta relacionada:
O que Ã© Multi-Tenancy?â€‹
R: Ã‰ um sistema onde mÃºltiplos clientes compartilham a mesma infraestrutura,
com dados isolados logicamente.

â–¸ Cloud Computing
Toda a estrutura da Funifier Ã© baseada em cloud computing, ou computaÃ§Ã£o em nuvem. Isso
significa que os servidores, bancos de dados e mecanismos de processamento rodam em
plataformas escalÃ¡veis e seguras como AWS, Google Cloud, DigitalOcean e Azure.

Vantagens do uso de Cloud:
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Alta disponibilidade e confiabilidade.
Escalabilidade automÃ¡tica para lidar com picos de acesso.
ReduÃ§Ã£o de custos com infraestrutura local.
Facilidade de acesso global.

Pergunta relacionada:
O que Ã© Cloud Computing?â€‹
R: Ã‰ a tecnologia que permite acessar servidores, armazenamento e serviÃ§os via
internet.

Esses trÃªs pilares â€” SaaS, Multi-Tenancy e Cloud Computing â€” sÃ£o o alicerce que tornam o
Funifier robusto, escalÃ¡vel, seguro e pronto para atender desde pequenos negÃ³cios atÃ©
grandes corporaÃ§Ãµes com mÃºltiplas gamificaÃ§Ãµes em execuÃ§Ã£o simultaneamente.

3.4. NoÃ§Ãµes de Escalabilidade, SeguranÃ§a e Compliance
A plataforma Funifier foi desenvolvida para oferecer um ambiente robusto e confiÃ¡vel, capaz de
atender diferentes volumes de usuÃ¡rios com seguranÃ§a e em conformidade com normas legais.
Para isso, ela adota prÃ¡ticas modernas relacionadas a escalabilidade, seguranÃ§a e
compliance, que sÃ£o essenciais tanto para garantir a estabilidade da operaÃ§Ã£o quanto para
proteger os dados dos usuÃ¡rios e da empresa cliente.

â–¸ Escalabilidade
Escalabilidade Ã© a capacidade de um sistema crescer de forma eficiente Ã  medida que a
demanda aumenta â€” seja pelo nÃºmero de usuÃ¡rios, transaÃ§Ãµes, ou dados.â€‹
Na arquitetura da Funifier, isso Ã© possÃ­vel graÃ§as ao uso de cloud computing e Ã  separaÃ§Ã£o
lÃ³gica de cada gamificaÃ§Ã£o, permitindo que mais recursos computacionais sejam alocados
conforme necessÃ¡rio.
Exemplo prÃ¡tico:â€‹
Se uma campanha gamificada atingir milhares de jogadores simultaneamente, a plataforma
pode escalar automaticamente os recursos (memÃ³ria, CPU, etc.) para manter a performance
estÃ¡vel, sem interrupÃ§Ãµes.
BenefÃ­cios da escalabilidade:

â—â€‹ Suporte a picos de acesso sem perda de desempenho.
â—â€‹ Crescimento gradual conforme o projeto expande.
â—â€‹ Estabilidade da plataforma mesmo com mÃºltiplos clientes ativos.
Pergunta relacionada:
O que Ã© escalabilidade?â€‹
R: Ã‰ a habilidade da plataforma de crescer e lidar com aumento de carga sem
comprometer o desempenho.

â–¸ SeguranÃ§a
A Funifier adota uma sÃ©rie de prÃ¡ticas de seguranÃ§a para proteger dados sensÃ­veis e garantir o
uso adequado dos recursos da plataforma.
Principais medidas de seguranÃ§a:
â—â€‹ Criptografia de dados em repouso e em trÃ¢nsito: protege as informaÃ§Ãµes mesmo
que interceptadas.â€‹
â—â€‹ AutenticaÃ§Ã£o com mÃºltiplos fatores (MFA): adiciona uma camada extra de proteÃ§Ã£o
ao login.â€‹
â—â€‹ Controle de acesso baseado em funÃ§Ãµes (RBAC): define permissÃµes especÃ­ficas
conforme o papel de cada usuÃ¡rio (administrador, operador, etc).â€‹
â—â€‹ Uso de tokens de autenticaÃ§Ã£o: acesso Ã  API Ã© feito com tokens seguros, com
escopos bem definidos.â€‹
â—â€‹ Isolamento de dados por gamificaÃ§Ã£o e por cliente: mesmo compartilhando
infraestrutura, os dados de cada cliente sÃ£o logicamente separados.

â–¸ Compliance
Compliance Ã© o conjunto de polÃ­ticas e prÃ¡ticas que asseguram que a plataforma esteja em
conformidade com leis, normas e exigÃªncias regulatÃ³rias aplicÃ¡veis â€” como LGPD (Lei Geral
de ProteÃ§Ã£o de Dados), GDPR (Regulamento Geral Europeu de ProteÃ§Ã£o de Dados) e outras
normas corporativas de seguranÃ§a da informaÃ§Ã£o.
PrÃ¡ticas de compliance na Funifier:
â—â€‹ Armazenamento seguro e rastreÃ¡vel de logs de acesso.

â—â€‹ Consentimento para coleta de dados e transparÃªncia nos termos de uso.
â—â€‹ AtualizaÃ§Ãµes contÃ­nuas para se alinhar a legislaÃ§Ãµes internacionais.
â—â€‹ Monitoramento e auditoria de acessos administrativos.â€‹

Importante:â€‹
Ter compliance nÃ£o Ã© apenas uma formalidade â€” Ã© um diferencial competitivo e uma exigÃªncia
em empresas que tratam dados de clientes, como bancos, seguradoras e grandes varejistas.
Ao dominar esses conceitos, o desenvolvedor estarÃ¡ preparado para trabalhar com seguranÃ§a,
confiabilidade e profissionalismo, garantindo que a soluÃ§Ã£o gamificada nÃ£o apenas funcione
bem, mas tambÃ©m seja sustentÃ¡vel e segura ao longo do tempo.

4. Conceitos BÃ¡sicos da Plataforma
Funifier
Antes de criar uma gamificaÃ§Ã£o funcional na Funifier, Ã© fundamental entender alguns
conceitos-chave que sustentam a lÃ³gica da plataforma. Esses conceitos ajudam a diferenciar a
intenÃ§Ã£o estratÃ©gica do design (por exemplo, tÃ©cnicas de jogos) da implementaÃ§Ã£o tÃ©cnica
(como os mÃ³dulos), bem como o papel de cada tipo de dado e cada tipo de pessoa envolvida
no processo.

4.1. TÃ©cnicas de Jogos vs. MÃ³dulos Funifier
TÃ©cnica de Jogo Ã© o nome dado ao mecanismo psicolÃ³gico que ativa uma motivaÃ§Ã£o humana
especÃ­fica. Por exemplo, quando um jogador sobe posiÃ§Ãµes em um ranking, ele sente
progresso e desenvolvimento â€” isso ativa o core drive de "crescimento". O ranking, nesse
caso, Ã© uma tÃ©cnica de jogo.
A Funifier oferece diversas tÃ©cnicas de jogos que podem ser aplicadas aos objetivos do
negÃ³cio, como: pontos, medalhas, nÃ­veis, desafios, rankings, lojas virtuais, sorteios, conquistas,
entre outras.
PorÃ©m, para transformar essas tÃ©cnicas em algo funcional dentro da plataforma, usamos os
mÃ³dulos.

MÃ³dulos sÃ£o os componentes tÃ©cnicos da Funifier usados para configurar as tÃ©cnicas de jogo.
Eles sÃ£o como blocos de construÃ§Ã£o da gamificaÃ§Ã£o.
Exemplo prÃ¡tico:â€‹
Para implementar um ranking semanal de jogadores com mais experiÃªncia (XP), usamos:
â—â€‹ O mÃ³dulo de pontos (point) para criar o tipo de ponto "XP";
â—â€‹ O mÃ³dulo de leaderboard para montar o ranking com base no XP;
â—â€‹ O mÃ³dulo de widget para exibir o ranking visualmente para os jogadores.â€‹

Resumo da relaÃ§Ã£o:
â—â€‹ TÃ©cnicas de jogos = estratÃ©gia de engajamento.
â—â€‹ MÃ³dulos = ferramentas para implementar essa estratÃ©gia.

4.2. AÃ§Ã£o vs. Log de AÃ§Ã£o
No Funifier, os conceitos de aÃ§Ã£o e log de aÃ§Ã£o sÃ£o centrais para o funcionamento da
plataforma.
â—â€‹ AÃ§Ã£o Ã© a definiÃ§Ã£o do que os jogadores podem fazer na gamificaÃ§Ã£o.â€‹
Exemplo: comprar, assistir, compartilhar, concluir, acessar, etc.â€‹
â—â€‹ Log de AÃ§Ã£o Ã© o registro de que uma determinada aÃ§Ã£o foi realizada, por quem, e em
que momento.â€‹
Exemplo: "Jogador JoÃ£o comprou no dia 16/09/2023 Ã s 14:30".â€‹

Esses logs sÃ£o essenciais para calcular pontos, desbloquear recompensas e gerar feedbacks
â€” pois representam o comportamento real dos jogadores.
Resumo da diferenÃ§a:
â—â€‹ AÃ§Ã£o: Ã© a regra â€” o que pode ser feito.
â—â€‹ Log de aÃ§Ã£o: Ã© a evidÃªncia â€” o que foi feito.

4.3. UsuÃ¡rio vs. Jogador
Ã‰ comum confundir os papÃ©is de "usuÃ¡rio" e "jogador" dentro da plataforma, mas eles tÃªm
funÃ§Ãµes bem diferentes:

â—â€‹ UsuÃ¡rio Ã© quem acessa o Funifier Studio para configurar e administrar a gamificaÃ§Ã£o.â€‹
Exemplos: gerentes de projeto, designers, desenvolvedores, administradores.â€‹
â—â€‹ Jogador Ã© quem interage com a gamificaÃ§Ã£o â€” ou seja, participa das missÃµes, ganha
pontos, sobe de nÃ­vel, etc.â€‹
Exemplos: funcionÃ¡rios, clientes, alunos, representantes de vendas, etc.â€‹

Resumo da diferenÃ§a:
â—â€‹ UsuÃ¡rio: administra a gamificaÃ§Ã£o.
â—â€‹ Jogador: vive a experiÃªncia da gamificaÃ§Ã£o.

4.4. Conquistas vs. ConfiguraÃ§Ãµes de MÃ³dulos
Na plataforma Funifier, o termo conquista (achievement) representa um reconhecimento
registrado quando o jogador atinge um marco importante. Conquistas podem acontecer ao:
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Subir de nÃ­vel;
Completar um desafio;
Acumular uma certa quantidade de pontos;
Comprar um item na loja virtual;
Ganhar uma competiÃ§Ã£o ou sorteio.â€‹

JÃ¡ as configuraÃ§Ãµes de mÃ³dulos sÃ£o as regras que definem quando e como essas
conquistas sÃ£o possÃ­veis. Ou seja, o mÃ³dulo define a regra, e a conquista representa o
momento em que a regra foi alcanÃ§ada por alguÃ©m.
Resumo da diferenÃ§a:
â—â€‹ ConfiguraÃ§Ã£o de mÃ³dulo: Define a mecÃ¢nica e a regra da gamificaÃ§Ã£o.
â—â€‹ Conquista: Ã‰ o marco atingido por um jogador quando a regra Ã© cumprida.

Recapitulando os Conceitos-Chave
Conceito
TÃ©cnica de Jogo

Significado
EstratÃ©gia que ativa uma motivaÃ§Ã£o humana (ex.: ranking, loja,
desafio)

MÃ³dulo

Elemento tÃ©cnico usado para implementar uma tÃ©cnica (ex.:
leaderboard, point, store)

AÃ§Ã£o

O que o jogador pode fazer (ex.: comprar, responder, visitar)

Log de AÃ§Ã£o

Registro de uma aÃ§Ã£o realizada, com data e jogador (ex.: â€œJoÃ£o
comprou um carro...â€)

UsuÃ¡rio

Quem administra/configura a gamificaÃ§Ã£o (ex.: gestor,
desenvolvedor)

Jogador

Quem participa da gamificaÃ§Ã£o (ex.: colaborador, cliente, aluno)

Conquista

Reconhecimento pelo alcance de um marco (ex.: concluir missÃ£o,
subir de nÃ­vel, ganhar pontos)

ConfiguraÃ§Ã£o de
MÃ³dulo

A regra que define quando a conquista pode acontecer

Compreender essas diferenÃ§as Ã© essencial para planejar e construir uma gamificaÃ§Ã£o funcional
e eficaz. Ã‰ isso que permite ao desenvolvedor traduzir objetivos estratÃ©gicos em configuraÃ§Ãµes
tÃ©cnicas coerentes dentro da Funifier.

5. ConfiguraÃ§Ã£o e Uso dos MÃ³dulos
BÃ¡sicos
A arquitetura modular da plataforma Funifier Ã© o que permite transformar conceitos de
gamificaÃ§Ã£o em experiÃªncias reais e interativas. Cada mÃ³dulo representa uma peÃ§a dessa
engrenagem â€” configurÃ¡vel e combinÃ¡vel com outras para formar sistemas completos de
motivaÃ§Ã£o humana.
Neste capÃ­tulo, vocÃª entenderÃ¡:
â—â€‹ Como os mÃ³dulos estÃ£o agrupados por funÃ§Ã£o dentro da plataforma.
â—â€‹ Para que serve cada grupo e quem sÃ£o os profissionais mais indicados para operÃ¡-los.

â—â€‹ Quais mÃ³dulos sÃ£o essenciais para implementar as tÃ©cnicas de jogos.
â—â€‹ Como os mÃ³dulos se interligam para criar experiÃªncias gamificadas completas.

5.1. Grupos Funcionais de MÃ³dulos no Funifier
Os mÃ³dulos da Funifier estÃ£o organizados por assuntos (ou grupos funcionais), que refletem
as diferentes etapas de um projeto de gamificaÃ§Ã£o e os diferentes perfis profissionais
envolvidos. A seguir, vocÃª conhecerÃ¡ cada grupo, seu propÃ³sito e os mÃ³dulos que o compÃµem:

5.1.1. ConfiguraÃ§Ã£o BÃ¡sica
Este grupo Ã© o ponto de partida da gamificaÃ§Ã£o. Define quem vai jogar, o que serÃ¡
monitorado e como os jogadores estÃ£o organizados.
Principais mÃ³dulos:
â—â€‹ Action â€“ Define quais aÃ§Ãµes serÃ£o acompanhadas (ex: comprar, vender, completar
tarefa).
â—â€‹ Player â€“ Gerencia os participantes da gamificaÃ§Ã£o.
â—â€‹ Team â€“ Permite agrupar jogadores em equipes.
UsuÃ¡rios tÃ­picos: gestores de projeto, profissionais de negÃ³cios, responsÃ¡veis por definir o
comportamento desejado.

5.1.2. MecÃ¢nicas GenÃ©ricas de Jogos
Aqui estÃ£o os mÃ³dulos que dÃ£o vida Ã s regras do jogo. Eles sÃ£o responsÃ¡veis por definir a
mecÃ¢nica de progressÃ£o, recompensas, desafios e atÃ© jogos com chance ou narrativa.
Principais mÃ³dulos:
â—â€‹ Point, Level, Leaderboard â€“ PontuaÃ§Ã£o, nÃ­veis e rankings.â€‹
â—â€‹ Challenge, Virtual Good, Lottery, Competition, Swap â€“ Desafios,
recompensas, sorteios, competiÃ§Ãµes e trocas.â€‹
â—â€‹ Question, Quiz, Mystery, Crossword, Story, Avatar, LastMile, Folder â€“
Diversas formas interativas de engajamento e narrativa.

UsuÃ¡rios tÃ­picos: gamification designers, criativos, agÃªncias, profissionais de marketing.

5.1.3. Registro de Atividades e Conquistas
Esse grupo Ã© responsÃ¡vel por rastrear as aÃ§Ãµes dos jogadores, registrar progressos e emitir
feedbacks automÃ¡ticos.
Principais mÃ³dulos:
â—â€‹ Action Log â€“ Registra tudo o que o jogador faz.
â—â€‹ Progress Log â€“ Monitora o avanÃ§o em relaÃ§Ã£o aos objetivos.
â—â€‹ Achievement â€“ Marca quando marcos sÃ£o atingidos.
â—â€‹ Notification â€“ Envia mensagens automÃ¡ticas baseadas em eventos.
â—â€‹ Technique Link â€“ Conecta mÃ³dulos Ã s tÃ©cnicas de jogos correspondentes.
UsuÃ¡rios tÃ­picos: desenvolvedores, analistas tÃ©cnicos e especialistas em engajamento.

5.1.4. ConfiguraÃ§Ãµes AvanÃ§adas
Quando a lÃ³gica padrÃ£o nÃ£o Ã© suficiente, esses mÃ³dulos permitem regras personalizadas,
cÃ¡lculos avanÃ§ados e automaÃ§Ãµes baseadas em eventos.
Principais mÃ³dulos:
â—â€‹ Trigger â€“ Executa cÃ³digo Java sob certas condiÃ§Ãµes.
â—â€‹ Scheduler â€“ Executa cÃ³digos em horÃ¡rios agendados (CRON).
UsuÃ¡rios tÃ­picos: desenvolvedores, arquitetos de gamificaÃ§Ã£o, especialistas tÃ©cnicos.

5.1.5. Interface Visual e Feedback
MÃ³dulos que controlam como a gamificaÃ§Ã£o serÃ¡ vista e sentida pelo jogador, oferecendo
interfaces interativas e feedbacks em tempo real.
Principais mÃ³dulos:
â—â€‹ Widget â€“ Elementos visuais para exibir rankings, progresso, recompensas, etc.
â—â€‹ WebSocket â€“ Entrega feedbacks em tempo real para o front-end.
â—â€‹ Static Repo â€“ Armazena interfaces grÃ¡ficas em subdomÃ­nios pÃºblicos.

â—â€‹ Studio Page â€“ Cria pÃ¡ginas personalizadas dentro do Funifier Studio.
UsuÃ¡rios tÃ­picos: designers, desenvolvedores front-end, UX specialists.

5.1.6. IntegraÃ§Ã£o e Conectividade
MÃ³dulos voltados para comunicaÃ§Ã£o com sistemas externos, permitindo que a gamificaÃ§Ã£o
se conecte com CRMs, sites, apps e outros sistemas.
Principais mÃ³dulos:
â—â€‹ API Restful â€“ Interface para integrar com sistemas externos.
â—â€‹ Request â€“ Ferramenta para testar chamadas Ã  API.
â—â€‹ Find â€“ Comandos de consulta encapsulados para simplificar integraÃ§Ãµes.
â—â€‹ SDK â€“ Conjunto de ferramentas para desenvolvedores.
UsuÃ¡rios tÃ­picos: desenvolvedores de integraÃ§Ã£o, arquitetos de sistemas.

5.1.7. SeguranÃ§a e Controle de Acesso
ResponsÃ¡vel por manter a gamificaÃ§Ã£o segura, garantindo autenticaÃ§Ã£o, autorizaÃ§Ã£o e
rastreabilidade.
Principais mÃ³dulos:
â—â€‹ Auth, Auth Module â€“ Regras bÃ¡sicas e personalizadas de autenticaÃ§Ã£o.
â—â€‹ Audit â€“ Registro de alteraÃ§Ãµes administrativas.
â—â€‹ Crypt â€“ Criptografia de dados sensÃ­veis.
UsuÃ¡rios tÃ­picos: profissionais de seguranÃ§a, admins de TI.

5.1.8. GestÃ£o e OtimizaÃ§Ã£o de Dados
Esses mÃ³dulos oferecem ferramentas para armazenamento, consulta, anÃ¡lise, backup e
importaÃ§Ã£o/exportaÃ§Ã£o de dados.
Principais mÃ³dulos:
â—â€‹ Database, Custom Object â€“ Acesso e criaÃ§Ã£o de estruturas de dados customizadas.

â—â€‹ Csv Data, Upload â€“ ImportaÃ§Ã£o/exportaÃ§Ã£o de arquivos.
â—â€‹ Backup, Compact â€“ Backup e otimizaÃ§Ã£o da base de dados.â€‹

UsuÃ¡rios tÃ­picos: analistas de dados, administradores da gamificaÃ§Ã£o.

5.1.9. Ambientes e PublicaÃ§Ã£o
MÃ³dulos para controlar ambientes de teste e produÃ§Ã£o, bem como o uso de componentes
reutilizÃ¡veis.
Principais mÃ³dulos:
â—â€‹ Staging â€“ MigraÃ§Ã£o entre ambientes de homologaÃ§Ã£o e produÃ§Ã£o.
â—â€‹ Marketplace â€“ Biblioteca de componentes reutilizÃ¡veis.
UsuÃ¡rios tÃ­picos: tÃ©cnicos de implantaÃ§Ã£o, devs sÃªniores.

5.1.10. AutomaÃ§Ã£o e Produtividade
Ferramentas que aumentam a produtividade por meio de inteligÃªncia artificial, sugestÃµes
automÃ¡ticas e suporte especializado.
Principais mÃ³dulos:
â—â€‹ AI Agent â€“ Agente de IA que executa comandos via linguagem natural.
â—â€‹ Specialist â€“ Consultor de gamificaÃ§Ã£o integrado Ã  plataforma.
UsuÃ¡rios tÃ­picos: gamificadores, designers, desenvolvedores que desejam mais eficiÃªncia no
dia a dia.

5.2. MÃ³dulos Essenciais e Como ConfigurÃ¡-los
Depois de entender como os mÃ³dulos da Funifier estÃ£o organizados em grupos funcionais, Ã©
hora de mergulhar nos mÃ³dulos mais utilizados na prÃ¡tica e mais importantes para a prova
de certificaÃ§Ã£o.

Nesta seÃ§Ã£o, vocÃª aprenderÃ¡:
â—â€‹
â—â€‹
â—â€‹
â—â€‹

A funÃ§Ã£o de cada mÃ³dulo essencial dentro de uma gamificaÃ§Ã£o.
Quais campos devem ser configurados.
Como esses mÃ³dulos se conectam com outros para aplicar tÃ©cnicas de jogos.
Boas prÃ¡ticas para uma configuraÃ§Ã£o eficaz e segura.

5.2.1. MÃ³dulo AÃ§Ã£o (Action)
O mÃ³dulo AÃ§Ã£o (Action) Ã© um dos pilares da plataforma Funifier. Ele define quais atividades
os jogadores podem realizar dentro da gamificaÃ§Ã£o e quais dados devem ser capturados
quando essas aÃ§Ãµes ocorrem.
O que Ã© uma AÃ§Ã£o?
Uma aÃ§Ã£o representa uma atividade esperada de um jogador, como:
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Comprar
Vender
Assistir a um vÃ­deo
Compartilhar um conteÃºdo
Visitar um lugar
Preencher um formulÃ¡rioâ€‹

Essas aÃ§Ãµes podem ser disparadas de forma automÃ¡tica (via integraÃ§Ã£o com outros sistemas)
ou por interaÃ§Ã£o direta do jogador em uma interface conectada Ã  API.
A gestÃ£o das aÃ§Ãµes pode ser feita de duas formas:
â—â€‹ Pelo Funifier Studio: via interface grÃ¡fica acessÃ­vel em /studio/action.
â—â€‹ Pela Funifier API: utilizando o endpoint REST /v3/action.

Tela de ConfiguraÃ§Ã£o de AÃ§Ã£o no Studio

Exemplo de JSON de configuraÃ§Ã£o de uma AÃ§Ã£o via API
{
"_id": "sell",
"active": true,
"action": "Sell",
"attributes": [
{"name": "product", "type": "String"},
{"name": "price", "type": "Number"}
]
}

Campos principais do mÃ³dulo Action
Campo

DescriÃ§Ã£o

_id

Identificador Ãºnico da aÃ§Ã£o (ex: sell). Deve ser curto, sem espaÃ§os ou
caracteres especiais.

active

Define se a aÃ§Ã£o estÃ¡ ativa (true) ou inativa (false). AÃ§Ãµes inativas nÃ£o podem
ser registradas.

action

Nome amigÃ¡vel da aÃ§Ã£o. SerÃ¡ exibido nas interfaces grÃ¡ficas (ex: "Sell",
"Vender").

attributes

Lista de atributos personalizados que serÃ£o registrados junto com o log da aÃ§Ã£o.

attributes.name Nome do atributo (ex: product, price). Deve seguir a mesma regra do _id.
attributes.type Tipo de dado esperado: String, Number, ou Boolean.

Exemplo prÃ¡tico de uso
VocÃª pode configurar uma aÃ§Ã£o chamada sell com os atributos product (nome do produto
vendido) e price (valor da venda). Sempre que um jogador realizar essa aÃ§Ã£o, o Funifier
registrarÃ¡ um log contendo:
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Quem fez
O que foi feito
Quando foi feito
Quais foram os valores passados nos atributos

Importante
A aÃ§Ã£o sÃ³ serÃ¡ registrada se estiver ativa. Se o campo "active" estiver como false,
qualquer tentativa de enviar essa aÃ§Ã£o serÃ¡ ignorada pela plataforma.

Dicas prÃ¡ticas
â—â€‹ Use identificadores simples e consistentes (ex: buy, watch_video,
complete_challenge).

â—â€‹ Evite usar espaÃ§os, acentos ou letras maiÃºsculas no campo _id.
â—â€‹ Crie atributos somente quando necessÃ¡rio, e com nomes claros.
â—â€‹ AÃ§Ãµes bem definidas sÃ£o fundamentais para o sucesso da gamificaÃ§Ã£o, pois sÃ£o a base
para pontos, conquistas, notificaÃ§Ãµes, nÃ­veis e rankings.

Com o mÃ³dulo AÃ§Ã£o configurado corretamente, vocÃª estabelece os gatilhos principais da
gamificaÃ§Ã£o, que serÃ£o usados por outros mÃ³dulos como Pontos, NÃ­veis, Conquistas e
Rankings.

5.2.2. MÃ³dulo Jogador (Player)
O mÃ³dulo Jogador (Player) representa as pessoas que participarÃ£o da gamificaÃ§Ã£o â€” ou
seja, os indivÃ­duos que serÃ£o engajados, motivados e reconhecidos ao longo da experiÃªncia.
Cada jogador possui um cadastro personalizado com dados bÃ¡sicos e adicionais, que podem
ser utilizados tanto para exibiÃ§Ã£o quanto para lÃ³gica de segmentaÃ§Ã£o, progressÃ£o, feedback e
recompensa.
A gestÃ£o dos jogadores pode ser feita de duas formas:
â—â€‹ Pelo Funifier Studio: via interface grÃ¡fica acessÃ­vel em /studio/player.
â—â€‹ Pela Funifier API: utilizando o endpoint REST /v3/player.â€‹

O que Ã© um Jogador?
Jogadores sÃ£o os participantes ativos da gamificaÃ§Ã£o â€” clientes, funcionÃ¡rios, alunos ou
qualquer pessoa que interaja com o sistema gamificado. Seu cadastro armazena:
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

InformaÃ§Ãµes de identificaÃ§Ã£o
Imagem de perfil
Grupos aos quais pertence (equipes)
ConexÃµes sociais (amigos)
Dados personalizados para a estratÃ©gia de engajamento (campo extra)â€‹

Essas informaÃ§Ãµes sÃ£o fundamentais para:
â—â€‹ Apresentar dashboards e rankings personalizados
â—â€‹ Enviar mensagens segmentadas
â—â€‹ Atribuir pontos ou recompensas com base em perfil

â—â€‹ Criar dinÃ¢micas sociais como comparaÃ§Ãµes entre amigos ou desafios em grupoâ€‹

Tela de ConfiguraÃ§Ã£o de Jogador no Studio

Exemplo de JSON de ConfiguraÃ§Ã£o de Jogador via API
{
"_id": "john",
"name": "John Travolta",
"email": "john@funifier.com",
"image": {
"small": {"url": "https://a.com/a.jpg"},
"medium": {"url": "https://a.com/a.jpg"},
"original": {"url": "https://a.com/a.jpg"}
},
"teams": ["sales"],
"friends": ["ricardo", "sandra", "igor", "marcilio"],
"extra": {
"country": "USA",
"department": "IT",
"active": true,
"sports": ["soccer", "cycling", "surf"]
},
"created": 1688590645776,
"updated": 1688930284891
}

Campos principais do mÃ³dulo Player
Campo

DescriÃ§Ã£o

_id

Login Ãºnico do jogador. Ã‰ obrigatÃ³rio e nÃ£o pode conter espaÃ§os.

name

Nome completo ou nome de exibiÃ§Ã£o do jogador.

email

E-mail do jogador (opcional, mas recomendÃ¡vel para feedbacks e notificaÃ§Ãµes).

image

Objeto com URLs para imagens nos tamanhos pequeno, mÃ©dio e original.

teams

Lista de IDs das equipes Ã s quais o jogador pertence.

friends

Lista de logins dos amigos do jogador, usada para criar conexÃµes sociais.

extra

Campo aberto para incluir qualquer dado adicional relevante (ex: paÃ­s, cargo,
departamento, interesses).

created

Data/hora de criaÃ§Ã£o do cadastro (gerado automaticamente).

updated

Data/hora da Ãºltima atualizaÃ§Ã£o do jogador (gerado automaticamente).

Campos obrigatÃ³rios
â—â€‹ "_id" e "name" sÃ£o os Ãºnicos campos obrigatÃ³rios para cadastrar um jogador com
sucesso.â€‹

Dicas prÃ¡ticas
â—â€‹ Use logins curtos e sem espaÃ§os para o campo _id.
â—â€‹ Importe jogadores em massa via CSV ou integraÃ§Ã£o com sistemas legados.
â—â€‹ Aproveite o campo extra para incluir dados relevantes para filtros e segmentaÃ§Ãµes.
â—â€‹ Utilize o campo friends para criar experiÃªncias sociais como comparaÃ§Ãµes, desafios e
elogios entre amigos.

5.2.3. MÃ³dulo Equipe (Team)
O mÃ³dulo Equipe (Team) permite organizar os jogadores em grupos estratÃ©gicos para criar
experiÃªncias sociais dentro da gamificaÃ§Ã£o. Com ele, Ã© possÃ­vel configurar tanto equipes fixas,
com membros definidos manualmente, quanto equipes dinÃ¢micas, com membros calculados
automaticamente com base em critÃ©rios personalizados.
O agrupamento por equipes Ã© uma tÃ©cnica muito poderosa para:
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Criar competiÃ§Ãµes em grupo (ex: vendas por time, turmas de alunos).
Aumentar o senso de pertencimento.
Aplicar desafios ou rankings coletivos.
ReforÃ§ar laÃ§os sociais ou departamentais dentro de uma organizaÃ§Ã£o.â€‹

As equipes podem ser configuradas:
â—â€‹ Pelo Funifier Studio, no caminho: /studio/team

â—â€‹ Pela API REST, usando o endpoint: /v3/team

Campos principais de configuraÃ§Ã£o
Campo

DescriÃ§Ã£o

_id

Identificador Ãºnico da equipe (ex: sales). NÃ£o pode conter espaÃ§os.

name

Nome visÃ­vel da equipe (ex: "Equipe de Vendas").

description

Texto descritivo sobre a equipe.

image

Imagem representativa da equipe, com versÃµes pequena, mÃ©dia e
original.

owner

ID do jogador que representa a equipe (opcional).

extra

Objeto com atributos personalizados da equipe (ex: paÃ­s, segmento,
faixa).

created

Timestamp de criaÃ§Ã£o (gerado automaticamente).

updated

Timestamp da Ãºltima atualizaÃ§Ã£o (gerado automaticamente).

Equipe EstÃ¡tica
Uma equipe estÃ¡tica Ã© aquela em que os membros sÃ£o definidos manualmente.

Tela de ConfiguraÃ§Ã£o de Equipe no Studio

Exemplo de JSON de ConfiguraÃ§Ã£o de Equipe via API
{
"_id": "sales",
"name": "Sales",

"description": "Sales team",
"image": {
"small": {"url": "https://a.com/a.jpg"},
"medium": {"url": "https://a.com/a.jpg"},
"original": {"url": "https://a.com/a.jpg"}
},
"owner": "john",
"extra": {
"country": "USA"
},
"created": 1688590265930,
"updated": 1689955901394
}

Equipe DinÃ¢mica
Uma equipe dinÃ¢mica define seus membros automaticamente, com base em um comando
aggregate que consulta a base de dados.
Exemplo de equipe dinÃ¢mica:
{
"_id": "usa_team",
"name": "USA Team",
"description": "All players that have the extra.country field equals to USA",
"dynamic": {
"entity": "player",
"aggregate": "[{\"$match\":{\"extra.country\":\"USA\"}},{\"$project\":{\"_id\":1}}]"
},
"extra": {},
"created": 1689956363282,
"updated": 1689956473159
}

Campos do objeto dynamic:
â—â€‹ entity: nome da coleÃ§Ã£o onde serÃ¡ feita a consulta (ex: "player").

â—â€‹ aggregate: comando MongoDB que retorna os jogadores (exige apenas o campo _id
no retorno).â€‹

Isso Ã© muito Ãºtil para formar equipes como:
â—â€‹ Jogadores de um determinado paÃ­s.
â—â€‹ FuncionÃ¡rios de um departamento especÃ­fico.
â—â€‹ Alunos que atingiram determinada nota.

Boas prÃ¡ticas
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Nomear equipes com identificadores claros e concisos no campo _id.
Use imagens representativas para reforÃ§ar identidade visual.
Utilize equipes dinÃ¢micas para reduzir a manutenÃ§Ã£o manual de membros.
O campo extra pode ser Ãºtil para segmentar campanhas especÃ­ficas (ex: faixa etÃ¡ria,
localizaÃ§Ã£o, etc.).â€‹

5.2.4. MÃ³dulo Ponto (Point)
O mÃ³dulo Ponto (Point) permite criar tipos de pontuaÃ§Ã£o personalizados que serÃ£o usados
para medir o progresso dos jogadores em diferentes dimensÃµes da gamificaÃ§Ã£o. Pontos sÃ£o
uma das formas mais eficazes de fornecer feedback imediato e contÃ­nuo, ajudando os
jogadores a entenderem o quanto estÃ£o avanÃ§ando.
Os pontos funcionam como unidades de medida do status do jogador. Eles podem
representar conhecimento, reputaÃ§Ã£o, experiÃªncia, moedas ou qualquer outro valor relevante
para o contexto do seu projeto.

Exemplos de tipos de pontos:
â—â€‹
â—â€‹
â—â€‹
â—â€‹

XP (Experience Points): mostra o quanto o jogador jÃ¡ avanÃ§ou.
Karma: representa reputaÃ§Ã£o com base em boas aÃ§Ãµes.
Moedas virtuais: que podem ser trocadas por itens.
Pontos por disciplina: em projetos educacionais (ex: matemÃ¡tica, fÃ­sica, literatura).â€‹

VocÃª pode criar quantos tipos de pontos quiser, e usÃ¡-los em conjunto com mÃ³dulos como
nÃ­veis, rankings, desafios e lojas virtuais.

Onde configurar os pontos:
â—â€‹ No Funifier Studio: /studio/point
â—â€‹ Via API REST: POST /v3/pointâ€‹

Tela de ConfiguraÃ§Ã£o de Ponto no Studio

Exemplo de JSON de ConfiguraÃ§Ã£o de Ponto via API
{
"_id": "xp",
"category": "Experience Points",
"shortName": "XP"
}

Campos principais do mÃ³dulo Point
Campo

DescriÃ§Ã£o

_id

Identificador Ãºnico do ponto (ex: xp, karma, moeda). NÃ£o pode conter espaÃ§os
nem caracteres especiais.

category

Nome amigÃ¡vel para exibiÃ§Ã£o (ex: "Experience Points", "Pontos de
Conhecimento").

shortName

AbreviaÃ§Ã£o a ser usada em interfaces e widgets (ex: "XP", "KR").

Os pontos sÃ£o armazenados na coleÃ§Ã£o interna point_category.

Boas prÃ¡ticas
â—â€‹ Crie tipos de pontos distintos para diferentes objetivos (ex: um para experiÃªncia, outro
para compras).
â—â€‹ Evite usar nomes genÃ©ricos como â€œpontos1â€ ou â€œtesteâ€. Use nomes significativos como
â€œxpâ€, â€œkarmaâ€, â€œcoinâ€.
â—â€‹ O shortName Ã© ideal para widgets com espaÃ§o limitado â€” use siglas curtas e
reconhecÃ­veis.â€‹

5.2.5. MÃ³dulo Desafio (Challenge)
O mÃ³dulo Challenge permite configurar os desafios que os jogadores ou equipes devem
cumprir na gamificaÃ§Ã£o. Ã‰ uma das ferramentas mais versÃ¡teis e importantes da plataforma,
usada para estimular comportamentos desejados por meio de metas claras e recompensas.
Desafios sÃ£o construÃ­dos com base nas aÃ§Ãµes realizadas pelos jogadores, avaliadas pela
Funifier Engine em tempo real. Ao cumprir os critÃ©rios de um desafio, o jogador pode receber
pontos, itens, tickets para sorteios ou atÃ© conquistas visuais como badges.
Onde configurar o mÃ³dulo Challenge

â—â€‹ No Funifier Studio: /studio/challenge
â—â€‹ Via API REST: POST /v3/challenge

TÃ©cnicas de jogos implementadas com desafios
O mÃ³dulo Challenge Ã© usado para aplicar vÃ¡rias tÃ©cnicas de jogos clÃ¡ssicas, como:
TÃ©cnica de Jogo

ImplementaÃ§Ã£o

Badges

Um desafio com imagem, completÃ¡vel uma Ãºnica vez.

Quest List

Um desafio comum com um objetivo claro.

Group Quest

Um desafio configurado para ser cumprido por equipes.

Miniquest

Desafios simples com progressÃ£o rÃ¡pida.

Interface no Studio â€“ Tela de configuraÃ§Ã£o de Desafios

â€‹

Exemplo de JSON de ConfiguraÃ§Ã£o de Desafios via API
{
"challenge": "Every 10 Sales, earn 50 XP and 1 Coin",
"active": true,
"_id": "C05",
"description": "The challenge involves perform the action 'Sell' from 10 in 10 times. As a reward
the player receives 50 points 'XP', and 1 point 'Coin'.",
"rules": [
{
"actionId": "sell",
"operator": 40,
"total": 10
}
],
"points": [
{
"total": 50,
"category": "xp",
"operation": 0
},
{
"total": 1,
"category": "coin",
"operation": 0
}
]
}

Campos principais na configuraÃ§Ã£o de desafios
Campo

DescriÃ§Ã£o

_id

Identificador Ãºnico do desafio. Se omitido, serÃ¡ gerado
automaticamente.

challenge

TÃ­tulo do desafio, visÃ­vel ao jogador.

description

Texto explicativo sobre o que deve ser feito e qual a
recompensa.

active

Define se o desafio estÃ¡ ativado ou nÃ£o.

rules

Conjunto de regras que o jogador precisa cumprir para
completar o desafio.

points

Pontos ganhos ao completar o desafio.

filters

CondiÃ§Ãµes especÃ­ficas aplicadas Ã s aÃ§Ãµes (ex: produto
vendido, valor mÃ­nimo).

badge

Imagem usada para representar conquistas visuais (badges).

teamChallenge

Indica se o desafio Ã© em grupo.

rewards

Itens ou tickets de sorteios recebidos como prÃªmio.

principals

IDs de jogadores ou equipes especÃ­ficas autorizadas a
participar.

join

Define se o jogador precisa aceitar participar e quanto tempo
tem para completar o desafio.

limit

Quantas vezes o desafio pode ser concluÃ­do.

5.2.6. MÃ³dulo NÃ­vel (Level)
O mÃ³dulo Level permite criar um sistema de progressÃ£o baseado em pontos, no qual o
jogador sobe de nÃ­vel conforme acumula conquistas. Ele Ã© essencial para reforÃ§ar a sensaÃ§Ã£o
de evoluÃ§Ã£o e status dentro da gamificaÃ§Ã£o, funcionando como uma jornada simbÃ³lica que
representa crescimento e reconhecimento.

Assim como nas artes marciais (onde passamos da faixa branca Ã  preta), os nÃ­veis na Funifier
ajudam a mostrar ao jogador que ele estÃ¡ avanÃ§ando â€” incentivando-o a continuar engajado.

Onde configurar o mÃ³dulo Level
â—â€‹ No Funifier Studio: /studio/level
â—â€‹ Via API REST: POST /v3/level

Tela de ConfiguraÃ§Ã£o de NÃ­vel no Studio

Exemplo de JSON de ConfiguraÃ§Ã£o de um NÃ­vel via API
{
"level": "Apprentice",
"position": 0,
"description": "It indicates that you are learning, growing and striving to reach your goals.",
"minPoints": 10,
"techniques": ["GT85"],
"_id": "level0"
}

Campos principais do mÃ³dulo Level
Campo

DescriÃ§Ã£o

_id

Identificador Ãºnico do nÃ­vel (ex: level0). Sem espaÃ§os ou caracteres
especiais.

level

Nome amigÃ¡vel do nÃ­vel, que serÃ¡ exibido nas interfaces para o jogador.

position

Ãndice numÃ©rico do nÃ­vel dentro da progressÃ£o (ex: 0 para o primeiro nÃ­vel, 1
para o segundo, etc.).

minPoints

Quantidade mÃ­nima de pontos necessÃ¡rios para atingir esse nÃ­vel. Por padrÃ£o,
usa o total geral de pontos.

description

Texto lÃºdico ou motivacional sobre o significado do nÃ­vel.

techniques

Lista de cÃ³digos que associam esse nÃ­vel a uma tÃ©cnica de jogo (opcional).

ConfiguraÃ§Ã£o Global de Level
Por padrÃ£o, o sistema de nÃ­veis considera a soma total de todos os pontos acumulados pelo
jogador.â€‹
Mas vocÃª pode (e deve) configurar qual tipo especÃ­fico de ponto serÃ¡ usado para avaliar o
progresso nos nÃ­veis (ex: sÃ³ considerar os pontos de experiÃªncia xp, e ignorar moedas ou
karma).
Isso Ã© feito com a seguinte configuraÃ§Ã£o global:
{
"_id": "global",
"pointCategory": "xp"
}

NotificaÃ§Ãµes AutomÃ¡ticas

O mÃ³dulo de nÃ­veis permite ativar o envio de notificaÃ§Ãµes padrÃ£o quando o jogador sobe de
nÃ­vel. Isso ocorre de forma nativa, sem necessidade de configurar manualmente.
A plataforma tambÃ©m permite criar notificaÃ§Ãµes personalizadas com o mÃ³dulo
Notification, caso queira usar mensagens visuais especÃ­ficas, multimÃ­dia ou segmentadas.

Boas prÃ¡ticas
â—â€‹ Mantenha a progressÃ£o de pontos coerente e gradual (evite saltos grandes entre
nÃ­veis sem motivo).
â—â€‹ Use nomes e descriÃ§Ãµes que representem conquistas reais ou simbÃ³licas.
â—â€‹ Personalize a categoria de ponto usada nos nÃ­veis com a configuraÃ§Ã£o global, para
evitar distorÃ§Ãµes na progressÃ£o.â€‹

5.2.7. MÃ³dulo Ranking (Leaderboard)
O mÃ³dulo Leaderboard permite criar rankings personalizados que classificam jogadores ou
equipes com base em seus comportamentos e resultados ao longo do tempo.
Rankings sÃ£o uma das tÃ©cnicas de jogos mais poderosas para estimular a competiÃ§Ã£o, o
reconhecimento e o desejo de melhoria contÃ­nua. Eles criam um senso de visibilidade e status
entre os participantes, alÃ©m de fornecer feedback comparativo.

Onde configurar o mÃ³dulo Leaderboard
â—â€‹ No Funifier Studio: /studio/leaderboard
â—â€‹ Via API REST: POST /v3/leaderboard

O que vocÃª pode fazer com um ranking:
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Exibir os 10 jogadores com mais XP da semana.
Mostrar a equipe mais ativa do mÃªs.
Ordenar operadores por menor tempo mÃ©dio de atendimento.
Ranquear jogadores com melhor desempenho em quizzes.

â—â€‹ Mostrar as pessoas que mais convidaram amigos, mais compraram ou mais
venderam.â€‹

Tela de ConfiguraÃ§Ã£o de Leaderboard no Studio

Exemplo de JSON de configuraÃ§Ã£o de Leaderboard via API
{
"title": "Top Players",
"description": "Players with the most points in the week",
"principalType": 0,
"operation": {
"type": 3,
"achievement_type": 0,
"item": "xp",
"sort": -1
},
"period": {
"type": 0,
"timeAmount": 1,

"timeScale": 6
},
"_id": "DTjTvZ5"
}

Explicando os principais campos
Campo

DescriÃ§Ã£o

title

TÃ­tulo do ranking exibido na interface (ex: "Top Players").

description

DescriÃ§Ã£o explicativa do que estÃ¡ sendo ranqueado.

principalType

Tipo de entidade: 0 para jogador, 1 para equipe.

operation.type

Tipo de cÃ¡lculo a ser realizado (ex: soma, mÃ©dia, total de aÃ§Ãµes).

operation.item

Qual ponto ou item serÃ¡ usado na apuraÃ§Ã£o (ex: "xp").

operation.sort

DireÃ§Ã£o da ordenaÃ§Ã£o: -1 (maior para menor), 1 (menor para
maior).

period.type

Tipo de perÃ­odo: 0 (rolling), 1 (fixo), 2 (acumulado).

period.timeAmount

Quantidade de tempo (ex: 1).

period.timeScale

Escala de tempo: 5 (dia), 6 (semana), 7 (mÃªs), etc.

_id

Identificador Ãºnico do ranking (sem espaÃ§os ou acentos).

Sobre o cache e tempo real
Por padrÃ£o, os rankings sÃ£o gerados em cache, ou seja, atualizados em intervalos
programados para economizar processamento.â€‹

Mas Ã© possÃ­vel configurar rankings para tempo real, quando for necessÃ¡rio refletir mudanÃ§as
instantÃ¢neas no comportamento do jogador.

Boas prÃ¡ticas
â—â€‹ Crie rankings por perÃ­odos curtos (ex: semanal) para evitar frustraÃ§Ã£o de jogadores
iniciantes.
â—â€‹ Use rankings para reconhecer diferentes tipos de performance (nÃ£o sÃ³ â€œquem tem
mais pontosâ€).â€‹

5.2.8. MÃ³dulo Itens Virtuais (Virtual Good)
O mÃ³dulo Virtual Good permite configurar os objetos tangÃ­veis ou benefÃ­cios virtuais que os
jogadores podem adquirir ou receber como recompensa dentro da gamificaÃ§Ã£o.
Esses itens servem como incentivos concretos ou simbÃ³licos e tÃªm um papel fundamental
para manter o engajamento, criar desejo, e dar significado Ã s conquistas dos jogadores.
VocÃª pode utilizar este mÃ³dulo para cadastrar:
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Brindes fÃ­sicos (ex: camisetas, drones, livros)
Recompensas simbÃ³licas (ex: trofÃ©us, tÃ­tulos, avatares)
BenefÃ­cios (ex: acesso VIP, cursos, descontos)
Partes de itens colecionÃ¡veis
Itens que sÃ£o liberados ao completar desafiosâ€‹

Onde configurar o mÃ³dulo Virtual Good
â—â€‹ No Funifier Studio: /studio/virtualgoods/item
â—â€‹ Via API REST: POST /v3/virtualgoods/item

Tela de ConfiguraÃ§Ã£o de Virtual Good no Studio

Exemplo de JSON de ConfiguraÃ§Ã£o de um Item Virtual via API
{
"catalogId": "gifts",
"name": "T-shirt",
"description": "White t-shirt with the Funifier logo",
"amount": 100,
"active": true,
"extra": {},

"requires": [
{
"total": 15,
"type": 0,
"item": "coin",
"operation": 1
}
],
"rewards": [],
"notifications": [],
"i18n": {},
"_id": "DTjVpVA"
}

Explicando os principais campos
Campo

DescriÃ§Ã£o

catalogId

Identificador da pasta ou coleÃ§Ã£o onde o item serÃ¡ exibido (ex: "gifts").

name

Nome do item visÃ­vel nas interfaces (ex: "T-shirt").

description

DescriÃ§Ã£o explicativa do item.

amount

Quantidade de itens disponÃ­veis no estoque (ex: 100).

active

Indica se o item estÃ¡ disponÃ­vel para compra ou resgate.

requires

Lista de requisitos para adquirir o item, como pontos, moedas ou outros
objetos.

rewards

Pode conter benefÃ­cios adicionais dados ao jogador ao adquirir esse item.

notifications

Permite configurar mensagens automÃ¡ticas ao adquirir o item.

extra

Campo para armazenar dados personalizados (ex: tamanho da camiseta,
fornecedor).

_id

Identificador Ãºnico do item. NÃ£o deve conter espaÃ§os.

Exemplos prÃ¡ticos
Exemplo

DescriÃ§Ã£o

Camiseta do Evento

Pode ser adquirida por 100 moedas em um catÃ¡logo de brindes.

Drone ColecionÃ¡vel

Requer ter dois itens anteriores: "Parte 1/2" e "Parte 2/2".

Gift Card

Pode ser concedido automaticamente ao completar um desafio.

Ã“culos de Sol (Virtual) Usado para customizar o avatar do jogador.

Combinando com outros mÃ³dulos
â—â€‹ VocÃª pode entregar um item como recompensa em um desafio (rewards.type =
2).â€‹
â—â€‹ Pode usar camadas de desbloqueio â€” por exemplo, para adquirir o Drone, o jogador
precisa ter completado outros desafios ou conquistado outras peÃ§as.

Boas prÃ¡ticas
â—â€‹ DÃª nomes atraentes e use imagens de alta qualidade para os itens.
â—â€‹ Crie catÃ¡logos segmentados com diferentes tipos de itens (ex: roupas, eletrÃ´nicos,
avatares).
â—â€‹ Use o campo extra para registrar caracterÃ­sticas especÃ­ficas como cor, tamanho ou
ediÃ§Ã£o limitada.
â—â€‹ Combine com notificaÃ§Ãµes para reforÃ§ar a conquista.

5.2.9. MÃ³dulo Sorteio (Lottery)
O mÃ³dulo Lottery permite criar sorteios gamificados, nos quais os jogadores concorrem a
prÃªmios ao acumular cupons â€” geralmente obtidos como recompensa por completar desafios,
resolver mistÃ©rios ou participar de aÃ§Ãµes especÃ­ficas dentro da gamificaÃ§Ã£o.
O sorteio Ã© uma poderosa ferramenta de incentivo comportamental, que pode aumentar
drasticamente o engajamento, principalmente quando associado a prÃªmios de alto valor
simbÃ³lico ou material.

Onde configurar o mÃ³dulo Lottery
â—â€‹ No Funifier Studio: /studio/lottery
â—â€‹ Via API REST: POST /v3/lottery

Exemplo de sorteio na vida real
A Caixa EconÃ´mica Federal jÃ¡ utilizou sorteios como estratÃ©gia de incentivo:
A cada R$100 em compras no cartÃ£o, o cliente ganhava 1 cupom para concorrer a
uma viagem com tudo pago.
Esse tipo de mecÃ¢nica pode ser replicado facilmente usando o mÃ³dulo Lottery em conjunto
com os mÃ³dulos Challenge, Mystery ou Trigger, que distribuem os cupons.

Tela de ConfiguraÃ§Ã£o de Sorteios no Studio

Exemplo de configuraÃ§Ã£o de um Sorteio
{
"title": "Travel to Cancun",
"description": "Travel with a companion to Cancun, with airfare and accommodation, for 7
days.",
"drawDate": 1690824650503,
"autoExecute": true,
"choiceMethod": "random_ticket",
"maxWinners": 1,
"maxPerPlayer": 1,
"notifications": [],
"extra": {},
"_id": "DTj0x5z"
}

Explicando os principais campos
Campo

DescriÃ§Ã£o

title

TÃ­tulo do sorteio, visÃ­vel para os jogadores.

description

DescriÃ§Ã£o detalhada do prÃªmio ou do sorteio.

drawDate

Data e hora programada para a realizaÃ§Ã£o do sorteio (timestamp em
milissegundos).

autoExecute

Define se o sorteio serÃ¡ executado automaticamente na data programada.

choiceMethod

MÃ©todo de escolha dos ganhadores. O valor "random_ticket" indica
sorteio aleatÃ³rio com base nos cupons.

maxWinners

NÃºmero mÃ¡ximo de ganhadores permitidos.

maxPerPlayer

Quantas vezes o mesmo jogador pode ser sorteado. (1 = apenas uma vez).

notifications

Permite configurar mensagens automÃ¡ticas para vencedores ou
participantes.

extra

Campo para informaÃ§Ãµes adicionais customizadas (ex: regras, link de
regulamento).

_id

Identificador Ãºnico do sorteio. Sem espaÃ§os ou caracteres especiais.

Como os jogadores ganham cupons?
Os cupons nÃ£o sÃ£o dados diretamente pelo mÃ³dulo Lottery. Eles sÃ£o atribuÃ­dos por outras
aÃ§Ãµes, como:
â—â€‹ Completar um desafio com rewards.type = 50
â—â€‹ Resolver um mistÃ©rio
â—â€‹ Receber por aÃ§Ã£o especÃ­fica com Triggerâ€‹

Isso permite criar condiÃ§Ãµes criativas como:
â—â€‹ â€œComplete 5 desafios este mÃªs e ganhe um cupomâ€
â—â€‹ â€œParticipe de quizzes semanais e receba cupons aleatÃ³riosâ€
â—â€‹ â€œTroque pontos por cupons em uma loja virtualâ€

Boas prÃ¡ticas
â—â€‹ Utilize descriÃ§Ãµes empolgantes e imagens atrativas nas interfaces que exibem os
sorteios.

â—â€‹ Combine com notificaÃ§Ãµes para aumentar o impacto da premiaÃ§Ã£o.
â—â€‹ Crie regras claras e justas â€” principalmente para sorteios com valor financeiro ou
material relevante.
â—â€‹ Para sorteios recorrentes (mensais, semanais), automatize a execuÃ§Ã£o com
autoExecute: true.â€‹

O mÃ³dulo Lottery Ã© uma ferramenta perfeita para gerar expectativa, surpresa e recompensa
em massa. Quando bem configurado, ele transforma aÃ§Ãµes simples em oportunidades
emocionantes, incentivando o jogador a manter-se ativo e engajado na jornada.

6. IntegraÃ§Ã£o com a Funifier API (Rest API)
A Funifier oferece uma API REST robusta e flexÃ­vel, permitindo que sistemas externos
interajam diretamente com as gamificaÃ§Ãµes. Por meio dessa interface, Ã© possÃ­vel cadastrar
jogadores, registrar aÃ§Ãµes, consultar status, distribuir pontos, acompanhar conquistas, integrar
com outros sistemas e criar experiÃªncias gamificadas dinÃ¢micas em tempo real.
Essa API Ã© utilizada principalmente por desenvolvedores que precisam conectar a gamificaÃ§Ã£o
a sites, aplicativos, CRMs, ERPs ou sistemas educacionais. TambÃ©m Ã© amplamente usada para
criar dashboards, lojas virtuais, widgets personalizados, e outras interfaces voltadas aos
jogadores.

6.1. IntroduÃ§Ã£o Ã  Funifier API
A Funifier API segue o padrÃ£o RESTful e Ã© organizada por recursos (como jogadores, aÃ§Ãµes,
pontos, desafios etc.). Cada recurso Ã© acessado por uma rota (endpoint) e manipulado por
meio de mÃ©todos HTTP.
VocÃª pode usar a API para:
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Criar e gerenciar jogadores e equipes
Registrar logs de aÃ§Ãµes
Distribuir pontos e recompensas
Consultar status, conquistas e rankings
Configurar mÃ³dulos remotamente
Integrar gamificaÃ§Ãµes com sistemas externos (ex: websites, apps, bots)â€‹

Todos os dados trafegam no formato JSON e a autenticaÃ§Ã£o Ã© obrigatÃ³ria para praticamente
todas as operaÃ§Ãµes.

6.2. Estrutura da API e MÃ©todos HTTP
A estrutura bÃ¡sica de uma chamada Ã  API Ã©:
https://[engine-url]/v3/[recurso]

Por exemplo:
â—â€‹ GET https://service2.funifier.com/v3/player â†’ Lista os jogadores
â—â€‹ POST https://service2.funifier.com/v3/player â†’ Cria um novo jogadorâ€‹

A versÃ£o mais usada atualmente Ã© a v3, e a base da URL (engine-url) depende do servidor
onde sua gamificaÃ§Ã£o estÃ¡ hospedada (ex: service2.funifier.com,
eu1.service.funifier.com, na1.service.funifier.com, etc.).

Principais mÃ©todos HTTP utilizados
MÃ©todo

FunÃ§Ã£o

Exemplo

GET

Consultar informaÃ§Ãµes

GET /v3/player

POST

Criar ou atualizar recurso

POST /v3/player

DELETE

Remover recurso

DELETE /v3/player/:id

Exemplos prÃ¡ticos:
Criar jogador
POST /v3/player
{
"_id": "player123",
"name": "Alice",

"email": "alice@example.com"
}
Criar uma aÃ§Ã£o com atributos
POST /v3/action
{
"action": "comprar",
"attributes": [
{ "name": "produto", "type": "String" },
{ "name": "preco", "type": "Number" }
]
}
Registrar log de aÃ§Ã£o
POST /v3/action/log
{
"actionId": "vender",
"userId": "maria",
"attributes": {
"produto": "notebook",
"preco": 2000
}
}
Esses exemplos ilustram como criar recursos e interagir com os dados da gamificaÃ§Ã£o usando
a API.

6.3. AutenticaÃ§Ã£o e Tokens
Para utilizar a API da Funifier, Ã© obrigatÃ³rio autenticar-se antes de realizar qualquer operaÃ§Ã£o.
A autenticaÃ§Ã£o garante que apenas usuÃ¡rios autorizados possam acessar ou manipular dados
da gamificaÃ§Ã£o.
O processo de autenticaÃ§Ã£o Ã© baseado em tokens de acesso, utilizando padrÃµes como OAuth
2.0 (Bearer Token) e, em alguns casos, autenticaÃ§Ã£o bÃ¡sica (Basic Token) para usuÃ¡rios do
Studio.

Como funciona a autenticaÃ§Ã£o na Funifier API?
A autenticaÃ§Ã£o na API da Funifier ocorre em dois passos:

1. Solicitar um token de acessoâ€‹
Envie uma requisiÃ§Ã£o POST para o endpoint:â€‹
POST /auth/token
2. Utilizar esse token em todas as requisiÃ§Ãµes subsequentesâ€‹
Incluindo no header da requisiÃ§Ã£o:â€‹
Authorization: Bearer [seu_token_de_acesso]

Exemplo de requisiÃ§Ã£o para gerar um token
POST https://service2.funifier.com/auth/token
{
"apiKey": "APIKEY123",
"grant_type": "password",
"username": "player1",
"password": "senha123"
}

Explicando os campos:
Campo

DescriÃ§Ã£o

apiKey

Chave da sua gamificaÃ§Ã£o (visÃ­vel no Studio).

grant_type

Sempre "password" para autenticaÃ§Ã£o de jogadores.

username

Login do jogador (ou usuÃ¡rio administrador).

password

Senha do jogador (ou usuÃ¡rio administrador).

Exemplo de resposta bem-sucedida:
{
"access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
"token_type": "Bearer",
"expires_in": 3600
}
O campo access_token Ã© o que deve ser usado nas chamadas subsequentes.

Como enviar o token nas requisiÃ§Ãµes?
Adicione no cabeÃ§alho (header) da requisiÃ§Ã£o:
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

Erros comuns na autenticaÃ§Ã£o
CÃ³digo

Erro

Causa provÃ¡vel

401

Unauthorized

Token ausente, expirado ou invÃ¡lido

403

Forbidden

Token vÃ¡lido, mas sem permissÃ£o
suficiente

400

Invalid request / Bad Request

Dados incorretos na solicitaÃ§Ã£o do
token

Tipos de autenticaÃ§Ã£o suportados
Tipo

DescriÃ§Ã£o

OAuth 2.0

Com token de acesso do tipo Bearer (recomendado)

Basic Token

AutenticaÃ§Ã£o simples, usada em testes no Studio ou APIs internas

Resumo rÃ¡pido â€“ Checklist da autenticaÃ§Ã£o
1.â€‹ Obtenha a sua apiKey no Funifier Studio.
2.â€‹ Tenha um username e password vÃ¡lidos (do jogador ou administrador).
3.â€‹ Envie um POST /auth/token com as credenciais.
4.â€‹ Guarde o access_token da resposta.
5.â€‹ Em cada requisiÃ§Ã£o Ã  API, inclua no header:â€‹
Authorization: Bearer [access_token]
A autenticaÃ§Ã£o Ã© o primeiro e mais importante passo para garantir seguranÃ§a, integridade dos
dados e controle sobre o acesso Ã  sua gamificaÃ§Ã£o.

6.4. ManipulaÃ§Ã£o de Dados com a API
A Funifier oferece uma API REST poderosa, que permite realizar todas as operaÃ§Ãµes
necessÃ¡rias para cadastrar, atualizar, consultar e excluir dados dentro da gamificaÃ§Ã£o. Toda a
lÃ³gica de manipulaÃ§Ã£o de dados â€” incluindo jogadores, aÃ§Ãµes, pontos, desafios, rankings,
itens virtuais, sorteios, quizzes e muito mais â€” pode ser feita diretamente atravÃ©s da API,
permitindo a integraÃ§Ã£o completa com qualquer sistema externo, aplicativo mobile ou site.
Importante: A documentaÃ§Ã£o oficial e completa dos endpoints da API pode ser acessada
diretamente no Funifier Studio, atravÃ©s do link:
https://my.funifier.com/doc/api

ğŸ‘‰

Nela vocÃª encontra exemplos, payloads, descriÃ§Ãµes de parÃ¢metros e respostas para todos os
endpoints.
A API segue uma estrutura baseada em recursos, onde cada recurso tem um endpoint
especÃ­fico e aceita operaÃ§Ãµes via mÃ©todos HTTP como GET, POST, PUT e DELETE.

Principais operaÃ§Ãµes que vocÃª pode realizar:
â—â€‹ Jogadores (Player): Criar, listar, atualizar, excluir, consultar status, conquistas, pontos,
progresso, e verificar itens adquiridos.
â—â€‹ Equipes (Team): Criar, listar, atualizar, excluir, adicionar/remover membros, criar
equipes dinÃ¢micas (por critÃ©rios).
â—â€‹ AÃ§Ãµes (Action): Cadastrar as aÃ§Ãµes que os jogadores podem executar, listar e excluir
aÃ§Ãµes.
â—â€‹ Logs de AÃ§Ãµes (Action Log): Registrar os comportamentos dos jogadores (logs) e
consultar logs de aÃ§Ãµes.
â—â€‹ Pontos (Point): Definir categorias de pontos, listar pontos, deletar pontos e consultar
status de pontos dos jogadores.
â—â€‹ Desafios (Challenge): Criar desafios, configurar regras, limites, recompensas (pontos,
itens e tickets), listar desafios e excluir.
â—â€‹ Rankings (Leaderboard): Criar rankings, listar, consultar os lÃ­deres, resetar o cache
dos rankings e deletar rankings.
â—â€‹ Conquistas (Achievement): Consultar todas as conquistas dos jogadores, tanto
individuais quanto em grupo.
â—â€‹ NÃ­veis (Level): Criar nÃ­veis, definir requisitos, listar e deletar nÃ­veis, alÃ©m de consultar o
progresso de nÃ­vel dos jogadores.
â—â€‹ Itens Virtuais (Virtual Good): Criar catÃ¡logos e itens, listar, excluir, configurar preÃ§os,
limites, realizar compras, consultar compras e estoques.
â—â€‹ Sorteios (Lottery): Criar sorteios, listar sorteios, criar e listar tickets, executar sorteios,
listar ganhadores e participantes, deletar sorteios.
â—â€‹ Perguntas (Question): Criar perguntas isoladas, listar, excluir, registrar respostas
(logs).

â—â€‹ Quiz (Quiz): Criar quizzes, listar, deletar, iniciar quiz, enviar respostas em lote, finalizar
quiz, consultar resultados.
â—â€‹ Mystery Box (Mystery): Criar caixas de prÃªmios aleatÃ³rios (ex.: raspadinhas, roletas),
listar, executar sorteio, e deletar.

Player (Jogadores)
SÃ£o os usuÃ¡rios que interagem com a gamificaÃ§Ã£o. Neste endpoint Ã© possÃ­vel criar o cadastro
desses jogadores com quaisquer informaÃ§Ãµes relevantes para estratÃ©gia de engajamento como
por exemplo nome, e-mail, foto, departamento, sexo, localizaÃ§Ã£o geogrÃ¡fica, telefone, e
qualquer outro atributo que seja relevante para o jogador dentro do processo de engajamento.
Criar jogadorâ€‹
POST /v3/player
{
"_id": "player123",
"name": "Alice",
"email": "alice@example.com"
}
Listar jogadoresâ€‹
GET /v3/player
Consultar jogador especÃ­ficoâ€‹
GET /v3/player/player123
Consultar status do jogador (pontos, nÃ­veis, progresso)â€‹
GET /v3/player/player123/status
Excluir jogadorâ€‹
DELETE /v3/player/player123â€‹

Team (Equipes)
Equipes sÃ£o grupos de jogadores. Isso permite motivar os jogadores com estÃ­mulos sociais.
Um jogador pode estar em mais de uma equipe se for necessÃ¡rio, e cada equipe pode ter um
dono, que representa a equipe sempre que necessÃ¡rio.
Criar equipeâ€‹
POST /v3/team
{
"_id": "equipe_tech",
"name": "Equipe de Tecnologia",

"owner": "joao"
}

Adicionar membro Ã  equipeâ€‹
GET /v3/team/equipe_tech/member/add/player123â€‹
Listar IDs dos membros de uma equipeâ€‹
GET /v3/team/equipe_tech/memberids

Action (AÃ§Ãµes)
AÃ§Ã£o Ã© a declaraÃ§Ã£o do que os jogadores podem fazer na gamificaÃ§Ã£o. Por exemplo, â€œvenderâ€,
â€œcomprarâ€, â€œcomentarâ€, â€œcompartilharâ€, â€œseguirâ€, â€œvisitarâ€, â€œlogarâ€, â€œreunirâ€, â€œligarâ€, â€œestudarâ€, etc.
No contexto de um cenÃ¡rio de vendas, por exemplo, vocÃª pode configurar uma aÃ§Ã£o "vender",
que pode ter atributos adicionais como "produto" e "valor" da venda.

Criar uma aÃ§Ã£oâ€‹
POST /v3/action
{
"action": "comprar",
"attributes": [
{ "name": "produto", "type": "String" },
{ "name": "preco", "type": "Number" }
]
}
Listar aÃ§Ãµes configuradasâ€‹
GET /v3/action

Registrar Logs de AÃ§Ã£o (Action Log)
Criar log de aÃ§Ã£o (registrar evento realizado)â€‹
POST /v3/action/log
{
"actionId": "vender",
"userId": "maria",
"attributes": {
"produto": "notebook",
"preco": 2000
}

}
Registrar mÃºltiplos logs de uma vez (envio em lote)â€‹
POST /v3/action/log/bulkâ€‹

Point (Pontos)
Pontos sÃ£o unidades de medida do status do jogador. Uma gamificaÃ§Ã£o pode ter vÃ¡rios tipos de
pontos diferentes. Em uma gamificaÃ§Ã£o para escola vocÃª poderia ter pontos para cada
disciplina. Por exemplo: Pontos de matemÃ¡tica, histÃ³ria, fÃ­sica, etc. Ao configurar os pontos,
vocÃª declara a categoria do ponto, por exemplo, "xp", "karma", "moedas" ou simplesmente
"pontos".
Criar categoria de pontoâ€‹
POST /v3/point
{
"_id": "xp",
"category": "ExperiÃªncia",
"shortName": "XP"
}
Consultar status dos pontos de um jogadorâ€‹
GET /v3/player/player123/status

Challenge (Desafios)
Challenge sÃ£o tarefas que os jogadores precisam executar. No desafio configuramos as aÃ§Ãµes
que o jogador precisa executar e as conquistas que isso irÃ¡ gerar para ele. Por exemplo:
Podemos ter um desafio â€œFaÃ§a 10 Vendas para ganhar 25 pontos xpâ€. No desafio configuramos
as regras que o jogador precisa cumprir, neste caso completar a aÃ§Ã£o â€œvenderâ€ 10 vezes. E os
pontos que ele irÃ¡ ganhar, neste caso 25 pontos da categoria xp.
Criar desafioâ€‹
POST /v3/challenge
{
"challenge": "Vendas Semanais",
"rules": [
{ "actionId": "vender", "total": 10 }
]
}

Achievement (Conquistas)

Reconhecimentos que os jogadores recebem ao atingir certos marcos, como completar um
desafio, subir de nÃ­vel, ganhar pontos, comprar um item da loja virtua.
Listar conquistas de um jogadorâ€‹
GET /v3/achievementâ€‹

Leaderboard (Rankings)
Leaderboard Ã© uma classificar jogadores com base em resultados. Por exemplo: Um ranking
que mostra os 10 jogadores com mais pontos acumulados na semana atual, ordenados de
quem tem mais pontos para quem tem menos pontos. Para configurar um ranking vocÃª informa
o tÃ­tulo do ranking; a operaÃ§Ã£o de como calcular os lÃ­deres; e o perÃ­odo de apuraÃ§Ã£o.
Criar um rankingâ€‹
POST /v3/leaderboard
{
"title": "Top Players",
"operation": {
"type": 3,
"achievement_type": 0,
"item": "xp",
"sort": -1
},
"period": {
"type": 0,
"timeAmount": 1,
"timeScale": 6
},
"_id": "ranking_xp"
}
Consultar resultados do rankingâ€‹
GET /v3/leaderboard/ranking_xp/leader/aggregateâ€‹
Resetar cache do rankingâ€‹
GET /v3/leaderboard/reset

Level (NÃ­veis)
Level Ã© um sistema de evoluÃ§Ã£o para o jogador. Por exemplo: Nas artes marciais, as faixas que
vÃ£o da cor branca atÃ© a cor preta representam um sistema de nÃ­veis. VocÃª pode ter um nÃºmero
ilimitado de nÃ­veis na gamificaÃ§Ã£o. Para cada nÃ­vel vocÃª define a quantidade mÃ­nima de pontos
para chegar no nÃ­vel e tambÃ©m pode definir outros requisitos para alcanÃ§ar o nÃ­vel.

Listar nÃ­veisâ€‹
GET /v3/level
Criar nÃ­velâ€‹
POST /v3/level
{
"_id": "L0",
"level": "Apprentice",
"position": 0,
"description": "It indicates that you are learning, growing and striving to reach your goals.",
"minPoints": 10,
"techniques": ["GT85"]
}
Deletar nÃ­velâ€‹
DELETE /v3/level/:id

Virtual Goods (Itens Virtuais)
Virtual goods Ã© um mÃ³dulo para configurar lojas onde os jogadores podem adquirir itens fÃ­sicos
ou virtuais dentro da gamificaÃ§Ã£o. Por exemplo: Uma loja virtual onde os jogadores podem
trocar pontos por souvenirs; Para configurar um item vocÃª informa o nome, descriÃ§Ã£o,
quantidade disponÃ­vel do item, requisitos para comprar o item e tambÃ©m pode definir um limite
de quantos deste item o jogador pode comprar. Por exemplo: uma camiseta, que custa 15
pontos â€œmoedasâ€, e pode ser comprada apenas uma vez por mÃªs por cada jogador.
Listar catÃ¡logosâ€‹
GET /v3/virtualgoods/catalog
Criar catÃ¡logoâ€‹
POST /v3/virtualgoods/catalog
Deletar catÃ¡logoâ€‹
DELETE /v3/virtualgoods/catalog/:id
Listar itens do catÃ¡logoâ€‹
GET /v3/virtualgoods/item
Criar itemâ€‹
POST /v3/virtualgoods/item
{
"catalogId": "gifts",

"name": "Bike",
"description": "Eletric bike",
"amount": -1,
"active": true,
"requires": [{"total": 15, "type": 0, "item": "coin", "operation": 1}],
"_id": "DTj7lVn"
}
Deletar itemâ€‹
DELETE /v3/virtualgoods/item/:id
Realizar compra de itemâ€‹
POST /v3/virtualgoods/purchase
{
"player": "tom",
"item": "DTj7lVn",
"total": 1
}
Retorna status OK se a compra for bem-sucedida ou UNAUTHORIZED se houver algum
impedimento (saldo insuficiente, limite excedido etc.).

Lottery (Sorteios)
MÃ³dulo para configurar sorteios. Quando o sorteio Ã© realizado as recompensas sÃ£o dadas a um
nÃºmero de vencedores selecionado de forma aleatÃ³ria. Por exemplo: Um sorteio de uma
viagem para CancÃºn, onde temos apenas um ganhador, e o sorteio serÃ¡ realizado em uma
data estipulada pelo administrador. Para participar do sorteio vocÃª acumula cupons do sorteio,
que podem ser conquistados por exemplo realizando algum desafio especÃ­fico.
Listar sorteiosâ€‹
GET /v3/lottery
Criar sorteioâ€‹
POST /v3/lottery
{
"title": "Travel to Cancun",
"description": "7 days trip to Cancun",
"drawDate": 1690824650503,
"autoExecute": true,
"choiceMethod": "random_ticket",
"maxWinners": 1,
"maxPerPlayer": 1,

"rewards": [{"total": 1, "type": 2, "item": "flight_ticket"}],
"_id": "DTj0x5z"
}
Deletar sorteioâ€‹
DELETE /v3/lottery/:id
Listar tickets de um sorteioâ€‹
GET /v3/lottery/ticket?lottery=DTj0x5z
Criar ticket para um jogadorâ€‹
POST /v3/lottery/ticket
{
"lottery": "DTj0x5z",
"player": "tom"
}
Executar sorteio (realizar o sorteio)â€‹
GET /v3/lottery/DTj0x5z/execute
Listar ganhadoresâ€‹
GET /v3/lottery/winner?lottery=DTj0x5z
Listar participantesâ€‹
GET /v3/lottery/participants?lottery=DTj0x5z

Question (Perguntas)
MÃ³dulo para criar perguntas para os jogadores. A apresentaÃ§Ã£o da pergunta pode se dar no
formato tradicional com a pergunta e as opÃ§Ãµes de resposta abaixo, mas tambÃ©m em formatos
de mini games como por exemplo, um caÃ§a palavras, uma cruzadinha, etc. Cada pergunta
pode apresentar texto, imagens, conteÃºdos audiovisuais, e as respostas podem ser de mÃºltipla
escolha, verdadeiro ou falso, dissertaÃ§Ã£o, etc.
Listar perguntasâ€‹
GET /v3/question
Criar perguntaâ€‹
POST /v3/question
{
"_id": "64a5b2c2d8dcca49bcf7eb6e",
"type": "MULTIPLE_CHOICE",
"title": "Visual Components",

"question": "In Funifier, what is the small visual component that displays feedback?",
"choices": [
{"answer": "1", "label": "Points", "grade": 0},
{"answer": "5", "label": "Widgets", "grade": 1}
],
"select": "one_answer"
}
Deletar perguntaâ€‹
DELETE /v3/question/:id
Registrar resposta Ã  perguntaâ€‹
POST /v3/question/log
{
"question": "64a5b2c2d8dcca49bcf7eb6e",
"answer": ["5"],
"player": "tom"
}

Quiz (Prova)
MÃ³dulo para agrupar vÃ¡rias perguntas em um bloco Ãºnico a ser respondido pelos jogadores.
Como por exemplo uma prova que tem vÃ¡rias perguntas. O administrador pode definir que uma
prova vale 10 pontos, e quando o jogador responde a prova o FUNIFIER calcula o percentual
de acerto, e a nota final do jogador. Estes questionÃ¡rios tambÃ©m podem ser apresentados na
forma de mini games, como uma corrida espacial por exemplo.
Listar quizzesâ€‹
GET /v3/database/quiz
Criar quizâ€‹
POST /v3/quiz
{
"_id": "650c82fe832",
"title": "Funifier Exam",
"description": "Test your knowledge about Funifier.",
"grade": 10
}
Deletar quizâ€‹
DELETE /v3/quiz/:id

Iniciar um quizâ€‹
POST /v3/quiz/start
{
"quiz": "650c82fe832",
"player": "tom"
}
Enviar respostas (em lote)â€‹
POST /v3/question/log/bulk
[
{
"quiz": "650c82fe832",
"quiz_log": "650dc6168325771ffaa94098",
"question": "650dc4d98325771ffaa93e5e",
"answer": ["1"],
"player": "tom"
}
]
Finalizar quizâ€‹
POST /v3/quiz/finish
{
"quiz_log": "650dc6168325771ffaa94098"
}

Mystery Box (Caixa Misteriosa)
MÃ³dulo para configurar prÃªmios aleatÃ³rios. O jogador nÃ£o sabe o prÃªmio que irÃ¡ ganhar. Por
exemplo: uma raspadinha onde o jogador sÃ³ descobre se ganhou algum prÃªmio ou nÃ£o depois
de raspar a cartela; um jogo de cara ou coroa, onde existe 50% de chance para cada opÃ§Ã£o;
uma roda da fortuna, onde existem vÃ¡rias opÃ§Ãµes, algumas com prÃªmios legais e outras nem
tanto. VocÃª configura este mÃ³dulo informando um tÃ­tulo para caixa surpresa, as opÃ§Ãµes
possÃ­veis e a probabilidade de cada opÃ§Ã£o a ser escolhida pela plataforma, e as combinaÃ§Ãµes
vencedoras com seus respectivos prÃªmios.
Listar mystery boxesâ€‹
GET /v3/mystery
Criar mystery boxâ€‹
POST /v3/mystery
{
"title": "Heads or Tails",
"options": [

{"title": "Heads", "value": "heads", "probability": 0.5},
{"title": "Tails", "value": "tails", "probability": 0.5}
],
"win_chart": [
{
"combination": ["heads"],
"reward": {"total": 1, "type": 0, "item": "coin"}
}
],
"_id": "64a5b464d8dcca49bcf7edd0"
}
Deletar mystery boxâ€‹
DELETE /v3/mystery/:id
Executar mystery box (realizar sorteio aleatÃ³rio)â€‹
GET /v3/mystery/execute/:id?player=tom
A resposta indicarÃ¡ se o jogador ganhou (status: "WIN") ou nÃ£o, alÃ©m de mostrar os itens
ou pontos conquistados.

Resumo das Principais OperaÃ§Ãµes por MÃ³dulo
MÃ³dulo
Player

MÃ©todos Principais
GET / POST / PUT / DELETE /v3/player
GET /v3/player/:id/status
GET /v3/player/:id/achievements

Team

GET / POST / DELETE /v3/team
GET /v3/team/:id/memberids
GET /v3/team/:id/member/add/:player

Action

GET / POST / DELETE /v3/action

Action Log

POST /v3/action/log
POST /v3/action/log/bulk
GET /v3/action/log

Achievement

GET /v3/achievement
GET /v3/player/:id/achievements

Point

GET / POST / DELETE /v3/point

Challenge

GET / POST / DELETE /v3/challenge

Leaderboard

GET / POST / DELETE /v3/leaderboard
GET /v3/leaderboard/:id/leader/aggregate
GET /v3/leaderboard/reset

Level

GET / POST / DELETE /v3/level

Virtual Good

GET / POST / DELETE /v3/virtualgoods/catalog
GET / POST / DELETE /v3/virtualgoods/item
POST /v3/virtualgoods/purchase

Lottery

GET / POST / DELETE /v3/lottery
GET /v3/lottery/ticket
POST /v3/lottery/ticket
GET /v3/lottery/:id/execute
GET /v3/lottery/winner
GET /v3/lottery/participants

Mystery Box

GET / POST / DELETE /v3/mystery
GET /v3/mystery/execute/:id?player=:player

Question

GET / POST / DELETE /v3/question
POST /v3/question/log

Quiz

GET / POST / DELETE /v3/quiz
POST /v3/quiz/start
POST /v3/question/log/bulk
POST /v3/quiz/finish

Boas prÃ¡ticas na manipulaÃ§Ã£o de dados
â—â€‹ Valide tokens antes de qualquer operaÃ§Ã£o.
â—â€‹ Utilize GET para consultar e POST para criar dados. Nunca use GET para criar.
â—â€‹ Utilize o campo extra em jogadores, equipes e aÃ§Ãµes para armazenar informaÃ§Ãµes
personalizadas.
â—â€‹ Tenha cuidado com DELETE â€” ele realmente apaga os dados de forma irreversÃ­vel.â€‹

Resumo dos conceitos avaliados na prova
â—â€‹ CriaÃ§Ã£o e manipulaÃ§Ã£o de jogadores, equipes, aÃ§Ãµes, logs e rankings.

â—â€‹ Correta utilizaÃ§Ã£o dos mÃ©todos HTTP (GET, POST, DELETE).
â—â€‹ Conhecimento sobre campos obrigatÃ³rios e suas funÃ§Ãµes.
â—â€‹ Uso correto dos endpoints e interpretaÃ§Ã£o dos dados retornados.

7. ManipulaÃ§Ã£o de Dados com o Endpoint
Database e Aggregates
A plataforma Funifier oferece um poderoso endpoint chamado database, que permite acesso
direto Ã s coleÃ§Ãµes de dados da sua gamificaÃ§Ã£o. Com esse recurso, Ã© possÃ­vel realizar
operaÃ§Ãµes de consulta, inserÃ§Ã£o, atualizaÃ§Ã£o e remoÃ§Ã£o de registros, alÃ©m de executar
comandos de agregaÃ§Ã£o (aggregates) para gerar anÃ¡lises, relatÃ³rios e mÃ©tricas
personalizadas.
Cada gamificaÃ§Ã£o na Funifier possui seu prÃ³prio banco de dados isolado, e o endpoint
/v3/database dÃ¡ acesso total a essas informaÃ§Ãµes de forma segura e controlada.
AlÃ©m disso, a Funifier utiliza como motor de banco de dados o MongoDB, e por isso a sintaxe
dos comandos de agregaÃ§Ã£o Ã© exatamente a mesma utilizada pelo MongoDB. Isso significa
que qualquer pessoa familiarizada com o MongoDB poderÃ¡ aproveitar todo o poder desse
recurso dentro da plataforma.
O uso correto do endpoint database e dos aggregates permite extrair insights profundos,
automatizar relatÃ³rios e atÃ© criar regras de negÃ³cio personalizadas baseadas nos dados da sua
gamificaÃ§Ã£o.

7.1. IntroduÃ§Ã£o ao Endpoint Database
O endpoint /v3/database permite que vocÃª interaja diretamente com qualquer coleÃ§Ã£o de
dados da sua gamificaÃ§Ã£o. Isso inclui tanto as coleÃ§Ãµes padrÃµes da plataforma, como
jogadores, aÃ§Ãµes, desafios, conquistas e logs, quanto coleÃ§Ãµes personalizadas, criadas
conforme a necessidade de cada projeto.

O que Ã© possÃ­vel fazer com o Endpoint Database?
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Listar todas as coleÃ§Ãµes do banco de dados.
Ler dados de qualquer coleÃ§Ã£o.
Criar novos registros em qualquer coleÃ§Ã£o (inclusive objetos customizados).
Atualizar registros existentes.
Remover registros do banco.
Executar consultas complexas usando pipelines de agregaÃ§Ã£o (aggregates).â€‹

Quando usar esse recurso?
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Quando vocÃª precisa acessar dados alÃ©m das telas padrÃ£o do Studio.
Para criar relatÃ³rios customizados diretamente a partir do banco.
Para alimentar dashboards externos ou sistemas terceiros.
Para implementar regras ou verificaÃ§Ãµes especÃ­ficas que nÃ£o estÃ£o cobertas pelos
mÃ³dulos tradicionais.â€‹

Exemplo de listagem de coleÃ§Ãµes existentes:
GET /v3/database/collections

Resposta exemplo:
[
"player",
"team",
"action",
"action_log",
"achievement",
"challenge",
"point_category",
"catalog_item",
...
]
Isso mostra todas as coleÃ§Ãµes disponÃ­veis no banco da gamificaÃ§Ã£o. VocÃª pode consultar
qualquer uma delas simplesmente substituindo :collection pelo nome da coleÃ§Ã£o desejada
na URL.

7.2. OperaÃ§Ãµes CRUD no Database
O endpoint /v3/database permite executar operaÃ§Ãµes CRUD (Create, Read, Update,
Delete) diretamente nas coleÃ§Ãµes da gamificaÃ§Ã£o. Isso inclui tanto as coleÃ§Ãµes padrÃµes (como
player, team, action, achievement, etc.) quanto coleÃ§Ãµes personalizadas criadas pelo
usuÃ¡rio, como por exemplo car__c, req__c ou qualquer outro objeto customizado.
Essas operaÃ§Ãµes sÃ£o extremamente Ãºteis quando vocÃª precisa gerenciar dados, corrigir
registros ou alimentar a gamificaÃ§Ã£o com informaÃ§Ãµes externas de forma programÃ¡tica.

Listar Dados de uma ColeÃ§Ã£o (READ)
Endpoint:
GET /v3/database/:collection

DescriÃ§Ã£o:â€‹
Retorna todos os registros da coleÃ§Ã£o informada.
Exemplo:â€‹
Listar todos os jogadores da coleÃ§Ã£o player:
GET /v3/database/player
Resposta exemplo:
[
{
"_id": "john",
"name": "John Travolta",
"email": "john@funifier.com",
"teams": ["sales"],
"extra": {"country": "USA", "department": "IT"},
"created": {"$date": "2023-07-05T20:57:25.776Z"},
"updated": {"$date": "2023-07-05T20:57:25.777Z"}
}
]

Criar Dados em uma ColeÃ§Ã£o (CREATE)
Endpoint:
POST /v3/database/:collection
DescriÃ§Ã£o:â€‹
Insere um novo documento na coleÃ§Ã£o especificada.
Exemplo:â€‹
Criar um carro na coleÃ§Ã£o car__c:
POST /v3/database/car__c
Body:
{
"_id": "car001",
"name": "Civic",
"brand": "Honda",
"year": 2010,
"fuel": "gasoline",
"price": 50000,
"description": "Honda Civic"
}

Atualizar Dados de uma ColeÃ§Ã£o (UPDATE)
Endpoint:
PUT /v3/database/:collection
DescriÃ§Ã£o:â€‹
Atualiza um documento existente na coleÃ§Ã£o. Ã‰ necessÃ¡rio informar o campo _id no corpo da
requisiÃ§Ã£o para identificar o registro que serÃ¡ alterado.
Exemplo:â€‹
Atualizar o preÃ§o do carro car001:
PUT /v3/database/car__c
Body:
{
"_id": "car001",
"name": "Civic",
"brand": "Honda",
"year": 2010,
"fuel": "gasoline",
"price": 55000,
"description": "Honda Civic - updated"
}

Excluir Dados de uma ColeÃ§Ã£o (DELETE)
Endpoint:
DELETE /v3/database/:collection?q=_id:'valor_do_id'
DescriÃ§Ã£o:â€‹
Remove um documento da coleÃ§Ã£o. O filtro para exclusÃ£o Ã© passado na URL utilizando o
parÃ¢metro q, geralmente com base no campo _id.
Exemplo:â€‹
Deletar o carro com _id = car001:
DELETE /v3/database/car__c?q=_id:'car001'

InserÃ§Ã£o em Massa (BULK CREATE)
Endpoint:
POST /v3/database/:collection/bulk
DescriÃ§Ã£o:â€‹
Permite criar ou atualizar mÃºltiplos registros de uma vez.

Exemplo:â€‹
Inserir dois carros na coleÃ§Ã£o car__c:
[
{
"_id": "car002",
"name": "Corolla",
"brand": "Toyota",
"year": 2012,
"fuel": "gasoline",
"price": 70000,
"description": "Toyota Corolla"
},
{
"_id": "car003",
"name": "Model 3",
"brand": "Tesla",
"year": 2021,
"fuel": "electric",
"price": 250000,
"description": "Tesla Model 3"
}
]

Resumo dos MÃ©todos CRUD no Database:
OperaÃ§Ã£o

MÃ©todo

Create

POST

/v3/database/:collection

Cria um novo registro

Read

GET

/v3/database/:collection

Lista todos os registros da coleÃ§Ã£o

Update

PUT

/v3/database/:collection

Atualiza um registro existente (via
_id)

Delete

DELETE

/v3/database/:collection?q
=...

Remove registros com filtro na
URL

/v3/database/:collection/b

InserÃ§Ã£o ou atualizaÃ§Ã£o em massa

Bulk

POST

Endpoint

ulk

Quais ColeÃ§Ãµes posso acessar?

DescriÃ§Ã£o

VocÃª pode acessar qualquer coleÃ§Ã£o padrÃ£o da Funifier (como player, team, action_log,
achievement, challenge, leaderboard, virtualgoods, lottery, mystery_box,
quiz, question...) ou qualquer coleÃ§Ã£o personalizada criada no projeto.
AtenÃ§Ã£o:
â—â€‹ O uso desse endpoint deve ser feito com cuidado, pois altera diretamente o banco de
dados da sua gamificaÃ§Ã£o.
â—â€‹ Recomenda-se que apenas administradores ou sistemas backend utilizem esses
recursos.

7.3. Entendendo Aggregates no Funifier
O Aggregate Ã© uma poderosa funcionalidade disponÃ­vel na API da Funifier que permite realizar
consultas avanÃ§adas, gerar relatÃ³rios, criar dashboards e calcular indicadores personalizados
diretamente sobre o banco de dados da gamificaÃ§Ã£o.
O funcionamento dos aggregates no Funifier Ã© baseado na mesma lÃ³gica do pipeline de
agregaÃ§Ã£o do MongoDB, jÃ¡ que a plataforma utiliza MongoDB como banco de dados.
Portanto, qualquer pessoa que conheÃ§a MongoDB, ou que consulte a documentaÃ§Ã£o oficial de
Aggregates do MongoDB, estarÃ¡ apta a criar queries no Funifier.

Onde executar Aggregates no Funifier?
No endpoint:
POST /v3/database/:collection/aggregate
VocÃª informa na URL o nome da coleÃ§Ã£o onde o aggregate serÃ¡ executado (ex.:
achievement, action_log, player, catalog_item, challenge, ou qualquer coleÃ§Ã£o
customizada) e, no corpo da requisiÃ§Ã£o, envia a pipeline no formato JSON.

O que Ã© uma Pipeline de Aggregates?
Uma pipeline Ã© uma sequÃªncia de estÃ¡gios, onde cada estÃ¡gio transforma os dados e entrega
o resultado para o prÃ³ximo. Esse encadeamento permite construir consultas desde as mais
simples atÃ© as mais complexas.

Principais Operadores Suportados no Funifier (Base MongoDB)
Operador

DescriÃ§Ã£o

$match

Filtra documentos com base em critÃ©rios (equivalente ao
WHERE)

$group

Agrupa os dados por uma chave e permite fazer somas,
contagens, mÃ©dias, etc.

$sort

Ordena os resultados (1 = crescente, -1 = decrescente)

$limit

Limita o nÃºmero de registros retornados

$lookup

Faz um join com outra coleÃ§Ã£o

$project

Define quais campos serÃ£o exibidos e permite renomeÃ¡-los

$unwind

Desmembra arrays em mÃºltiplas linhas

$count

Conta o nÃºmero total de registros

$addFields

Adiciona campos calculados aos documentos

$regex

Filtra documentos com base em padrÃµes de texto

$sum, $avg, $min, $max,
$first, $last

OperaÃ§Ãµes dentro do $group

Exemplo de Pipeline Simples â€“ Total de Pontos XP do Jogador John
[
{ "$match": { "player": "john", "type": 0, "item": "xp" } },
{ "$group": { "_id": null, "totalXP": { "$sum": "$total" } } }
]
Resultado esperado:
[
{ "totalXP": 250 }
]

Exemplo Completo â€“ Top 10 Jogadores com Mais Pontos no MÃªs Atual
[
{ "$match": { "type": 0, "item": "xp", "time": { "$gte": { "$date": "-0M-" }, "$lte": { "$date": "-0M+" }
} } },
{ "$group": { "_id": "$player", "totalXP": { "$sum": "$total" } } },
{ "$sort": { "totalXP": -1 } },
{ "$limit": 10 },
{ "$lookup": { "from": "player", "localField": "_id", "foreignField": "_id", "as": "playerData" } },
{ "$unwind": "$playerData" },
{ "$project": { "playerId": "$_id", "playerName": "$playerData.name", "totalXP": 1, "_id": 0 } }
]

Exemplos Diversos Usando de Regex

EXEMPLO

DESCRIÃ‡ÃƒO

name:{$regex:'dani', $options:'i'}

Todos os nomes que possuam a palavra
dani em alguma posiÃ§Ã£o. Exemplo Paula
Danielly por exemplo entraria no
resultado.

name:{$regex:'^dani', $options:'i'}

Todos os nomes que comeÃ§am com dani.
Exemplo DANILA ALVES DE CARVALHO.
Obs. Paula Danielly NÃƒO entraria no
resultado.

name:{$regex:'rosa$', $options:'i'}

Todos os nomes que terminam com rosa.
Exemplo FAGNER ALEXANDER ROSA.

name:{$regex:'[0-9]', $options:'i'}

Apenas nomes que tenham algum
nÃºmero. Exemplo 00910734801 ou TRT
1A REGIAO

name:{$regex:'^[0-9]+$', $options:'i'}

Apenas nomes compostos exclusivamente
de nÃºmeros. Exemplo 00910734801

name:{$regex:'^[a-zA-Z]+$', $options:'i'}

Apenas nomes compostos exclusivamente
de letras. Exemplo Vasconcelos

name:{$regex:'^((?!DANIELE).)*$', $options:'i'}

Todos os nomes que NÃƒO contenha a
palavra DANIELE.

Entendendo cada estÃ¡gio:
1.â€‹ $match â†’ Filtra apenas conquistas de pontos XP dentro do mÃªs atual.
2.â€‹ $group â†’ Agrupa por jogador, somando seus pontos.
3.â€‹ $sort â†’ Ordena do maior para o menor total de pontos.
4.â€‹ $limit â†’ Pega apenas os 10 primeiros.
5.â€‹ $lookup â†’ Faz um join com a coleÃ§Ã£o player para trazer o nome dos jogadores.
6.â€‹ $unwind â†’ Desfaz o array gerado pelo lookup.
7.â€‹ $project â†’ Define quais campos aparecem no resultado.â€‹

ExpressÃµes de Data no Funifier
O Funifier tem uma extensÃ£o sobre MongoDB que permite usar expressÃµes de datas
relativas diretamente nos filtros:
ExpressÃ£o

Significado

-0d-

InÃ­cio do dia atual (00:00:00)

-0d+

Fim do dia atual (23:59:59)

-1d-

InÃ­cio do dia anterior

-1d+

Fim do dia anterior

-0w-

InÃ­cio da semana atual

-0w+

Fim da semana atual

-0M-

InÃ­cio do mÃªs atual

-0M+

Fim do mÃªs atual

-0y-

InÃ­cio do ano atual

-0y+

Fim do ano atual

Por que usar Aggregates no Funifier?
â—â€‹ Gerar relatÃ³rios de desempenho dos jogadores.
â—â€‹ Construir dashboards customizados.
â—â€‹ Obter insights de negÃ³cios, como produtos mais vendidos, desafios mais concluÃ­dos, ou
rankings personalizados.
â—â€‹ Criar automaÃ§Ãµes e regras complexas sem depender de desenvolvimento externo.â€‹
â€‹

7.4. Principais Exemplos de Aggregates no Funifier
Para te ajudar a entender na prÃ¡tica como utilizar a funcionalidade de Aggregates no Funifier,
aqui estÃ£o alguns dos exemplos mais comuns e poderosos aplicados em projetos reais. Estes
exemplos mostram como vocÃª pode criar relatÃ³rios, dashboards, e extrair insights valiosos
sobre o comportamento dos jogadores, vendas, uso da plataforma, e muito mais.

Exemplo 1 â€“ Top 10 Jogadores com Mais Pontos XP no MÃªs Atual
Endpoint: POST /v3/database/achievement/aggregate
DescriÃ§Ã£o: Este aggregate retorna os 10 jogadores que mais acumularam pontos do tipo "XP"
no mÃªs atual.
[
{
"$match": {

"type": 0,
"item": "xp",
"time": {
"$gte": { "$date": "-0M-" },
"$lte": { "$date": "-0M+" }
}
}
},
{ "$group": { "_id": "$player", "totalXP": { "$sum": "$total" } } },
{ "$sort": { "totalXP": -1 } },
{ "$limit": 10 },
{
"$lookup": {
"from": "player",
"localField": "_id",
"foreignField": "_id",
"as": "playerData"
}
},
{ "$unwind": "$playerData" },
{
"$project": {
"playerId": "$_id",
"playerName": "$playerData.name",
"totalXP": 1,
"_id": 0
}
}
]

Exemplo 2 â€“ Total de Jogadores que Completaram um Desafio EspecÃ­fico
Endpoint: POST /v3/database/achievement/aggregate
DescriÃ§Ã£o: Conta quantos jogadores Ãºnicos completaram o desafio com ID "DTo8dS3".
[
{ "$match": { "type": 1, "item": "DTo8dS3" } },
{ "$group": { "_id": "$player", "challenge": { "$first": "$item" } } },
{ "$group": { "_id": "$challenge", "totalPlayers": { "$sum": 1 } } },
{
"$lookup": {
"from": "challenge",
"localField": "_id",
"foreignField": "_id",
"as": "c"

}
},
{
"$project": {
"_id": 1,
"totalPlayers": 1,
"challengeName": { "$first": "$c.challenge" }
}
}
]

Exemplo 3 â€“ MÃ©dia de Pontos XP dos Jogadores em Agosto de 2023
Endpoint: POST /v3/database/achievement/aggregate
DescriÃ§Ã£o: Calcula a mÃ©dia dos pontos XP ganhos pelos jogadores em agosto de 2023.
[
{
"$match": {
"type": 0,
"item": "xp",
"time": {
"$gte": { "$date": "2023-08-01T00:00:00.000Z" },
"$lte": { "$date": "2023-08-31T23:59:59.999Z" }
}
}
},
{ "$group": { "_id": "$player", "averageXP": { "$avg": "$total" } } }
]

Exemplo 4 â€“ Top 3 Itens Mais Vendidos na Loja Virtual no Ano Atual
Endpoint: POST /v3/database/achievement/aggregate
DescriÃ§Ã£o: Consulta quais itens foram mais adquiridos no ano atual.
[
{
"$match": {
"type": 2,
"time": {
"$gte": { "$date": "-0y-" },
"$lte": { "$date": "-0y+" }
}
}
},
{ "$group": { "_id": "$item", "totalSold": { "$sum": "$total" } } },

{
"$lookup": {
"from": "catalog_item",
"localField": "_id",
"foreignField": "_id",
"as": "itemData"
}
},
{
"$project": {
"_id": 1,
"itemName": { "$first": "$itemData.name" },
"totalSold": 1
}
},
{ "$sort": { "totalSold": -1 } },
{ "$limit": 3 }
]

Exemplo 5 â€“ Jogadores que Executaram AÃ§Ãµes Ontem
Endpoint: POST /v3/database/action_log/aggregate
DescriÃ§Ã£o: Lista os jogadores que realizaram qualquer aÃ§Ã£o no dia anterior.
[
{
"$match": {
"time": {
"$gte": { "$date": "-1d-" },
"$lte": { "$date": "-1d+" }
}
}
},
{ "$group": { "_id": "$userId" } },
{
"$lookup": {
"from": "player",
"localField": "_id",
"foreignField": "_id",
"as": "playerData"
}
},
{
"$project": {
"_id": 1,

"playerName": { "$first": "$playerData.name" }
}
}
]

Exemplo 6 â€“ Jogadores com Mais de 1000 XP no Total
Endpoint: POST /v3/database/achievement/aggregate
DescriÃ§Ã£o: Verifica quantos jogadores possuem mais de 1000 pontos XP acumulados.
[
{ "$match": { "type": 0, "item": "xp" } },
{ "$group": { "_id": "$player", "totalXP": { "$sum": "$total" } } },
{ "$match": { "totalXP": { "$gte": 1000 } } },
{ "$count": "playersWithOver1000XP" }
]

Exemplo 7 â€“ Listagem de Vendas de Produto "Bike" com PreÃ§o Maior que
500
Endpoint: POST /v3/database/action_log/aggregate
DescriÃ§Ã£o: Lista vendas especÃ­ficas de bicicletas com preÃ§o igual ou superior a 500.
[
{
"$match": {
"actionId": "sell",
"attributes.product": "bike",
"attributes.price": { "$gte": 500 }
}
}
]

ObservaÃ§Ã£o Importante:
Os comandos aggregates sÃ£o executados diretamente no banco de dados da sua gamificaÃ§Ã£o,
portanto sÃ£o extremamente poderosos e devem ser utilizados com responsabilidade,
principalmente quando envolvem atualizaÃ§Ãµes ou consultas em grandes volumes de dados.

7.5. ExpressÃµes de Data no Funifier â€“ Como Utilizar
Correto nos Aggregates
Ao trabalhar com aggregates no Funifier, vocÃª frequentemente precisarÃ¡ filtrar informaÃ§Ãµes
com base em datas, como: "aÃ§Ãµes realizadas ontem", "pontos conquistados este mÃªs" ou "itens
vendidos no ano passado".

O Funifier facilita esse tipo de consulta ao permitir o uso de expressÃµes de data simplificadas
no lugar de datas absolutas, eliminando a necessidade de calcular manualmente os
timestamps.

Sintaxe das ExpressÃµes de Data
As expressÃµes sÃ£o compostas de 3 partes obrigatÃ³rias e uma opcional:
Parte

DescriÃ§Ã£o

Sinal (+/-)

Indica se a data Ã© relativa ao futuro (+) ou passado (-).

Unidade

Unidade de tempo: d (dia), w (semana), M (mÃªs), y (ano).

Quantidade

Quantidade de unidades de tempo.

PrecisÃ£o (+/-)

(Opcional) Se inclui um segundo sinal para arredondar para o inÃ­cio (-) ou final (+)
da unidade.

Exemplos e Significados
ExpressÃ£o

Significado

-0d-

Hoje, Ã s 00:00:00 (inÃ­cio do dia).

-0d+

Hoje, Ã s 23:59:59 (final do dia).

-1d

Exatamente 24h atrÃ¡s do momento atual.

-1d-

00:00:00 de ontem.

-1d+

23:59:59 de ontem.

-0w-

InÃ­cio da semana atual.

-0w+

Final da semana atual.

-1w-

InÃ­cio da semana passada.

-1w+

Final da semana passada.

-0M-

Primeiro dia do mÃªs atual Ã s 00:00:00.

-0M+

Ãšltimo dia do mÃªs atual Ã s 23:59:59.

-1M-

InÃ­cio do mÃªs passado.

-1M+

Final do mÃªs passado.

-0y-

InÃ­cio do ano atual.

-0y+

Final do ano atual.

Como Usar nas Queries Aggregate
As expressÃµes sÃ£o inseridas dentro de operadores de comparaÃ§Ã£o de data, como $gte (maior
ou igual) e $lte (menor ou igual).
Exemplo: AÃ§Ãµes realizadas ontem
[
{
"$match": {
"time": {
"$gte": { "$date": "-1d-" },
"$lte": { "$date": "-1d+" }
}
}
}
]
Exemplo: Total de pontos XP acumulados este mÃªs
[
{
"$match": {
"type": 0,
"item": "xp",
"time": {
"$gte": { "$date": "-0M-" },
"$lte": { "$date": "-0M+" }
}
}
},
{
"$group": { "_id": "$player", "totalXP": { "$sum": "$total" } }
}
]
Exemplo: Itens vendidos no ano atual
[
{
"$match": {
"type": 2,
"time": {

"$gte": { "$date": "-0y-" },
"$lte": { "$date": "-0y+" }
}
}
},
{
"$group": { "_id": "$item", "totalSold": { "$sum": "$total" } }
}
]

Por que usar expressÃµes de data?
â—â€‹ Evita erros manuais com datas fixas.
â—â€‹ Permite criar relatÃ³rios dinÃ¢micos e permanentes (ex.: â€œsempre o mÃªs atualâ€).
â—â€‹ Facilita automaÃ§Ãµes, dashboards e notificaÃ§Ãµes periÃ³dicas.

DocumentaÃ§Ã£o complementar
â—â€‹

ğŸ”— MongoDB Aggregation Pipelineâ€‹

7.6. Cuidados e Boas PrÃ¡ticas ao Usar Aggregates no
Funifier
O uso de aggregates no Funifier Ã© extremamente poderoso e flexÃ­vel, permitindo realizar
anÃ¡lises, relatÃ³rios avanÃ§ados e manipulaÃ§Ãµes de dados diretamente sobre qualquer coleÃ§Ã£o
do banco de dados da gamificaÃ§Ã£o. Contudo, Ã© fundamental seguir boas prÃ¡ticas para garantir
seguranÃ§a, desempenho e estabilidade tanto da sua gamificaÃ§Ã£o quanto da plataforma.

1. SeguranÃ§a e LimitaÃ§Ã£o de Acesso
â—â€‹ O endpoint /v3/database/:collection/aggregate permite acesso total Ã s
coleÃ§Ãµes do banco de dados da gamificaÃ§Ã£o.
â—â€‹ Utilize este recurso com cautela, principalmente se vocÃª estiver expondo endpoints para
frontends, apps ou integraÃ§Ãµes externas.
â—â€‹ Sempre que possÃ­vel, proteja essas requisiÃ§Ãµes usando servidores intermediÃ¡rios
(backend prÃ³prio ou middleware) para evitar que usuÃ¡rios finais executem queries
diretamente no banco.â€‹

2. Cuidado com o Volume de Dados
â—â€‹ Aggregates sÃ£o processados diretamente sobre os dados da sua gamificaÃ§Ã£o.
Consultas sem filtros podem gerar grandes volumes de dados processados, impactando
o desempenho.
â—â€‹ Sempre utilize operadores como $match, $limit ou filtros especÃ­ficos nas suas
consultas para reduzir a carga no banco.

â—â€‹ Para relatÃ³rios histÃ³ricos de longo prazo, prefira criar rotinas periÃ³dicas (com
Scheduler) que consolidam os dados e salvam os resultados em coleÃ§Ãµes prÃ³prias,
em vez de executar aggregates pesados em tempo real.â€‹

3. Entenda Como Funciona o Cache do Sistema
â—â€‹ Aggregates nÃ£o usam cache interno da plataforma, diferentemente de mÃ³dulos como
Leaderboard. Isso significa que cada aggregate executado faz leitura e
processamento diretamente na base de dados no momento da requisiÃ§Ã£o.
â—â€‹ Use aggregates para relatÃ³rios, dashboards administrativos ou anÃ¡lises, mas evite
utilizÃ¡-los como base para feedbacks em tempo real aos jogadores (neste caso, prefira
usar Leaderboard, Status, Progress Log ou Achievement).â€‹

4. Boas PrÃ¡ticas de ConstruÃ§Ã£o dos Aggregates
â—â€‹ Sempre comece com um $match para filtrar os dados o mÃ¡ximo possÃ­vel.
â—â€‹ Utilize $group, $sum, $avg, $count, $lookup e $project com moderaÃ§Ã£o e
propÃ³sito bem definido.
â—â€‹ Ao usar $lookup, esteja ciente de que ele realiza um "join" entre coleÃ§Ãµes. Isso pode
ser custoso em bases muito grandes.
â—â€‹ Prefira sempre limitar o resultado com $limit se possÃ­vel, especialmente em consultas
que retornam rankings, listas ou anÃ¡lises temporais.â€‹

5. Armazene Resultados Quando Faz Sentido
â—â€‹ Se vocÃª precisa de um relatÃ³rio que serÃ¡ consultado muitas vezes, vale considerar
rodar o aggregate uma vez (manualmente ou com Scheduler) e armazenar os
resultados em uma coleÃ§Ã£o customizada (Custom Object).
â—â€‹ Isso reduz drasticamente o custo computacional de consultas repetidas.â€‹

6. DocumentaÃ§Ã£o e ManutenÃ§Ã£o
â—â€‹ Documente seus aggregates, especialmente os mais complexos.
â—â€‹ Mantenha arquivos JSON ou scripts versionados com os aggregates usados na sua
operaÃ§Ã£o.
â—â€‹ Se a estrutura dos dados mudar (ex.: alteraÃ§Ã£o no nome de atributos), revise os
aggregates para garantir que continuem funcionando corretamente.â€‹

7. Tenha AtenÃ§Ã£o com ExpressÃµes de Data
â—â€‹ As expressÃµes de data do Funifier (-0d-, -0M+, etc.) sÃ£o extremamente Ãºteis, mas
precisam ser usadas corretamente.
â—â€‹ Um erro comum Ã© esquecer de definir corretamente o intervalo, o que pode resultar em
aggregates muito pesados por abranger um perÃ­odo maior do que o necessÃ¡rio.â€‹

8. Evite Usar para FunÃ§Ãµes que JÃ¡ Existem Prontas

â—â€‹ Para cÃ¡lculos de status, progresso ou conquistas, utilize os endpoints especÃ­ficos da
plataforma como /v3/player/:id/status, /v3/player/:id/achievements ou
Leaderboard.
â—â€‹ Use aggregates quando realmente precisar de consultas especÃ­ficas, personalizadas ou
cruzamento de dados que os endpoints padrÃµes nÃ£o atendem.â€‹

8. Desenvolvimento de Interfaces GrÃ¡ficas
A plataforma Funifier oferece uma API completa que permite aos desenvolvedores criar
qualquer tipo de interface grÃ¡fica, utilizando a linguagem de desenvolvimento de sua
preferÃªncia. Toda a lÃ³gica de gamificaÃ§Ã£o fica centralizada na Funifier Engine, enquanto a
apresentaÃ§Ã£o e a experiÃªncia do usuÃ¡rio podem ser personalizadas e distribuÃ­das em sites,
aplicativos, portais internos, dashboards ou qualquer outro ambiente.
A criaÃ§Ã£o das interfaces Ã© feita atravÃ©s de chamadas para a Funifier API (REST API), e para
facilitar esse processo, a prÃ³pria plataforma disponibiliza uma ferramenta chamada Request,
acessÃ­vel diretamente no Studio (https://my.funifier.com/studio/request). Essa ferramenta
permite nÃ£o sÃ³ testar requisiÃ§Ãµes, como tambÃ©m gerar automaticamente o cÃ³digo de
integraÃ§Ã£o em diferentes linguagens, como Java (Unirest), Javascript (AngularJS, jQuery) e
outras.
AlÃ©m disso, a plataforma Funifier conta com um sistema de Widgets, que sÃ£o blocos de
interface compostos por HTML, CSS e JavaScript, encapsulados e hospedados na prÃ³pria
Funifier. Esses widgets podem ser facilmente incorporados em qualquer sistema web,
facilitando a construÃ§Ã£o de elementos como rankings, dashboards de status, listas de desafios,
lojas virtuais e muito mais.
Seja criando interfaces do zero, utilizando chamadas diretas na API, ou desenvolvendo
componentes reutilizÃ¡veis na forma de Widgets, os desenvolvedores tÃªm total liberdade para
criar experiÃªncias customizadas, responsivas e integradas aos objetivos da gamificaÃ§Ã£o.

8.1. Estrutura das Interfaces na Funifier: OpÃ§Ãµes e
Possibilidades
Ao desenvolver interfaces para uma gamificaÃ§Ã£o na Funifier, o desenvolvedor possui total
flexibilidade para escolher como deseja entregar a experiÃªncia visual ao usuÃ¡rio. Existem
basicamente duas abordagens principais:

1. Interfaces Personalizadas usando a API
â—â€‹ O desenvolvedor cria toda a interface grÃ¡fica utilizando qualquer linguagem ou
framework frontend (HTML, CSS, JavaScript, React, Angular, Vue, Next, etc.).

â—â€‹ A interface se comunica diretamente com a Funifier REST API, consumindo endpoints
para operaÃ§Ãµes como autenticaÃ§Ã£o, registros de aÃ§Ãµes, consulta de status, pontos,
desafios, rankings, loja, sorteios e muito mais.
â—â€‹ Este modelo Ã© ideal para quem deseja criar experiÃªncias 100% customizadas,
responsivas e alinhadas com o design da aplicaÃ§Ã£o ou site.â€‹

2. Uso de Widgets Nativos da Funifier
â—â€‹ Widgets sÃ£o blocos de interface prontos, compostos por HTML, CSS e JavaScript,
hospedados na prÃ³pria Funifier.
â—â€‹ Eles podem ser embutidos em qualquer sistema web, bastando inserir um pequeno
script.
â—â€‹ A manutenÃ§Ã£o visual e lÃ³gica do widget pode ser feita dentro do prÃ³prio Studio
Funifier, sem necessidade de alteraÃ§Ãµes no cÃ³digo do sistema externo.
â—â€‹ Ideal para acelerar o desenvolvimento, garantindo padronizaÃ§Ã£o e facilidade na
manutenÃ§Ã£o.â€‹

Liberdade Total no Desenvolvimento
â—â€‹ Se vocÃª domina HTML e JavaScript, pode construir qualquer coisa.
â—â€‹ Se vocÃª prefere frameworks como Angular, React ou Vue, a API te entrega todos os
dados.
â—â€‹ Se deseja uma soluÃ§Ã£o prÃ¡tica, pode usar Widgets.
â—â€‹ NÃ£o importa o caminho, o backend da gamificaÃ§Ã£o estarÃ¡ sempre rodando na Funifier
Engine, oferecendo dados atualizados, regras de negÃ³cio e persistÃªncia dos registros.

Exemplos de AplicaÃ§Ãµes que Podem ser ConstruÃ­das:
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Portais de colaboradores com dashboards gamificados.
Aplicativos mobile de incentivo.
Sistemas de loja de recompensas internas.
Rankings pÃºblicos de desafios.
Ãreas de perfil com acompanhamento de progresso.
Jogos simples, simuladores e experiÃªncias interativas.

8.2. Como Usar a Ferramenta Request para Gerar CÃ³digo
de IntegraÃ§Ã£o
A Funifier disponibiliza, dentro do Studio, uma ferramenta extremamente Ãºtil chamada
Request, localizada no menu principal. Essa ferramenta foi criada para simplificar a vida dos
desenvolvedores, permitindo que eles testem qualquer endpoint da API e, alÃ©m disso, gerem
automaticamente o cÃ³digo de integraÃ§Ã£o em diferentes linguagens de programaÃ§Ã£o.
Essa funcionalidade nÃ£o sÃ³ acelera o desenvolvimento, como tambÃ©m elimina erros comuns
que podem ocorrer na construÃ§Ã£o manual das requisiÃ§Ãµes, especialmente na montagem dos
headers de autenticaÃ§Ã£o, corpo da requisiÃ§Ã£o (payload) e parÃ¢metros.

Principais Funcionalidades da Ferramenta Request
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Testar qualquer endpoint da API da Funifier.
Visualizar de forma clara a URL, os headers, o body e a resposta da API.
Gerar automaticamente o cÃ³digo da requisiÃ§Ã£o em diferentes linguagens.
Validar se os dados estÃ£o sendo enviados corretamente.
Visualizar a resposta da API de forma formatada (JSON prettify).
Depurar chamadas antes de implementar na aplicaÃ§Ã£o real.

LocalizaÃ§Ã£o da Ferramenta Request no Studio
â—â€‹ Acesse: https://my.funifier.com/studio/request
â—â€‹ No menu lateral esquerdo, clique em Request.

Passos para Utilizar a Ferramenta Request
1.â€‹ Selecione o MÃ©todo HTTP:
â—‹â€‹ GET, POST, PUT ou DELETE.â€‹
2.â€‹ Informe o Endpoint:
â—‹â€‹ Exemplo: /v3/player para criar um jogador ou /v3/action/log para
registrar uma aÃ§Ã£o.â€‹
3.â€‹ Preencha os Headers:
â—‹â€‹ A aba de Headers jÃ¡ traz campos automÃ¡ticos, como:
â– â€‹ Authorization: onde vocÃª informa seu token (Basic ou Bearer).
â– â€‹ Content-Type: geralmente application/json.â€‹
4.â€‹ Monte o Request Body (quando necessÃ¡rio):
â—‹â€‹ Exemplo de JSON para criaÃ§Ã£o de um jogador:
{
"_id": "john",
"name": "John Travolta",
"email": "john@example.com"
}
5.â€‹ Execute a RequisiÃ§Ã£o:
â—‹â€‹ Clique no botÃ£o Send Request e veja a resposta retornada da API.â€‹
6.â€‹ Aba CODE:
â—‹â€‹ ApÃ³s enviar a requisiÃ§Ã£o, acesse a aba Code.
â—‹â€‹ Aqui vocÃª verÃ¡ o cÃ³digo gerado automaticamente em vÃ¡rias linguagens, como:
â– â€‹ Java (Unirest)
â– â€‹ JavaScript (jQuery)
â– â€‹ JavaScript (AngularJS)

â– â€‹ Node.js (Axios)
â– â€‹ Shell (cURL)

Exemplo Gerado â€“ Registro de uma AÃ§Ã£o (Action Log)
Selecionando na aba Code â€“ JavaScript (jQuery):
var settings = {
"url": "https://service2.funifier.com/v3/action/log",
"method": "POST",
"timeout": 0,
"headers": {
"Authorization": "Basic YOUR_TOKEN_HERE",
"Content-Type": "application/json"
},
"data": JSON.stringify({
"actionId": "sell",
"userId": "john",
"attributes": {
"product": "bike",
"price": 1200
}
}),
};
$.ajax(settings).done(function (response) {
console.log(response);
});

Selecionando na aba Code â€“ Java (Unirest):
HttpResponse<String> response = Unirest.post("https://service2.funifier.com/v3/action/log")
.header("Authorization", "Basic YOUR_TOKEN_HERE")
.header("Content-Type", "application/json")
.body("{\"actionId\":\"sell\",\"userId\":\"john\",\"attributes\":{\"product\":\"bike\",\"price\":1200}}")
.asString();

Vantagens de Usar a Aba Code
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Economiza tempo na construÃ§Ã£o das integraÃ§Ãµes.
Reduz erros de sintaxe e autenticaÃ§Ã£o.
Serve como documentaÃ§Ã£o viva para os desenvolvedores.
Perfeito para criar snippets e incluir no seu projeto rapidamente.

DICA PRO

Se vocÃª estÃ¡ criando um widget ou uma interface customizada, pode testar todas as chamadas
na aba Request, validar a resposta, e depois simplesmente copiar o cÃ³digo pronto da aba
Code para utilizar na sua aplicaÃ§Ã£o.

8.3. IntroduÃ§Ã£o aos Widgets Funifier: O que sÃ£o e como
funcionam
Os Widgets Funifier sÃ£o componentes grÃ¡ficos prontos que podem ser inseridos diretamente
em qualquer pÃ¡gina web. Eles sÃ£o responsÃ¡veis por exibir de forma visual informaÃ§Ãµes da
gamificaÃ§Ã£o, como rankings, status do jogador, lista de desafios, loja virtual, entre outros
elementos interativos.
Cada widget Ã© composto por trÃªs partes fundamentais:
â—â€‹ HTML: Estrutura visual.
â—â€‹ CSS: Estilo e aparÃªncia.
â—â€‹ JavaScript: LÃ³gica de interaÃ§Ã£o, busca de dados na API e dinÃ¢micas de exibiÃ§Ã£o.â€‹
AlÃ©m disso, o Funifier permite que os widgets tenham integraÃ§Ã£o com recursos externos, como
bibliotecas JavaScript (AngularJS, jQuery, etc.), garantindo flexibilidade total para os
desenvolvedores.

O que Ã© um Widget no Funifier?
â—â€‹ Um bloco de interface que representa uma tÃ©cnica de gamificaÃ§Ã£o.
â—â€‹ Pode ser embutido dentro de qualquer pÃ¡gina HTML, intranet, plataforma web ou
sistema.
â—â€‹ Ã‰ atualizado dinamicamente pelos dados da API da Funifier.
â—â€‹ Pode ser facilmente alterado diretamente pelo Studio, sem precisar acessar ou alterar o
cÃ³digo do seu site.

Componentes de um Widget
1.â€‹ HTML: Define a estrutura e os elementos visuais do widget.
2.â€‹ CSS: ResponsÃ¡vel pela aparÃªncia, como cores, tamanhos, fontes e espaÃ§amentos.
3.â€‹ JavaScript: Faz chamadas Ã  API, processa os dados e exibe os resultados
dinamicamente.
4.â€‹ Recursos Externos (Opcional): DependÃªncias como AngularJS, jQuery ou bibliotecas
de grÃ¡ficos.

Biblioteca JavaScript da Funifier
A Funifier fornece uma biblioteca JavaScript que simplifica a comunicaÃ§Ã£o entre os widgets e a
API.
Principais mÃ©todos:
â—â€‹ Funifier.config.service: Retorna a URL base da API REST.

â—â€‹ Funifier.auth.getAuthorization(): Retorna o token de autenticaÃ§Ã£o ativo.
â—â€‹ Funifier.widget.render({widget, selector, bind}): Renderiza o widget
especificado dentro do seletor indicado na pÃ¡gina HTML.

Exemplo Simples â€“ Widget de Mensagem
JavaScript:
function sayHello() {
alert("Hello Funifier World!");
}
HTML:
<button onclick="sayHello()">Say Hello</button>
CSS:
button {
padding: 10px 20px;
border-radius: 5px;
font-size: 16px;
cursor: pointer;
}

Exemplo â€“ Widget Status do Jogador
Este widget exibe o nome e a imagem do jogador autenticado.
JavaScript:
angular.module('status', []).controller('status', ["$scope", "$http", function ($scope, $http) {
$scope.load = function() {
$http({
method: "GET",
url: Funifier.config.service + '/v3/player/me',
headers: {"Authorization": Funifier.auth.getAuthorization()}
}).then(function(response){
$scope.player = response.data;
});
};
$scope.load();
}]);
setTimeout(function () {
var element = angular.element(document.getElementById('status'));
if (!element.injector()) {
angular.bootstrap(element, ['status']);
}
}, 10);

HTML:
<div id="status" ng-controller="status">
<h1>
<img ng-if="player.image.original.url" ng-src="{{player.image.original.url}}"
class="profile-image" />
{{player.name}}
</h1>
</div>
CSS:
.profile-image {
width: 100px;
border-radius: 50%;
}
DependÃªncias:
["https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"]
â€‹

8.4. Como Criar um Widget no Funifier Studio e Publicar:
Passo a Passo
Criar um widget no Funifier Studio Ã© uma maneira prÃ¡tica e poderosa de gerar componentes
visuais para sua gamificaÃ§Ã£o, sem a necessidade de depender exclusivamente de
desenvolvedores backend. Esses widgets podem ser embutidos em qualquer site, sistema web,
intranet ou plataforma que suporte HTML.

Passo 1 â€“ Acesse a Ãrea de Widgets
1.â€‹ Acesse https://my.funifier.com e entre na sua gamificaÃ§Ã£o.
2.â€‹ No menu lateral, clique em â€œWidgetsâ€.
3.â€‹ VocÃª verÃ¡ a lista de widgets jÃ¡ existentes na sua gamificaÃ§Ã£o.

Passo 2 â€“ Criar um Novo Widget
1.â€‹ Clique no botÃ£o â€œ+ Novo Widgetâ€ no canto superior direito.
2.â€‹ Preencha as informaÃ§Ãµes bÃ¡sicas do widget:
â—‹â€‹ ID: Nome Ãºnico e sem espaÃ§os. Ex.: rankingSales.
â—‹â€‹ TÃ­tulo: Nome descritivo. Ex.: Ranking de Vendas.
â—‹â€‹ DescriÃ§Ã£o: (Opcional) Explique o que o widget faz.
â—‹â€‹ Imagem: (Opcional) Adicione uma imagem ilustrativa do widget.

â—‹â€‹ TÃ©cnicas de Jogo: Relacione tÃ©cnicas como Leaderboard, Status, Store,
etc.

Passo 3 â€“ Escrevendo o CÃ³digo
O widget possui trÃªs Ã¡reas principais de desenvolvimento:
â—â€‹ HTML: Estrutura do conteÃºdo visual.
â—â€‹ CSS: Estilo visual do conteÃºdo.
â—â€‹ JavaScript: LÃ³gica de comportamento e conexÃ£o com a API.â€‹
DICA: VocÃª pode gerar parte do cÃ³digo JavaScript diretamente usando a
ferramenta Request, na aba â€œCodeâ€, escolhendo linguagens como AngularJS,
JQuery, Java (Unirest) ou outras.

Passo 4 â€“ Adicionar Recursos Externos (Se NecessÃ¡rio)
Se seu widget depende de bibliotecas externas (ex.: AngularJS, ChartJS, JQuery), inclua os
links no campo â€œResourcesâ€.
Exemplo:
["https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"]

Passo 5 â€“ Adicionar TraduÃ§Ãµes (i18n)
Se seu widget possui textos fixos (como â€œPontosâ€, â€œDesafiosâ€, â€œRankingâ€), vocÃª pode criar
traduÃ§Ãµes diretamente na aba de internacionalizaÃ§Ã£o:
â—â€‹ Clique em â€œ+ Novo Localeâ€, adicione idiomas como en-US, pt-BR ou es-ES.
â—â€‹ Informe as chaves e os textos em cada idioma.â€‹
Exemplo:
Key

pt-BR

en-US

title

Ranking

Ranking

pointsLabel

Pontos

Points

Passo 6 â€“ Teste e Preview
1.â€‹ Clique na aba â€œPreviewâ€.
2.â€‹ Clique em â€œRunâ€ para ver como seu widget serÃ¡ renderizado.
3.â€‹ Valide se tudo estÃ¡ funcionando corretamente, incluindo autenticaÃ§Ã£o, API, dados
dinÃ¢micos e responsividade.

Passo 7 â€“ Publicar e Instalar
Depois de salvar, seu widget estÃ¡ pronto para ser instalado em qualquer pÃ¡gina web.

Exemplo de InstalaÃ§Ã£o â€“ Html Simples:
<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Ranking Vendas</title>
<script src="https://client2.funifier.com/v3/funifier.js"></script>
</head>
<body>
<div id="widget"></div>
<script>
Funifier.init({apiKey:"YOUR_API_KEY", service:"https://service2.funifier.com"}, function(){
Funifier.auth.setAuthorization("Basic YOUR_TOKEN");
Funifier.widget.render({widget:"rankingSales", selector:"#widget", bind:"replace"});
});
</script>
</body>
</html>

Exemplo de InstalaÃ§Ã£o â€“ Script Inline AssÃ­ncrono
(function() {
var s = document.createElement('script');
s.type = 'text/javascript';
s.async = true;
s.src = 'https://client2.funifier.com/v3/funifier.js';
s.onload = function() {
Funifier.init({apiKey:"YOUR_API_KEY", service:"https://service2.funifier.com"}, function(){
Funifier.auth.setAuthorization("Basic YOUR_TOKEN");
Funifier.widget.render({widget:"RankingRicardo", selector:"#widget", bind:"replace"});
});
};
document.head.appendChild(s);
})();

Vantagens de Usar Widgets
â—â€‹ Portabilidade: Atualize o widget no Studio e ele se atualiza automaticamente em todos
os sistemas onde estiver instalado.
â—â€‹ Sem dependÃªncia do backend: Toda a lÃ³gica Ã© frontend, consumindo diretamente a
API Funifier.
â—â€‹ RÃ¡pida implementaÃ§Ã£o: Ideal para MVPs, testes e produÃ§Ã£o.
â—â€‹ InternacionalizaÃ§Ã£o: Nativo, com suporte a mÃºltiplos idiomas.

8.5. Construindo Interfaces com Chamadas Diretas na
API
Embora os Widgets Funifier sejam uma maneira prÃ¡tica e rÃ¡pida de criar interfaces grÃ¡ficas,
eles nÃ£o sÃ£o obrigatÃ³rios. VocÃª pode construir suas prÃ³prias interfaces do zero, utilizando
qualquer framework, biblioteca ou linguagem de programaÃ§Ã£o de sua preferÃªncia â€” como
React, Angular, Vue.js, Next.js, Node.js, PHP, Python, ou atÃ© mesmo HTML + JavaScript puro.
Ao construir a interface diretamente, toda a comunicaÃ§Ã£o com a gamificaÃ§Ã£o serÃ¡ feita
utilizando requisiÃ§Ãµes HTTP para a Funifier API (REST API). Isso garante total liberdade de
design, comportamento e integraÃ§Ã£o com seus sistemas internos ou externos.

Quando Usar Interfaces sem Widgets
â—â€‹ Quando deseja criar uma interface totalmente personalizada.
â—â€‹ Quando o projeto exige controle total sobre o design, interatividade ou experiÃªncia do
usuÃ¡rio.
â—â€‹ Para integrar diretamente a gamificaÃ§Ã£o em aplicativos, plataformas proprietÃ¡rias,
dashboards internos ou sites externos.
â—â€‹ Quando quer evitar dependÃªncias visuais ou tÃ©cnicas do sistema de widgets.â€‹

Exemplo PrÃ¡tico â€“ Registrar uma AÃ§Ã£o
CÃ³digo HTML + AngularJS
<!DOCTYPE html>
<html>
<head>
<title>Funifier - Post Action Log</title>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0-rc.2/angular.js"></script>
<script>
angular.module('app', []).controller('cont', ["$scope","$http", function ($scope, $http) {
$scope.log = {actionId: 'sell', attributes: {}};
$scope.result = {};
$scope.save = function(){
var req = {
method: "POST",
url: "https://service2.funifier.com/v3/action/log",
headers: {
"Authorization": "Basic YOUR_TOKEN_HERE",
"Content-Type": "application/json"
},
data: $scope.log
};

$http(req).then(function(data){
$scope.result = data.data;
}, function(err){
console.error(err);
});
};
}]);
</script>
</head>
<body ng-app="app" ng-controller="cont">
<h3>Registrar Venda</h3>
<label>Jogador:</label> <input ng-model="log.userId" type="text"><br/>
<label>Produto:</label> <input ng-model="log.attributes.product" type="text"><br/>
<label>PreÃ§o:</label> <input ng-model="log.attributes.price" type="number"><br/>
<button ng-click="save()">Enviar</button>
<h4>Resultado</h4>
<pre>{{result | json}}</pre>
</body>
</html>

Exemplo â€“ AutenticaÃ§Ã£o de Jogador
<!DOCTYPE html>
<html>
<head>
<title>Funifier - AutenticaÃ§Ã£o</title>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0-rc.2/angular.js"></script>
<script>
angular.module('app', []).controller('auth', ["$scope","$http", function ($scope, $http) {
$scope.auth = {};
$scope.result = {};
$scope.login = function(){
var req = {
method: "POST",
url: "https://service2.funifier.com/v3/auth/token",
headers: {"Content-Type": "application/x-www-form-urlencoded"},
data: "apiKey=YOUR_API_KEY&grant_type=password&username="
+ encodeURIComponent($scope.auth.username)
+ "&password=" + encodeURIComponent($scope.auth.password)
};

$http(req).then(function(data){
$scope.result = data.data;
}, function(err){
console.error(err);
});
};
}]);
</script>
</head>
<body ng-app="app" ng-controller="auth">
<h3>AutenticaÃ§Ã£o</h3>
<label>Jogador:</label> <input ng-model="auth.username" type="text"><br/>
<label>Senha:</label> <input ng-model="auth.password" type="password"><br/>
<button ng-click="login()">Login</button>
<h4>Resultado</h4>
<pre>{{result | json}}</pre>
</body>
</html>

O que VocÃª Pode Construir com Chamadas Diretas na API
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Dashboards administrativos customizados.
Portais de jogadores com status, ranking, loja e conquistas.
TelÃµes de pontuaÃ§Ã£o em eventos.
Interfaces mobile utilizando React Native, Flutter, Ionic ou outra stack mobile.
IntegraÃ§Ãµes com plataformas de e-commerce, ERPs, CRMs e intranets corporativas.
ExperiÃªncias personalizadas em jogos, simuladores ou ambientes educacionais.â€‹

Vantagens de Usar Chamadas Diretas
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Total liberdade no design e UX.
IntegraÃ§Ã£o mais prÃ³xima com seus sistemas existentes.
Controle sobre otimizaÃ§Ãµes, carregamento assÃ­ncrono e performance.
Mais seguranÃ§a para ambientes internos, onde o uso de widgets pÃºblicos pode nÃ£o ser
desejado.

8.6. Utilizando a Biblioteca JavaScript da Funifier para
Facilitar IntegraÃ§Ãµes
A Funifier JavaScript API Ã© uma biblioteca oficial que simplifica o desenvolvimento de
interfaces web integradas com a gamificaÃ§Ã£o. Ela encapsula as chamadas REST da API
Funifier e oferece mÃ©todos prontos para realizar tarefas comuns, como autenticar jogadores,
registrar aÃ§Ãµes, consultar dados e renderizar widgets.
Com ela, vocÃª escreve menos cÃ³digo, acelera o desenvolvimento e mantÃ©m uma integraÃ§Ã£o
mais limpa, especialmente em pÃ¡ginas HTML, sistemas web ou SPAs (Single Page
Applications).

Vantagens de Usar a Biblioteca Funifier.js
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Elimina a necessidade de configurar manualmente headers, autenticaÃ§Ã£o e endpoints.
Simplifica a autenticaÃ§Ã£o dos jogadores e o controle de tokens.
Possibilita o uso de widgets prontos ou personalizados.
Permite registrar aÃ§Ãµes e consumir dados da gamificaÃ§Ã£o de forma rÃ¡pida e segura.
Funciona em qualquer site ou sistema web, com ou sem frameworks (React, Angular,
Vue, etc.).â€‹

Como Instalar a Biblioteca
Para usar, basta importar o arquivo JavaScript diretamente no HTML da sua pÃ¡gina:
<script src="https://client2.funifier.com/v3/funifier.js"></script>
Ou, se quiser utilizar a versÃ£o minificada:
<script
src="https://client2.funifier.com/v3/funifier.min.js"></script>

Inicializando a Biblioteca
O primeiro passo apÃ³s importar Ã© inicializar a biblioteca com sua API Key e o endereÃ§o do
serviÃ§o Funifier.
Funifier.init({
apiKey: "YOUR_API_KEY",
service: "https://service2.funifier.com"
}, function() {
console.log("Funifier Initialized!");
});
ParÃ¢metros opcionais:
â—â€‹ language: Define o idioma, exemplo "en-US" ou "pt-BR".
â—â€‹ service: URL do servidor Funifier.

â—â€‹ Callback: Executado apÃ³s a inicializaÃ§Ã£o.

AutenticaÃ§Ã£o com Funifier.auth
A biblioteca oferece trÃªs formas de autenticaÃ§Ã£o:
MÃ©todo

DescriÃ§Ã£o

Basic

Token sem expiraÃ§Ã£o, usando client_secret. Ideal para sistemas
backend ou widgets restritos.

Password

AutenticaÃ§Ã£o do prÃ³prio jogador, usando usuÃ¡rio e senha.

Client Credentials

Token com expiraÃ§Ã£o, autenticando um aplicativo, ideal para integraÃ§Ãµes
seguras.

Exemplo â€“ AutenticaÃ§Ã£o com Password:
Funifier.auth.authenticate({
grant_type: "password",
player: "john",
password: "123"
}, function(err, data) {
console.log(data); // Retorna o token
});
Exemplo â€“ AutenticaÃ§Ã£o com Basic:
Funifier.auth.authenticate({
grant_type: "basic",
client_secret: "YOUR_CLIENT_SECRET"
}, function(err, data) {
console.log(data); // Retorna o token
});
Exemplo â€“ AutenticaÃ§Ã£o com Client Credentials:
Funifier.auth.authenticate({
grant_type: "client_credentials",
client_secret: "YOUR_CLIENT_SECRET"
}, function(err, data) {
console.log(data); // Retorna o token
});

Registrando Logs de AÃ§Ãµes â€“ Funifier.track()

Permite enviar um registro de aÃ§Ã£o que um jogador executou. Ã‰ equivalente a uma requisiÃ§Ã£o
POST no endpoint /v3/action/log.
Exemplo â€“ Logar uma venda:
Funifier.track({
action: "sell",
player: "john", // NecessÃ¡rio se nÃ£o estiver autenticado como
jogador
attributes: {
product: "bike",
price: 1500
}
}, function(err, data) {
console.log(data);
});

Renderizando Widgets com Funifier.widget
A biblioteca permite inserir widgets diretamente na sua pÃ¡gina com uma Ãºnica linha de cÃ³digo:
Funifier.widget.render({
widget: "RankingRicardo",
selector: "#widget",
bind: "replace"
}, function(err, data) {
console.log(data);
});
O seletor pode ser qualquer elemento CSS (#id, .class).

Exemplo Completo â€“ PÃ¡gina com Widget de Ranking
<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Ranking Funifier</title>
<script
src="https://client2.funifier.com/v3/funifier.js"></script>
</head>
<body>

<div id="ranking"></div>
<script>
Funifier.init({
apiKey: "YOUR_API_KEY",
service: "https://service2.funifier.com"
}, function() {
Funifier.auth.setAuthorization("Basic YOUR_BASIC_TOKEN");
Funifier.widget.render({
widget: "RankingRicardo",
selector: "#ranking",
bind: "replace"
}, function(err, data) {
if (err) console.error(err);
else console.log(data);
});
});
</script>
</body>
</html>

Exemplo de Upload de Arquivo
Funifier.upload({
input: '#fileUpload',
type: 'file',
extra: {session: "docs"}
}, function (err, data) {
if (err) {
console.error("Erro ao fazer upload:", err);
} else {
console.log("Upload realizado com sucesso:", data);
}
});

MÃ©todos Existentes na Funifier JavaScript API
Objeto

MÃ©todo

DescriÃ§Ã£o

Funifier

init(options, callback)

Inicializa a API, definindo API Key,
service, idioma e executa callback apÃ³s
configuraÃ§Ã£o.

Funifier.auth

authenticate(options,

Realiza autenticaÃ§Ã£o nos modos basic,

callback)

password, client_credentials,
facebook e google.

Funifier.auth

getAuthorization()

Recupera o token de autenticaÃ§Ã£o salvo.

Funifier.auth

setAuthorization(token)

Define manualmente um token de
autenticaÃ§Ã£o.

Funifier.auth

logout()

Remove o token de autenticaÃ§Ã£o salvo
(logout local).

Funifier.track

(funÃ§Ã£o direta)

Envia um Action Log para o endpoint
/v3/action/log.

Funifier.upload

(funÃ§Ã£o direta)

Envia arquivos ou imagens para a API
Funifier via /v3/upload/file ou
/v3/upload/image.

Funifier.widget

render(options,
callback)

Carrega e exibe um widget na pÃ¡gina,
com HTML, CSS, JS e dependÃªncias
externas.

Funifier.widget

init(callback)

Carrega automaticamente todos os
elementos com
data-funifier-widget na pÃ¡gina.

Funifier.i18n

get(resource, key)

Busca uma chave de internacionalizaÃ§Ã£o
dentro de um recurso (widget).

Funifier.i18n

getValue(obj, key)

Busca uma chave dentro de um objeto
que possui o campo i18n.

Funifier.i18n

getResource(resource)

Retorna o dicionÃ¡rio completo de um
recurso no idioma atual.

Funifier.range

parse(content_range)

Interpreta o header Content-Range das
respostas para controle de paginaÃ§Ã£o.

Funifier.range

paginate(page,
content_range)

Gera o valor correto para o header Range
para acessar uma pÃ¡gina especÃ­fica da
API.

Resumo Importante
â—â€‹ AutenticaÃ§Ã£o: Funifier.auth
â—â€‹ Registro de aÃ§Ãµes: Funifier.track
â—â€‹ RenderizaÃ§Ã£o de widgets: Funifier.widget
â—â€‹ Upload de arquivos e imagens: Funifier.upload
â—â€‹ InternacionalizaÃ§Ã£o: Funifier.i18n
â—â€‹ PaginaÃ§Ã£o: Funifier.rangeâ€‹

8.7. Cuidados e Boas PrÃ¡ticas no Desenvolvimento de
Interfaces com Funifier
Quando desenvolvemos interfaces grÃ¡ficas integradas com a Funifier, seja utilizando widgets, a
biblioteca JavaScript ou chamadas diretas na API, Ã© fundamental adotar algumas boas prÃ¡ticas
que garantem seguranÃ§a, performance, manutenibilidade e uma Ã³tima experiÃªncia para os
usuÃ¡rios.

1. SeguranÃ§a da InformaÃ§Ã£o
â—â€‹ Nunca exponha credenciais sensÃ­veis no front-end.â€‹
Se for usar autenticaÃ§Ã£o do tipo Basic ou Client Credentials, limite as permissÃµes do
App nas configuraÃ§Ãµes de seguranÃ§a do Funifier Studio.â€‹
Se a operaÃ§Ã£o for sensÃ­vel (como consultar dados de muitos jogadores ou alterar
registros), prefira realizar via backend.
â—â€‹ Use autenticaÃ§Ã£o do tipo "Password" sempre que possÃ­vel para o jogador.â€‹
Isso protege melhor os dados individuais e evita exposiÃ§Ã£o indevida de tokens globais.
â—â€‹ Restrinja permissÃµes dos Apps no Funifier Studio.â€‹
Defina exatamente quais endpoints cada app pode acessar. Isso mitiga riscos em caso
de exposiÃ§Ã£o do token.â€‹

2. Performance e EficiÃªncia
â—â€‹ Evite consultas desnecessÃ¡rias ou repetitivas.â€‹
Sempre que possÃ­vel, utilize cache local ou sessionStorage/localStorage para

armazenar dados que nÃ£o mudam com frequÃªncia, como nome do jogador, nÃ­vel, status
atual.
â—â€‹ Utilize aggregates inteligentes.â€‹
Ao construir widgets ou dashboards, prefira usar o endpoint /aggregate com filtros,
$match, $project e $limit para receber apenas os dados necessÃ¡rios.
â—â€‹ AtenÃ§Ã£o aos Leaderboards.â€‹
Rankings muito extensos podem gerar sobrecarga no carregamento da interface. Utilize
filtros como perÃ­odo (semana, mÃªs, ano) e limite ($limit:10).
â—â€‹ Se possÃ­vel, use a geraÃ§Ã£o de cache dos leaderboards no Funifier em vez de
builds em tempo real.â€‹
Isso reduz o nÃºmero de consultas complexas.â€‹

3. OrganizaÃ§Ã£o e PadronizaÃ§Ã£o de CÃ³digo
â—â€‹ Padronize IDs e nomes de widgets, variÃ¡veis e coleÃ§Ãµes.â€‹
Use nomes claros e consistentes, evitando espaÃ§os, acentos e caracteres especiais.â€‹
Ex.: ranking_sales_month ao invÃ©s de Ranking de Vendas do MÃªs.
â—â€‹ Mantenha o CSS dos widgets isolado.â€‹
Utilize seletores especÃ­ficos para nÃ£o interferir no CSS da sua aplicaÃ§Ã£o principal.â€‹
Ex.: .fun-widget-ranking .title { } em vez de .title { }.
â—â€‹ Separe o JavaScript de lÃ³gica do HTML sempre que possÃ­vel.â€‹
Isso melhora a manutenÃ§Ã£o e a escalabilidade dos projetos.â€‹

4. DependÃªncias e Recursos Externos
â—â€‹ Declare corretamente todas as dependÃªncias externas.â€‹
No campo resources do widget, inclua as URLs de bibliotecas como Angular, jQuery,
Chart.js, etc. Isso evita erros de carregamento.
â—â€‹ Evite carregar mÃºltiplas vezes a mesma biblioteca.â€‹
Isso pode gerar conflitos. Verifique se sua aplicaÃ§Ã£o jÃ¡ possui uma versÃ£o do Angular,
jQuery ou outra biblioteca antes de incluir novamente.â€‹

5. Controle de Erros e Logs
â—â€‹ Implemente tratamento de erros nas chamadas da API.â€‹
Sempre verifique se ocorreu erro nas funÃ§Ãµes de callback.â€‹
Funifier.track({action:"sell", attributes:{product:"bike"}}, function(err, data){
if(err) {
console.error("Erro ao registrar aÃ§Ã£o:", err);
} else {
console.log("AÃ§Ã£o registrada com sucesso:", data);
}
});

â—â€‹ Exiba mensagens amigÃ¡veis para o usuÃ¡rio.â€‹
Se uma chamada falhar, informe o usuÃ¡rio de forma clara, como â€œErro ao carregar
ranking. Tente novamente mais tarde.â€

6. Responsividade e Mobile First
â—â€‹ Garanta que seus widgets e interfaces funcionem bem em diferentes tamanhos de tela.
â—â€‹ Use flexbox ou grid no CSS para criar layouts adaptÃ¡veis.
â—â€‹ Imagens e elementos devem ser fluidos (max-width: 100%).

7. InternacionalizaÃ§Ã£o
â—â€‹ Utilize o sistema de i18n dos widgets para criar versÃµes em mÃºltiplos idiomas.
â—â€‹ Defina chaves e traduÃ§Ãµes diretamente no Funifier Studio na aba de internacionalizaÃ§Ã£o
do widget.â€‹

8. DocumentaÃ§Ã£o e ManutenÃ§Ã£o
â—â€‹ Documente como cada widget ou interface foi construÃ­do.
â—â€‹ Crie um README interno com informaÃ§Ãµes como:
â—‹â€‹ API Keys utilizadas.
â—‹â€‹ URLs de ambiente de produÃ§Ã£o e desenvolvimento.
â—‹â€‹ ResponsÃ¡veis pela manutenÃ§Ã£o.
â—‹â€‹ ObservaÃ§Ãµes importantes sobre autenticaÃ§Ã£o e permissÃµes.â€‹

9. LimitaÃ§Ãµes Importantes a Considerar
â—â€‹ Limite de dados nas consultas: Evite fazer aggregates sem $limit ou sem filtros.
Isso pode gerar consultas muito grandes.â€‹
â—â€‹ Evite usar tokens do tipo Basic em ambientes pÃºblicos sem as devidas restriÃ§Ãµes
de permissÃ£o.â€‹
â—â€‹ DependÃªncia de terceiros: Cuidado com a utilizaÃ§Ã£o de bibliotecas externas
hospedadas em terceiros. Se a CDN cair, seu widget pode parar de funcionar.â€‹

Resumo de Boas PrÃ¡ticas
Categoria

Boas PrÃ¡ticas

SeguranÃ§a

Tokens protegidos, permissÃµes restritas, uso de autenticaÃ§Ã£o
adequada

Performance

Uso de cache, aggregates otimizados, limites nos dados

OrganizaÃ§Ã£o

CSS isolado, nomes padronizados, cÃ³digo separado

UX/UI

Tratamento de erros, responsividade, mensagens claras

InternacionalizaÃ§Ã£o

Uso de i18n nos widgets

ManutenÃ§Ã£o

DocumentaÃ§Ã£o interna, controle de dependÃªncias e versÃµes

9. AutomaÃ§Ã£o com Triggers Simples
Triggers sÃ£o uma poderosa funcionalidade dentro da plataforma Funifier, permitindo
automatizar processos de negÃ³cios e comportamentos da gamificaÃ§Ã£o sem a necessidade de
desenvolvimento externo. Elas funcionam como pequenos scripts executados automaticamente
em resposta a eventos especÃ­ficos do sistema, como quando um jogador realiza uma aÃ§Ã£o,
conquista um desafio, compra um item ou altera seus dados no sistema.
Esses scripts sÃ£o escritos em Java e sÃ£o executados no servidor da Funifier, no momento em
que o evento acontece, garantindo que as regras de negÃ³cio sejam aplicadas de forma
consistente e imediata.
Por exemplo, vocÃª pode configurar uma trigger para dobrar os pontos de jogadores do
departamento de tecnologia, criar cÃ³digos de convite automaticamente para novos cadastros,
enviar notificaÃ§Ãµes externas via Zapier ou atÃ© gerar bÃ´nus para amigos de quem completou um
desafio importante.
Ao longo deste tÃ³pico, vocÃª aprenderÃ¡ como funcionam as triggers, como configurÃ¡-las
corretamente, como estruturar seus scripts, quais objetos podem ser manipulados e verÃ¡
diversos exemplos prÃ¡ticos de aplicaÃ§Ã£o no mundo real.

9.1. O que sÃ£o Triggers no Funifier e Para que Servem
Triggers sÃ£o trechos de cÃ³digo executados automaticamente em resposta a eventos que
ocorrem dentro da sua gamificaÃ§Ã£o. Esses eventos podem ser aÃ§Ãµes como:
â—â€‹ CriaÃ§Ã£o de um jogador (before_create ou after_create).
â—â€‹ Compra de um item na loja (after_win em um catalog_item).
â—â€‹ Registro de uma venda (after_win em uma action).
â—â€‹ ConclusÃ£o de um desafio ou ganho de pontos (after_win em challenge ou
achievement).â€‹
Quando o evento definido ocorre, o cÃ³digo da trigger Ã© executado antes ou depois da operaÃ§Ã£o
ser concluÃ­da no banco de dados, dependendo do tipo de evento (before ou after).

Para que Servem as Triggers?
â—â€‹ Automatizar regras de negÃ³cio: como bÃ´nus especiais, ajustes de dados, bloqueios,
validaÃ§Ãµes e atualizaÃ§Ãµes automÃ¡ticas.
â—â€‹ Economizar tempo de desenvolvimento externo: boa parte da lÃ³gica pode ser feita
direto no Funifier.
â—â€‹ Manter a gamificaÃ§Ã£o inteligente e responsiva: reagindo a eventos sem precisar de
sistemas terceiros.
â—â€‹ Integrar com outros sistemas: como enviar dados para APIs externas, Zapier, ERPs,
CRMs ou enviar e-mails automÃ¡ticos.â€‹

Funcionamento BÃ¡sico
Uma trigger sempre segue este modelo de funÃ§Ã£o em Java:
void trigger(event, entity, player, database) {
// Seu cÃ³digo aqui
}
Onde:
â—â€‹ event â†’ InformaÃ§Ãµes sobre o evento que disparou a trigger.
â—â€‹ entity â†’ O objeto afetado (jogador, action log, achievement, etc.).
â—â€‹ player â†’ O ID do jogador relacionado ao evento.
â—â€‹ database â†’ Permite acessar o banco de dados para consultar ou atualizar outras
informaÃ§Ãµes.â€‹

Exemplo Simples:
Imagine que vocÃª quer garantir que o nome dos jogadores sempre fique salvo em letras
maiÃºsculas. VocÃª cria uma trigger assim:
â—â€‹ Evento: before_create
â—â€‹ Entidade: player
â—â€‹ Script:â€‹
void trigger(event, entity, player, database) {
entity.name = entity.name.toUpperCase();
}
Sempre que um novo jogador for criado, o nome serÃ¡ convertido para maiÃºsculas antes de ser
salvo no banco.

Resumo deste SubtÃ³pico:
â—â€‹ Triggers permitem executar cÃ³digo automÃ¡tico quando algo acontece na gamificaÃ§Ã£o.
â—â€‹ SÃ£o muito Ãºteis para automaÃ§Ãµes internas e atÃ© integraÃ§Ãµes externas.

â—â€‹ Escrevemos essas triggers usando Java, diretamente dentro do Funifier Studio.

9.2. Entendendo os Eventos e Entidades das Triggers
Para criar uma trigger eficiente no Funifier, Ã© essencial compreender dois conceitos
fundamentais: os Eventos e as Entidades.
Esses dois elementos definem quando e sobre o quÃª sua trigger irÃ¡ atuar.

O Que SÃ£o Eventos?
Eventos definem em que momento a trigger serÃ¡ executada em relaÃ§Ã£o Ã  operaÃ§Ã£o no
banco de dados. Eles sÃ£o compostos de um prefixo e um sufixo.
Prefixos disponÃ­veis:
â—â€‹ before_ â†’ Executa antes da operaÃ§Ã£o ser realizada no banco de dados.
â—â€‹ after_ â†’ Executa apÃ³s a operaÃ§Ã£o ser concluÃ­da no banco.â€‹
Sufixos (aÃ§Ãµes do banco ou conquistas):
â—â€‹ create â†’ Quando um objeto Ã© criado.
â—â€‹ update â†’ Quando um objeto Ã© alterado.
â—â€‹ delete â†’ Quando um objeto Ã© excluÃ­do.
â—â€‹ win â†’ Quando um jogador ganha uma conquista, ponto, nÃ­vel, item, ou conclui uma
aÃ§Ã£o/desafio.
â—â€‹ lose â†’ (Opcional) Quando um jogador perde uma conquista ou item (nÃ£o muito
comum).â€‹
Exemplos prÃ¡ticos de eventos:
Evento

Quando Ã© disparado

before_create

Antes de um jogador, ponto ou item ser criado no banco.

after_create

Depois da criaÃ§Ã£o ser concluÃ­da no banco.

before_update

Antes de atualizar uma entidade.

after_update

Depois de atualizar uma entidade.

after_win

Quando uma conquista ocorre: ganhar ponto, nÃ­vel, item, etc.

O Que SÃ£o Entidades?
A entidade define qual objeto do Funifier estÃ¡ sendo observado pela trigger. Ela informa qual
tipo de dado ou operaÃ§Ã£o serÃ¡ monitorada.

Principais Entidades DisponÃ­veis:
Entidade

DescriÃ§Ã£o

player

Jogador

team

Equipe

action

DefiniÃ§Ã£o de uma aÃ§Ã£o (ex.: vender, assistir vÃ­deo)

action_log

Registro de uma aÃ§Ã£o realizada por um jogador

challenge

Desafio

achievement

Conquista (pontos, nÃ­vel, item, desafio concluÃ­do)

leaderboard

Ranking

catalog_item

Item da loja virtual

lottery

Sorteio

lottery_ticket

Cupom de sorteio

mystery_box

Caixa surpresa

question

Pergunta

quiz

QuestionÃ¡rio

(custom)

Qualquer coleÃ§Ã£o customizada do banco (ex.: car__c, req__c)

VocÃª pode escolher uma entidade padrÃ£o do Funifier ou atÃ© uma entidade personalizada da
sua prÃ³pria gamificaÃ§Ã£o.

Exemplos de CombinaÃ§Ã£o de Evento + Entidade:
Evento + Entidade
before_create +

O que faz
Antes de criar um jogador no banco.

player
after_create +
challenge

ApÃ³s criar um desafio no sistema.

after_win +

ApÃ³s um jogador comprar um item na loja.

catalog_item
after_win + challenge

ApÃ³s um jogador completar um desafio.

after_win + action

ApÃ³s um jogador executar uma aÃ§Ã£o (ex.: venda registrada).

before_win +

Antes de registrar um ganho de pontos, nÃ­vel ou outro
achievement.

achievement

Eventos Especiais "WIN" e "LOSE"
Quando vocÃª usa o evento after_win ou before_win, a trigger Ã© executada quando o
jogador:
â—â€‹ Ganha um ponto
â—â€‹ Conclui um desafio
â—â€‹ Sobe de nÃ­vel
â—â€‹ Compra um item
â—â€‹ Ganha um sorteio
â—â€‹ Registra um action logâ€‹
Nesses casos, o objeto manipulado dentro da trigger pode ser um Achievement (ganho de
ponto, nÃ­vel, item, desafio) ou um ActionLog (se for uma aÃ§Ã£o registrada, como uma venda,
por exemplo).

Resumo Visual â€” CombinaÃ§Ã£o de Evento + Entidade:
Formato: [prefixo]_[sufixo] + entidade
Exemplos:
- before_create + player â†’ Antes de cadastrar jogador.
- after_win + catalog_item â†’ ApÃ³s comprar um item.
- after_win + challenge â†’ ApÃ³s concluir um desafio.
- before_create + achievement â†’ Antes de criar um registro de pontos ou conquista.
Entender claramente a combinaÃ§Ã£o de evento e entidade Ã© o primeiro passo para dominar a
criaÃ§Ã£o de triggers na Funifier. Essa configuraÃ§Ã£o define quando e sobre o quÃª sua
automaÃ§Ã£o serÃ¡ executada, permitindo construir regras de negÃ³cios poderosas e flexÃ­veis.

9.3. Estrutura do Script de uma Trigger
Toda trigger na plataforma Funifier Ã© composta por um cÃ³digo escrito em Java, que serÃ¡
executado no backend da gamificaÃ§Ã£o sempre que o evento configurado ocorrer.

A estrutura do script Ã© simples, porÃ©m poderosa, permitindo desde manipulaÃ§Ãµes bÃ¡sicas atÃ©
automaÃ§Ãµes complexas, integraÃ§Ãµes externas e cÃ¡lculos dinÃ¢micos.

Estrutura Base da Trigger
O ponto de entrada obrigatÃ³rio de todo script de trigger Ã© o mÃ©todo chamado:
void trigger(event, entity, player, database) {
// Seu cÃ³digo aqui
}

ParÃ¢metros do MÃ©todo
ParÃ¢metro

DescriÃ§Ã£o

event

Representa o evento que disparou a trigger. Ex.: after_win, before_create.

entity

Objeto da entidade afetada. Por exemplo, se for um jogador, Ã© o objeto Player.

player

ID do jogador relacionado ao evento, se aplicÃ¡vel.

database

Permite acessar diretamente o banco de dados MongoDB usando a biblioteca
Jongo.

Estrutura do Objeto entity
O objeto entity representa os dados que estÃ£o sendo manipulados no evento. Ele muda de
acordo com a entidade definida na configuraÃ§Ã£o da trigger.
Entidade

Objeto Manipulado

player

Player

action

Action

action_log

ActionLog

challenge

Challenge

achievement

Achievement

catalog_item

Achievement (compra)

lottery

Achievement (sorteio)

mystery_box

Achievement (mystery)

Exemplo Simples de Trigger
Transformar o nome de um jogador para maiÃºsculas antes de criar:
void trigger(event, entity, player, database) {
entity.name = entity.name.toUpperCase();
}

O Que VocÃª Pode Fazer Dentro do Script
â—â€‹ Modificar dados do prÃ³prio objeto (entity).
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Ler informaÃ§Ãµes de outros objetos no banco (database).
Interagir com outros jogadores (ex.: dar pontos para amigos).
Executar chamadas HTTP externas (ex.: notificar um webhook).
Gerar cÃ³digos, tokens ou dados dinÃ¢micos no momento do evento.
Aplicar regras de negÃ³cio personalizadas.

Acesso ao Banco de Dados
VocÃª pode acessar qualquer coleÃ§Ã£o do banco utilizando o parÃ¢metro database com a
biblioteca Jongo, nativamente integrada na plataforma.
Buscar um objeto:
Player p = database.getCollection("player")
.findOne("{_id: #}", "john")
.as(Player.class);
Atualizar:
p.name = "John Travolta Updated";
database.getCollection("player").save(p);

Acesso aos Managers da Plataforma
Dentro de uma trigger, vocÃª tambÃ©m tem acesso ao objeto manager, que fornece mÃ©todos
prontos para lidar com:
â—â€‹ Jogadores (PlayerManager)
â—â€‹ AÃ§Ãµes e Logs (ActionManager)
â—â€‹ Conquistas (AchievementManager)
â—â€‹ Desafios (ChallengeManager)
â—â€‹ Itens e Lojas (CatalogManager)
â—â€‹ Sorteios (LotteryManager)â€‹
Exemplo:
Player p = manager.getPlayerManager().findById(player);

Exemplo PrÃ¡tico â€” Gerar CÃ³digo de Convite Antes de Criar um Jogador

void trigger(event, entity, player, database) {
String code = Guid.shortTimeMillis();
entity.extra.put("invitation_code", code);
}
Neste exemplo, todo novo jogador criado recebe automaticamente um cÃ³digo de convite Ãºnico
salvo no campo extra.invitation_code.

Regras Importantes da Estrutura
â—â€‹ O mÃ©todo sempre se chama void trigger(event, entity, player,
database).
â—â€‹ Toda trigger deve ser escrita em Java (versÃ£o padrÃ£o suportada pela Funifier).
â—â€‹ O retorno Ã© sempre void (nÃ£o retorna valor, apenas executa aÃ§Ãµes e manipula dados).
â—â€‹ Ã‰ possÃ­vel fazer persistÃªncia de dados no banco via database.save() ou via
managers (manager.getPlayerManager().insert(), por exemplo).

9.4. Manipulando Objetos na Trigger
Ao criar uma trigger, o primeiro nÃ­vel de automaÃ§Ã£o disponÃ­vel Ã© diretamente sobre o objeto da
entidade manipulada, recebido no parÃ¢metro entity do mÃ©todo trigger.
Quando a trigger Ã© ativada, esse objeto jÃ¡ estÃ¡ carregado e pode ser alterado diretamente
antes de ser salvo (em eventos before_*) ou apÃ³s (em eventos after_*).

Assinatura do Script da Trigger
void trigger(event, entity, player, database) {
// Seu cÃ³digo aqui
}

Exemplo 1 â€“ Alterar o Nome do Jogador para MaiÃºsculo Antes de Cadastrar
Entidade
player

Evento
before_create

void trigger(event, entity, player, database) {
entity.name = entity.name.toUpperCase();
}

Exemplo 2 â€“ Adicionar um CÃ³digo de Convite no Cadastro do Jogador
Entidade

Evento

player

before_create

void trigger(event, entity, player, database) {
String code = Guid.shortTimeMillis();
entity.extra.put("invite_code", code);
}

Exemplo 3 â€“ Dobrar Pontos Ganhados se o Jogador for do Departamento
DITEC
Entidade
achievement

Evento
before_create

void trigger(event, entity, player, database) {
if(entity.type == Achievement.TYPE_POINT) {
Player p = manager.getPlayerManager().findById(player);
if("DITEC".equals(p.extra.department)) {
entity.total = entity.total * 2;
}
}
}
Esse tipo de manipulaÃ§Ã£o Ã© extremamente eficiente quando se deseja fazer ajustes simples no
prÃ³prio objeto que estÃ¡ passando pelo fluxo de criaÃ§Ã£o, atualizaÃ§Ã£o ou conquista.

Tabela de Objetos Recebidos nas Triggers e Suas Estruturas
Evento
before_create

Entidade
player

Exemplo de Objeto entity Recebido no Script
{ "_id": "player@funifier.com", "name":
"Player Name", "email":
"player@funifier.com", "image": { "small":
{"url": "http://me.com/photo.png"}, "medium":
{"url": "http://me.com/photo.png"},
"original": {"url":
"http://me.com/photo.png"} }, "friends":
["ricardo", "sandra"], "teams": ["funifier",
"octalysis"], "extra": { "gender": "male",
"mobile": "+18895687914" } }

after_win

action

{ "_id": "5a3a6cb0d5327c7c0ba69f27",
"actionId": "sell", "time": 1513778352559,
"userId": "jerry.mouse@funifier.com",
"attributes": { "product": "bicycle",
"price": 350 } }

after_win

point_category
(achievement)

{ "_id": "5a3a6cb0d5327c7c0ba69f27",
"player": "player@funifier.com", "total":
100, "type": 0, "item": "xp", "time":
1513778352559 }

after_win

challenge
(achievement)

{ "_id": "5a3a6cb0d5327c7c0ba69f27",
"player": "player@funifier.com", "total": 1,
"type": 1, "item": "challenge_id", "time":
1513778352559 }

after_win

level
(achievement)

{ "_id": "5a3a6cb0d5327c7c0ba69f27",
"player": "player@funifier.com", "total": 1,
"type": 3, "item": "level_id", "time":
1513778352559 }

after_win

catalog_item
(achievement)

{ "_id": "5a3a6cb0d5327c7c0ba69f27",
"player": "player@funifier.com", "total": 1,
"type": 2, "item": "item_id", "time":
1513778352559 }

after_win

lottery
(achievement)

{ "_id": "5a3a6cb0d5327c7c0ba69f27",
"player": "player@funifier.com", "total": 1,
"type": 5, "item": "lottery_id", "time":
1513778352559 }

9.5. Manipulando Dados via Managers
Os Managers sÃ£o objetos de serviÃ§o que oferecem mÃ©todos prontos para buscar, inserir,
atualizar ou excluir dados de entidades padrÃ£o do Funifier, como jogadores, aÃ§Ãµes, conquistas,
catÃ¡logos e sorteios.

Exemplo 1 â€“ Dar Pontos Para Amigos Quando AlguÃ©m Faz 100 ou Mais
Pontos

Entidade

Evento

achievement

before_create

void trigger(event, entity, player, database) {
if(entity.type == Achievement.TYPE_POINT && entity.total >= 100) {
Player p = manager.getPlayerManager().findById(player);
for(String friend : p.friends) {
Achievement a = new Achievement();
a.id = Guid.newShortGuid();
a.player = friend;
a.type = 0; // Tipo ponto
a.item = entity.item;
a.total = 1;
a.time = new Date();
manager.getAchievementManager().addAchievement(a);
}
}
}

Exemplo 2 â€“ Enviar E-mail de Boas-Vindas ao Jogador
Entidade
player

Evento
after_create

void trigger(event, entity, player, database) {
long total = manager.getPlayerManager().findTotal();
Email email = EmailBuilder
.startingBlank()
.from("Company", "your@company.com")
.to(entity.getName(), entity.email)
.withSubject("Welcome to Funifier!")
.withPlainText("Welcome " + entity.name + ", you are the member number " + total)
.buildEmail();
MailerBuilder
.withSMTPServer("smtp.server.com", 587, "login", "password")
.buildMailer()
.sendMail(email);
}

Exemplo 3 â€“ Executar um Sorteio Quando AlguÃ©m Comprar um Ticket
Entidade
lottery_ticket

Evento
after_create

void trigger(event, entity, player, database) {
manager.getLotteryManager().execute(entity.lottery);
}

Exemplo 4 â€“ Registrar uma AÃ§Ã£o Manualmente Dentro da Trigger
Entidade

Evento

achievement

after_create

void trigger(event, entity, player, database) {
ActionLog log = new ActionLog();
log.id = Guid.newShortGuid();
log.actionId = "bonus";
log.userId = player;
log.time = new Date();
log.attributes.put("reason", "Achievement reward");
manager.getActionManager().track(log);
}

Tabela de Managers, Entidades e OperaÃ§Ãµes Principais
Entidade
Player

Manager
getPlayerManager()

OperaÃ§Ãµes Principais
findById(id)insert(player)delete(id
)findTotal()

Achievement

getAchievementManager()

addAchievement(achievement)deleteAc
hievement(id)undoAchievement(id)

Action

getActionManager()

findActionById(id)addAction(action)
deleteAction(id)

ActionLog

getActionManager()

track(actionLog)trackSynchonous(act
ionLog)

Challenge

getChallengeManager()

findById(id)add(challenge)delete(id
)

Lottery

getLotteryManager()

find(id)insert(lottery)delete(id)ex
ecute(id)undoExecute(id)

LotteryTicket

getLotteryManager()

insertTicket(ticket)deleteTicket(ti
cket)

Catalog

getCatalogManager()

findById(id)add(catalog)delete(id)

CatalogItem

getCatalogManager()

findItemById(id)addItem(item)delete
Item(id)purchase(achievement,
async)undoPurchase(id)

9.6. Manipulando Dados via Database
O acesso via database.getCollection() permite trabalhar diretamente com qualquer
coleÃ§Ã£o do banco, seja ela padrÃ£o do Funifier (como player, achievement, action_log),
ou coleÃ§Ãµes customizadas (como product__c, feedback__c, etc.).
Esse tipo de acesso Ã© extremamente poderoso para leituras, agregaÃ§Ãµes ou manipulaÃ§Ãµes
diretas, especialmente em dados personalizados.

Assinatura do Script da Trigger
void trigger(event, entity, player, database) {
// Acesso direto ao banco MongoDB
}

Exemplo 1 â€“ Consultar um Produto Customizado no Banco
Entidade
action

Evento
before_win

void trigger(event, entity, player, database) {
String id = entity.attributes.product;
Object product = database.getCollection("product__c")

.findOne("{_id: #}", id)
.as(Object.class);
entity.attributes.put("price", product.price);
}

Exemplo 2 â€“ Criar um Registro Customizado no Banco
Entidade
player

Evento
after_create

void trigger(event, entity, player, database) {
Map<String, Object> log = new HashMap<>();
log.put("_id", Guid.newShortGuid());
log.put("playerId", entity._id);
log.put("event", "created");
log.put("date", new Date());
database.getCollection("player_log__c").save(log);
}

Exemplo 3 â€“ Executar Aggregate Para Obter o Jogador com Mais XP
Entidade
player

Evento
after_create

void trigger(event, entity, player, database) {
List<Object> top = Arrays.asList(
database.getCollection("achievement")
.aggregate("{ $match: {type: 0, item: 'xp'} }")
.and("{ $group: { _id: '$player', total: { $sum: '$total' } } }")
.and("{ $sort: { total: -1 } }")
.and("{ $limit: 1 }")
.as(Object.class)
);
if(!top.isEmpty()) {
Object topPlayer = top.get(0);
entity.extra.put("top_player", topPlayer._id);
}
}

Exemplo 4 â€“ Atualizar um Registro no Banco Dentro da Trigger
Entidade
player

Evento
after_create

void trigger(event, entity, player, database) {
database.getCollection("player_statistics__c")
.update("{_id: #}", entity._id)
.with("{$inc: {total_created: 1}}");
}

Resumo Final dos TrÃªs MÃ©todos de ManipulaÃ§Ã£o em Triggers:
MÃ©todo

Quando Usar

ManipulaÃ§Ã£o Direta (entity)

Para alterar o prÃ³prio objeto afetado pela trigger (nome, extra, total).

Via Managers

Para criar, buscar ou atualizar objetos padrÃ£o do Funifier (players,
logs, points, catalog).

Via Database

Para acessar coleÃ§Ãµes personalizadas, executar queries ou
aggregates avanÃ§ados.

ObservaÃ§Ã£o Importante
â—â€‹ No evento after_win, o objeto recebido na entity Ã© quase sempre um
Achievement, exceto quando a entidade configurada na trigger for action. Nesse
caso, a entity serÃ¡ um ActionLog.
â—â€‹ A manipulaÃ§Ã£o via Managers Ã© altamente recomendada quando vocÃª estÃ¡ trabalhando
com objetos padrÃµes do Funifier, pois garante a aplicaÃ§Ã£o de regras de negÃ³cio internas
da plataforma.
â—â€‹ A manipulaÃ§Ã£o via database.getCollection() deve ser utilizada para dados
customizados ou queries mais complexas, inclusive aggregates.

9.7. Exemplos PrÃ¡ticos de Triggers no Dia a Dia
As triggers no Funifier sÃ£o extremamente poderosas para implementar automaÃ§Ãµes que
respondem a comportamentos dos jogadores, entregam bÃ´nus, controlam regras de negÃ³cio e
atÃ© integram sistemas externos. Veja abaixo alguns exemplos de como elas sÃ£o usadas em
cenÃ¡rios reais.

Exemplo 1 â€“ Dobrar Pontos para Jogadores de um Departamento
EspecÃ­fico
CenÃ¡rio: Jogadores do departamento "TI" recebem o dobro de pontos XP.
Evento: before_createâ€‹
Entidade: achievementâ€‹
Script:
void trigger(event, entity, player, database) {
if(entity.type == Achievement.TYPE_POINT && "xp".equals(entity.item)) {
Player p = manager.getPlayerManager().findById(player);
if("TI".equals(p.extra.department)) {
entity.total = entity.total * 2;
}
}
}

Exemplo 2 â€“ Gerar CÃ³digo de Convite para Jogador no Cadastro
Evento: before_createâ€‹
Entidade: playerâ€‹
Script:
void trigger(event, entity, player, database) {
String code = Guid.shortTimeMillis();
entity.extra.put("invite_code", code);
}

Exemplo 3 â€“ Dar Pontos para Amigos Quando um Jogador Ganha 100
Pontos ou Mais
Evento: before_createâ€‹
Entidade: achievementâ€‹
Script:
void trigger(event, entity, player, database) {
if(entity.type == Achievement.TYPE_POINT && entity.total >= 100) {
Player p = manager.getPlayerManager().findById(player);
for(String friend : p.friends) {
Achievement a = new Achievement();
a.player = friend;
a.total = 10;
a.type = Achievement.TYPE_POINT;
a.item = entity.item;
a.time = new Date();
a.id = Guid.newShortGuid();
manager.getAchievementManager().addAchievement(a);

}
}
}

Exemplo 4 â€“ Enviar um Email de Boas-Vindas Quando um Jogador Se
Cadastra
Evento: after_createâ€‹
Entidade: playerâ€‹
Script:
void trigger(event, entity, player, database) {
long totalPlayers = manager.getPlayerManager().findTotal();
Email email = EmailBuilder
.startingBlank()
.from("Funifier", "noreply@funifier.com")
.to(entity.getName(), entity.email)
.withSubject("Bem-vindo ao Funifier!")
.withPlainText("OlÃ¡ " + entity.name + ", vocÃª Ã© o jogador nÃºmero " + totalPlayers + " da
plataforma!")
.buildEmail();
MailerBuilder
.withSMTPServer("smtp.yourserver.com", 587, "login", "password")
.buildMailer()
.sendMail(email);
}

Exemplo 5 â€“ Enviar Dados de uma Compra para um Webhook (Zapier, API
Externa, etc.)
Evento: after_winâ€‹
Entidade: catalog_itemâ€‹
Script:
void trigger(event, entity, player, database) {
Player buyer = manager.getPlayerManager().findById(entity.player);
CatalogItem item = manager.getCatalogManager().findItemById(entity.item);
HashMap data = new HashMap();
data.put("buyer", buyer);
data.put("item", item);
data.put("purchase", entity);
HttpResponse<String> response =
Unirest.post("https://hooks.zapier.com/hooks/catch/xxxxxx")

.header("Content-Type", "application/json")
.body(JsonUtil.toJson(data))
.asString();
}

Exemplo 6 â€“ Preencher PreÃ§o do Produto Automaticamente na Venda
Evento: before_winâ€‹
Entidade: actionâ€‹
Script:
void trigger(event, entity, player, database) {
String productId = entity.attributes.product;
Object product = database.getCollection("product__c")
.findOne("{_id:#}", productId)
.as(Object.class);
entity.attributes.put("price", product.price);
}
Esses sÃ£o apenas alguns exemplos. Triggers podem ser usadas para gerar rankings,
controlar regras de elegibilidade, criar experiÃªncias mais personalizadas e muito mais.

9.8. Cuidados, LimitaÃ§Ãµes e Boas PrÃ¡ticas no Uso de
Triggers
Triggers sÃ£o extremamente poderosas, mas precisam ser usadas com responsabilidade. Veja
os principais cuidados, limitaÃ§Ãµes e boas prÃ¡ticas recomendadas para desenvolvimento com
triggers no Funifier.

Performance e EficiÃªncia
â—â€‹ Cuidado com loops: Evite loops desnecessÃ¡rios sobre grandes coleÃ§Ãµes. Cada
chamada a find() ou aggregate() consome recursos do banco.
â—â€‹ Evite triggers que disparam outras triggers em cascata. Isso pode gerar sobrecarga
e comportamento imprevisÃ­vel.
â—â€‹ Utilize filtros bem definidos nas queries para nÃ£o sobrecarregar o banco.â€‹

Boas PrÃ¡ticas de CÃ³digo
â—â€‹ Sempre valide os dados recebidos no entity antes de fazer qualquer operaÃ§Ã£o.
â—â€‹ Use condicionais para evitar que uma trigger rode desnecessariamente (Ex.: verifique o
tipo da conquista, departamento do jogador, etc.).
â—â€‹ Documente dentro do prÃ³prio script o que sua trigger faz.

â—â€‹ Prefira o uso de Managers para manipular objetos padrÃµes (players, achievements,
actions) â€” eles garantem integridade de dados.â€‹

Uso Correto do Database
â—â€‹ Utilize database.getCollection() para acessar dados customizados.
â—â€‹ Prefira usar aggregate() quando precisar processar grandes volumes de dados de
forma otimizada no prÃ³prio MongoDB.â€‹

LimitaÃ§Ãµes TÃ©cnicas
â—â€‹ Triggers rodam em ambiente controlado. Elas nÃ£o podem executar comandos externos
ao sandbox da plataforma, exceto requisiÃ§Ãµes HTTP.
â—â€‹ NÃ£o Ã© possÃ­vel manipular diretamente arquivos, sistema de arquivos ou executar cÃ³digo
externo.
â—â€‹ RequisiÃ§Ãµes HTTP devem ser rÃ¡pidas. Se a API externa for lenta, isso impactarÃ¡ no
desempenho da sua gamificaÃ§Ã£o.

Debug e Testes
â—â€‹ Antes de ativar uma trigger em produÃ§Ã£o, teste em uma gamificaÃ§Ã£o de
desenvolvimento.
â—â€‹ Utilize logs na plataforma para acompanhar erros e execuÃ§Ãµes.
â—â€‹ FaÃ§a testes manuais executando aÃ§Ãµes que disparam a trigger e valide os efeitos no
banco (via Database Explorer ou API).
â€‹
Triggers sÃ£o um dos maiores diferenciais da plataforma Funifier. Elas permitem levar sua
gamificaÃ§Ã£o a um nÃ­vel de automaÃ§Ã£o e inteligÃªncia muito alÃ©m de regras prÃ©-definidas.
Quando bem utilizadas, podem transformar completamente a experiÃªncia dos jogadores
e a eficiÃªncia dos processos.

10. PrincÃ­pios BÃ¡sicos de SeguranÃ§a
A seguranÃ§a dos dados na Funifier Ã© uma prioridade fundamental tanto para a plataforma
quanto para vocÃª, administrador ou desenvolvedor de gamificaÃ§Ãµes. A proteÃ§Ã£o das
informaÃ§Ãµes dos jogadores, dos dados operacionais e dos sistemas integrados Ã© essencial
para garantir a privacidade, a confiabilidade e a integridade das suas soluÃ§Ãµes.
A Funifier oferece um conjunto robusto de recursos de seguranÃ§a que incluem autenticaÃ§Ã£o,
controle de acesso granular, criptografia de dados sensÃ­veis e prÃ¡ticas recomendadas para
desenvolvimento seguro. No entanto, a seguranÃ§a Ã© uma responsabilidade compartilhada:
enquanto a plataforma oferece as ferramentas, cabe a vocÃª configurÃ¡-las corretamente e seguir
as melhores prÃ¡ticas.

Neste tÃ³pico, vocÃª aprenderÃ¡:
â—â€‹ Como funciona o modelo de autenticaÃ§Ã£o e controle de acesso da Funifier.
â—â€‹ Como proteger seus dados usando roles, scopes e session timeout.
â—â€‹ Como funciona a autenticaÃ§Ã£o de jogadores e aplicativos.
â—â€‹ Como implementar criptografia de dados sensÃ­veis.
â—â€‹ Como realizar operaÃ§Ãµes seguras no ciclo de vida dos jogadores, incluindo troca de
senha, autenticaÃ§Ã£o com email e proteÃ§Ã£o de dados pessoais (PII).
â—â€‹ Quais sÃ£o as boas prÃ¡ticas, limitaÃ§Ãµes e recomendaÃ§Ãµes para garantir mÃ¡xima
seguranÃ§a na sua gamificaÃ§Ã£o.â€‹

10.1. Modelos de AutenticaÃ§Ã£o no Funifier
A autenticaÃ§Ã£o Ã© o primeiro pilar da seguranÃ§a no Funifier. Ela garante que somente usuÃ¡rios,
jogadores ou aplicativos autorizados possam acessar sua gamificaÃ§Ã£o e os dados nela
contidos.
O Funifier oferece diferentes modelos de autenticaÃ§Ã£o para atender Ã s necessidades tanto de
aplicaÃ§Ãµes client-side (front-end) quanto server-side (back-end), proporcionando flexibilidade e
seguranÃ§a.

Tipos de AutenticaÃ§Ã£o DisponÃ­veis
AutenticaÃ§Ã£o de Jogadores (Player Authentication)
â—â€‹ Uso: Ideal para quando jogadores precisam acessar suas prÃ³prias informaÃ§Ãµes na
gamificaÃ§Ã£o, registrar aÃ§Ãµes e interagir com sistemas de forma segura.
â—â€‹ MÃ©todo: Via login e senha (se configurado na Ã¡rea de seguranÃ§a) ou mÃ©todos OAuth
personalizados.
â—â€‹ Token: Gera um token do tipo Bearer, nomeado (associado ao jogador).
â—â€‹ Validade: Possui tempo de expiraÃ§Ã£o (configurÃ¡vel, padrÃ£o 7 dias).
â—â€‹ PermissÃµes: Limitadas por scopes definidos na role player ou roles personalizadas.â€‹
Exemplo de geraÃ§Ã£o de token via senha:
POST https://service2.funifier.com/v3/auth/token
Content-Type: application/x-www-form-urlencoded
apiKey=API_KEY&username=player_login&password=player_password&grant_type=password

AutenticaÃ§Ã£o de Aplicativos (App Authentication)
â—â€‹ Uso: Ideal para integraÃ§Ãµes entre servidores, automaÃ§Ãµes ou sistemas administrativos.
â—â€‹ MÃ©todos disponÃ­veis:
â—‹â€‹ Basic Authentication: Usa ApiKey + Secret. Token nunca expira.

â—‹â€‹ Client Credentials (OAuth2): Usa ApiKey + Secret. Token do tipo Bearer com
validade configurÃ¡vel (padrÃ£o 7 dias).â€‹
Exemplo de autenticaÃ§Ã£o via Client Credentials:
POST https://service2.funifier.com/v3/auth/token
Content-Type: application/x-www-form-urlencoded
client_id=API_KEY&client_secret=APP_SECRET&grant_type=client_credentials

CaracterÃ­sticas dos Tokens
Tipo

Player Password
(Bearer)
Client Credentials
Basic Token

Expira

âœ…
âœ…
âŒ

Nominal
(associa ao
jogador)

âœ…
âŒ
âŒ

Usa "me" nas
rotas

Atualiza scope
em tempo real

âœ…
âŒ
âŒ

âŒ
âŒ
âœ…

Quando Usar Cada Tipo
CenÃ¡rio

Melhor AutenticaÃ§Ã£o

Jogador logando no app (client-side)

Password (Bearer)

API server comunicando com Funifier

Client Credentials ou Basic

Dashboard administrativo personalizado

Basic

IntegraÃ§Ãµes que nÃ£o podem expirar (webhook)

Basic

Jogos, apps mÃ³veis com usuÃ¡rios autenticados

Password (Bearer)

Boas PrÃ¡ticas para AutenticaÃ§Ã£o
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Nunca compartilhe sua App Secret publicamente.
Prefira Client Credentials ou Basic para integraÃ§Ãµes backend.
Sempre use HTTPS nas requisiÃ§Ãµes Ã  API.
Evite expor tokens em front-end, especialmente o Basic Token que nÃ£o expira.
Use roles e scopes para controlar o que cada token pode acessar.

10.2. Controle de Acesso com Roles e Scopes
O controle de acesso no Funifier Ã© baseado em dois pilares fundamentais:
1.â€‹ Roles (PapÃ©is): Grupos de permissÃµes que podem ser atribuÃ­dos a jogadores ou
aplicativos.
2.â€‹ Scopes (Escopos): Definem exatamente quais operaÃ§Ãµes podem ser realizadas em
quais endpoints da API.â€‹
A combinaÃ§Ã£o desses dois elementos permite que vocÃª configure desde acessos
extremamente restritos atÃ© permissÃµes administrativas completas, garantindo seguranÃ§a,
flexibilidade e aderÃªncia Ã s necessidades especÃ­ficas da sua gamificaÃ§Ã£o.

Como Funciona
â—â€‹ Quando um jogador ou um aplicativo se autentica, ele recebe um token com as
permissÃµes definidas nas roles atribuÃ­das.
â—â€‹ A API valida essas permissÃµes a cada requisiÃ§Ã£o.
â—â€‹ O controle Ã© feito por:
â—‹â€‹ OperaÃ§Ã£o: read, write, delete
â—‹â€‹ Endpoint: Ex.: player, action_log, challenge, ou all para todos.

Exemplo de DeclaraÃ§Ãµes de Scope
DeclaraÃ§Ã£o

DescriÃ§Ã£o

read_all

Permite ler todos os endpoints

write_action_log

Permite gravar logs de aÃ§Ã£o

read_player_me

Permite ler os prÃ³prios dados do jogador

read_challenge

Permite ler os desafios

write_player

Permite criar ou atualizar jogadores

delete_player

Permite excluir jogadores

write_database_registration__c

Permite criar registros na coleÃ§Ã£o
customizada registration__c

read_leaderboard

Permite consultar rankings

ComposiÃ§Ã£o do Scope
Cada entrada de scope Ã© composta por:

<operaÃ§Ã£o>_<endpoint>
â—â€‹ OperaÃ§Ãµes suportadas: read, write, delete
â—â€‹ Wildcard: O sufixo _all permite aplicar para todos os subnÃ­veis daquele endpoint.â€‹
Ex.:
â—â€‹ read_player_all â†’ Acesso a /player, /player/me, /player/status, etc.

Exemplo Real de Role
Role: player (default)
Campo

Valor

Name

player

Session Timeout

7d

Scope

read_all, write_action_log

Permite que jogadores leiam qualquer informaÃ§Ã£o pÃºblica e registrem aÃ§Ãµes (action logs), mas
nÃ£o podem criar nem excluir outros objetos.â€‹

Exemplo Real de Role: admin
Campo

Valor

Name

admin

Session Timeout

30d

Scope

read_all, write_all, delete_all

PermissÃ£o total sobre todos os endpoints.â€‹

Como Atribuir Roles a Jogadores
Endpoint:
POST /v3/role/assign

Exemplo:
{
"player": "tom",
"role": "admin"
}

Headers:
Authorization: Basic {APIKEY}:{APPSECRET}
Content-Type: application/json
Para remover:
DELETE /v3/role/assign

Hierarquia na DefiniÃ§Ã£o de Role
Ao autenticar, o Funifier segue essa lÃ³gica para determinar as permissÃµes do token:
1.â€‹ Role com ID igual ao jogador. (Se existir, tem prioridade total.)
2.â€‹ Se nÃ£o existir, entÃ£o:
â—‹â€‹ Verifica roles associadas ao jogador.
â—‹â€‹ As permissÃµes sÃ£o a soma dos scopes de todas as roles.
â—‹â€‹ O session timeout adotado serÃ¡ o menor entre todas as roles vinculadas.â€‹
3.â€‹ Se nÃ£o existir role vinculada:
â—‹â€‹ Usa a role padrÃ£o chamada player.â€‹
4.â€‹ Se nÃ£o existir role player:
â—‹â€‹ Usa uma role default mÃ­nima criada automaticamente pelo sistema.â€‹

ObservaÃ§Ã£o Importante
â—â€‹ Tokens do tipo Basic: Sempre validam o scope no momento da requisiÃ§Ã£o, ou seja, se
vocÃª alterar o scope da role ou app, o efeito Ã© imediato.
â—â€‹ Tokens do tipo Password ou Client Credentials: Carregam o scope no momento da
geraÃ§Ã£o do token. Se vocÃª alterar o scope depois, o token antigo nÃ£o Ã© afetado e
mantÃ©m as permissÃµes atÃ© expirar.â€‹

Boas PrÃ¡ticas
â—â€‹ Sempre restrinja tokens do front-end para apenas write_action_log e
read_player_me.
â—â€‹ Utilize roles diferentes para administradores e usuÃ¡rios comuns.
â—â€‹ Crie roles especÃ­ficas para tarefas sensÃ­veis, como gestÃ£o de sorteios (lottery) ou
manipulaÃ§Ã£o de dados (database).
â—â€‹ Acompanhe o uso dos tokens e rotacione as App Secrets periodicamente.
â—â€‹ Tokens do tipo Basic nunca expiram, use apenas para back-end e APIs seguras.â€‹

10.3. SessÃ£o, ExpiraÃ§Ã£o de Tokens e PolÃ­ticas de Timeout

O que Ã© uma SessÃ£o?
Na plataforma Funifier, uma sessÃ£o representa o perÃ­odo de tempo durante o qual um token de
acesso Ã© considerado vÃ¡lido. Durante essa sessÃ£o, o jogador ou aplicativo pode fazer
requisiÃ§Ãµes Ã  API utilizando aquele token, sem necessidade de se autenticar novamente.

Tipos de Tokens e Suas CaracterÃ­sticas
Tipo de Token

Password
Token
Client
Credentials
Basic Token

Expira?

Ã‰
Nominal?

âœ…
âœ…
âŒ

âœ…
âŒ
âŒ

Scope Ã©
Validado em
Tempo Real?

âŒ
âŒ
âœ…

RecomendaÃ§Ãµes

Frontend, apps pÃºblicos,
mobile, web
Backend, automaÃ§Ãµes,
integraÃ§Ãµes
Backend, APIs privadas, uso
interno

PolÃ­ticas de ExpiraÃ§Ã£o (Session Timeout)
Quando vocÃª gera um token (Password ou Client Credentials), ele terÃ¡ um tempo de expiraÃ§Ã£o
configurado pelas Roles associadas ao jogador ou ao aplicativo.

Como Ã© configurado?
â—â€‹ Acesse:â€‹
Studio â†’ Security â†’ Roles
â—â€‹ Campo:â€‹
Session Timeout
â—â€‹ Formato:â€‹
<quantidade><unidade>â€‹
Unidade

DescriÃ§Ã£o

y

Ano

M

MÃªs

w

Semana

d

Dia

h

Hora

m

Minuto

s

Segundo

Exemplos:
Valor

InterpretaÃ§Ã£o

7d

7 dias

12h

12 horas

30m

30 minutos

90s

90 segundos (1,5 min)

Como Funciona na PrÃ¡tica?
â—â€‹ No momento da geraÃ§Ã£o do token, o tempo de expiraÃ§Ã£o Ã© calculado com base no
session timeout das roles.
â—â€‹ Se o jogador ou app tiver mÃºltiplas roles, o menor session timeout serÃ¡ aplicado.
â—â€‹ Quando o token expira, todas as requisiÃ§Ãµes passam a receber a resposta:â€‹
{
"message": "token expired or format invalid",
"code": 401,
"type": "Unauthorized"
}

O Que Acontece Quando o Token Expira?
â—â€‹ O acesso Ã  API Ã© imediatamente bloqueado.
â—â€‹ A aplicaÃ§Ã£o precisa:
â—‹â€‹ Fazer o processo de autenticaÃ§Ã£o novamente.
â—‹â€‹ Ou, em ambientes client-side, exibir mensagem solicitando novo login.

Tokens do Tipo Basic: AtenÃ§Ã£o
â—â€‹ Nunca expiram.
â—â€‹ Sempre respeitam o scope atual da role ou app, mesmo que este seja alterado apÃ³s a
emissÃ£o do token.
â—â€‹ Por isso, use Basic Tokens apenas em integraÃ§Ãµes backend seguras, nunca em
aplicaÃ§Ãµes pÃºblicas.

EstratÃ©gias Recomendadas
â—â€‹ Front-end: Use Password Tokens. Crie session timeouts curtos (ex.: 1d ou 2h) e force o
jogador a se autenticar novamente apÃ³s expirar.
â—â€‹ Back-end: Use Client Credentials ou Basic Tokens, com roles bem definidas, escopos
limitados e segredos rotacionados periodicamente.
â—â€‹ Implemente uma rotina que detecte respostas 401 e faÃ§a logout automÃ¡tico na interface
do usuÃ¡rio.â€‹

Exemplo de ValidaÃ§Ã£o no Frontend (Logout AutomÃ¡tico)
$http({
method: "GET",
url: Funifier.config.service + '/v3/player/me',
headers: {"Authorization": Funifier.auth.getAuthorization()}
}).then(function(response){
console.log(response.data);
}, function(err){
if(err.status === 401){
alert("Sua sessÃ£o expirou, por favor faÃ§a login novamente.");
Funifier.auth.logout();
window.location.href = "/login.html";
}
});

10.4. Criptografia de Dados no Funifier
O que Ã© Criptografia no Funifier?
A criptografia no Funifier Ã© uma funcionalidade que permite proteger dados sensÃ­veis
armazenados na sua gamificaÃ§Ã£o, garantindo que apenas usuÃ¡rios, aplicativos ou APIs
autorizadas possam visualizar determinados campos.
Os campos criptografados sÃ£o protegidos com chaves AES (Advanced Encryption Standard) de
128 bits, garantindo alto nÃ­vel de seguranÃ§a e aderÃªncia Ã s principais legislaÃ§Ãµes de proteÃ§Ã£o
de dados, como LGPD, GDPR, entre outras.

Como Funciona?
â—â€‹ Dados sensÃ­veis, como email, telefone, CPF, informaÃ§Ãµes bancÃ¡rias, segredos,
podem ser configurados para serem criptografados diretamente no banco de dados.
â—â€‹ Quem nÃ£o tiver permissÃ£o especÃ­fica verÃ¡ esses campos como textos cifrados (nÃ£o
legÃ­veis).

â—â€‹ UsuÃ¡rios e APIs com a permissÃ£o correta podem visualizar e manipular esses dados de
forma descriptografada.â€‹

Habilitando a Criptografia
1. Requisito:
â—â€‹ Sua conta precisa ter o mÃ³dulo de criptografia ativado. Se nÃ£o estiver, solicite Ã  equipe
da Funifier.

2. Configurando a Chave de Criptografia:
â—â€‹ Acesse: Studio â†’ Settings â†’ Security Settings â†’ Field Encryption â†’
Manage Encryption
â—â€‹ Clique em "Key Management" â†’ "Create" para gerar sua chave de seguranÃ§a.
â—â€‹ A chave deve ser forte, Ãºnica e mantida em sigilo absoluto.â€‹

3. Escolhendo os Campos para Criptografar:
â—â€‹ Acesse a aba "Field Encryption".â€‹
â—â€‹ Informe:
â—‹â€‹ Entity: Nome da coleÃ§Ã£o (ex.: player).
â—‹â€‹ Fields: Quais campos serÃ£o criptografados (ex.: email, extra.secret).â€‹

Visualizando Dados Criptografados

âœ… Com PermissÃ£o

Dados aparecem
descriptografados.

âŒ Sem PermissÃ£o

Dados aparecem como texto cifrado
ilegÃ­vel.

PermissÃ£o necessÃ¡ria:
read_encrypted_field_values

Regras e RestriÃ§Ãµes
â—â€‹ Campos criptografados:
â—‹â€‹ Devem ser do tipo String.
â—‹â€‹ NÃ£o podem ser Ãºnicos, ID externo, ou objetos.
â—‹â€‹ NÃ£o sÃ£o utilizÃ¡veis em filtros, relatÃ³rios, sumÃ¡rios ou buscas.â€‹

RotaÃ§Ã£o de Chaves
â—â€‹ VocÃª pode gerar uma nova chave de criptografia periodicamente.
â—â€‹ Dados antigos continuam protegidos com a chave anterior atÃ© serem reprocessados.

â—â€‹ A Funifier oferece uma rotina de reprocessamento que descriptografa os dados antigos
e os reescreve usando a nova chave, garantindo seguranÃ§a contÃ­nua.â€‹

Exemplos PrÃ¡ticos
Definindo Criptografia no Campo extra.secret do Jogador:
Entity: player
Fields: extra.secret

Leitura de Dados Criptografados no CÃ³digo Java de Trigger:
void trigger(event, entity, player, database) {
Player encrypted = manager.getPlayerManager().findById(player);
Player decrypted = (Player) manager.getCryptManager().decryptFields("player", encrypted);
println("Criptografado: " + encrypted.extra.get("secret"));
println("Descriptografado: " + decrypted.extra.get("secret"));
}

Visibilidade de Senhas
â—â€‹ As senhas dos jogadores sÃ£o sempre criptografadas e nunca podem ser
descriptografadas, nem por usuÃ¡rios administradores.
â—â€‹ PorÃ©m, vocÃª pode controlar quem pode visualizar o campo password (sempre
criptografado) atravÃ©s da permissÃ£o:â€‹
read_encrypted_player_password

Boas PrÃ¡ticas
â—â€‹ Criptografe apenas o que for realmente sensÃ­vel. A criptografia gera sobrecarga de
processamento e limita funcionalidades como filtros e buscas.
â—â€‹ Sempre mantenha sua chave de criptografia protegida.
â—â€‹ Implemente rotinas periÃ³dicas de rotaÃ§Ã£o de chave, especialmente em ambientes com
requisitos de compliance.

10.5. ProteÃ§Ã£o de Dados Pessoais (PII) e Conformidade
com LGPD e GDPR
O que sÃ£o PII, LGPD e GDPR?

â—â€‹ PII (Personally Identifiable Information)â€‹
SÃ£o dados que permitem identificar uma pessoa especÃ­fica, como: nome, CPF, e-mail,
telefone, endereÃ§o, entre outros.
â—â€‹ LGPD (Lei Geral de ProteÃ§Ã£o de Dados â€“ Brasil)â€‹
LegislaÃ§Ã£o brasileira que regula o tratamento de dados pessoais, exigindo que
empresas adotem medidas de seguranÃ§a, transparÃªncia e consentimento dos titulares.
â—â€‹ GDPR (General Data Protection Regulation â€“ Europa)â€‹
LegislaÃ§Ã£o europeia que protege os dados dos cidadÃ£os da UniÃ£o Europeia, com
regras rÃ­gidas sobre coleta, armazenamento e uso de dados pessoais.â€‹

Como a Funifier ajuda na ProteÃ§Ã£o de Dados?
A Funifier foi construÃ­da com ferramentas e recursos que permitem implementar prÃ¡ticas
seguras no tratamento de dados, ajudando sua empresa a estar em conformidade com
legislaÃ§Ãµes como LGPD e GDPR.

Recursos de SeguranÃ§a DisponÃ­veis:
â—â€‹ Criptografia de Campos SensÃ­veisâ€‹
Permite armazenar informaÃ§Ãµes pessoais de forma cifrada no banco de dados.
â—â€‹ Controle de Acesso com Roles e Scopesâ€‹
Restringe quais dados e endpoints cada jogador, app ou usuÃ¡rio pode acessar.
â—â€‹ AutenticaÃ§Ã£o Segura e Tokens Controladosâ€‹
Tokens temporÃ¡rios, autenticaÃ§Ã£o por senha, OAuth2 (Client Credentials) e Basic Auth.
â—â€‹ Registro e Auditoriaâ€‹
Todos os acessos e operaÃ§Ãµes ficam registrados via logs, permitindo auditoria de
acessos.
â—â€‹ AnonimizaÃ§Ã£o e PseudonimizaÃ§Ã£o (Via Triggers ou Processos)â€‹
PossÃ­vel implementar rotinas que anonimizam ou removem dados sensÃ­veis de
jogadores, se necessÃ¡rio.â€‹

Como Proteger Dados PII na PrÃ¡tica?
1. Criptografar Dados SensÃ­veis
â—â€‹ Email, telefone, CPF e outros dados podem ser criptografados utilizando o mÃ³dulo de
Field Encryption da Funifier.â€‹
2. Evitar Uso de Dados Pessoais como ID
â—â€‹ O campo _id do jogador, por padrÃ£o, Ã© usado como login. Caso use email ou CPF,
recomenda-se utilizar login alternativo (alternative_logins) e nÃ£o no _id.â€‹
3. Criar Triggers para Gerenciar PII
â—â€‹ Triggers podem ser usadas para:

â—‹â€‹ Criptografar dados no momento do cadastro.
â—‹â€‹ Gerar IDs aleatÃ³rios.
â—‹â€‹ Sincronizar dados sensÃ­veis de forma segura.â€‹
4. Controle Estrito de PermissÃµes
â—â€‹ Defina roles especÃ­ficas:
â—‹â€‹ Ex.: admin, data_protection_officer.
â—â€‹ PermissÃ£o obrigatÃ³ria para visualizar dados sensÃ­veis:â€‹
read_encrypted_field_valuesâ€‹
5. Implemente Processo de ExclusÃ£o ou AnonimizaÃ§Ã£o
â—â€‹ Caso o usuÃ¡rio solicite a remoÃ§Ã£o dos dados (direito previsto na LGPD e GDPR),
implemente:
â—‹â€‹ Trigger para limpar ou anonimizar dados.
â—‹â€‹ RemoÃ§Ã£o de registros sensÃ­veis de coleÃ§Ãµes customizadas.â€‹

Exemplo PrÃ¡tico: Cadastro Protegido com Email Criptografado
â—â€‹ O email Ã© criptografado e armazenado no campo alternative_logins.
â—â€‹ O _id do jogador Ã© gerado de forma aleatÃ³ria (nÃ£o Ã© mais o email).â€‹
Trigger Exemplo:
void trigger(event, entity, player, database){
entity._id = Guid.shortTimeMillis();
Object encrypt = manager.getCryptManager().encryptFields("player", entity);
entity.email = encrypt.email;
entity.addAlternativeLogin(encrypt.email);
}

Importante:
A palavra reservada me nÃ£o funciona com login alternativo criptografado. Nesse caso, o
sistema utiliza internamente o _id do jogador para identificar o usuÃ¡rio autenticado.

BenefÃ­cios de Estar em Conformidade
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Atende Ã s exigÃªncias legais (LGPD, GDPR).
Protege seus jogadores e seus dados sensÃ­veis.
Melhora a reputaÃ§Ã£o da sua empresa no mercado.
Evita riscos de multas e sanÃ§Ãµes.â€‹

11. LogÃ­stica e PolÃ­ticas do Exame
Objetivo da CertificaÃ§Ã£o
A certificaÃ§Ã£o Funifier Gamification Developer I valida a sua capacidade de implementar
gamificaÃ§Ãµes utilizando a API da Funifier, manipular dados, criar integraÃ§Ãµes, desenvolver
interfaces com widgets e realizar automaÃ§Ãµes utilizando triggers no Funifier Studio. Esta Ã© uma
certificaÃ§Ã£o essencial para profissionais que desejam dominar o desenvolvimento tÃ©cnico de
soluÃ§Ãµes gamificadas dentro do ecossistema Funifier.

PÃºblico-Alvo
â—â€‹ Desenvolvedores, programadores, consultores tÃ©cnicos e profissionais de tecnologia
que trabalham na implementaÃ§Ã£o de gamificaÃ§Ãµes.
â—â€‹ Profissionais interessados em criar integraÃ§Ãµes, personalizar front-ends, desenvolver
automaÃ§Ãµes e construir soluÃ§Ãµes robustas com a plataforma Funifier.â€‹

PrÃ©-Requisito
â—â€‹ NÃ£o hÃ¡ prÃ©-requisitos formais para esta certificaÃ§Ã£o.
â—â€‹ Conhecimentos bÃ¡sicos de lÃ³gica de programaÃ§Ã£o e requisiÃ§Ãµes API sÃ£o recomendados
para melhor desempenho no exame.â€‹

Principais CompetÃªncias Avaliadas
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

ManipulaÃ§Ã£o da API REST Funifier (endpoints principais e database)
CriaÃ§Ã£o e customizaÃ§Ã£o de widgets (HTML, CSS, Javascript)
Desenvolvimento de interfaces conectadas Ã  API
ImplementaÃ§Ã£o de triggers e automaÃ§Ãµes via scripts Java no Funifier
ManipulaÃ§Ã£o de dados com aggregates
SeguranÃ§a, autenticaÃ§Ã£o e controle de acesso na API Funifierâ€‹

Detalhes do Exame
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

Tipo de AvaliaÃ§Ã£o: Prova objetiva (mÃºltipla escolha)
NÃºmero de QuestÃµes: 60 perguntas
NÃ­vel de Dificuldade: IntermediÃ¡rio
DuraÃ§Ã£o: 90 minutos
Custo: R$ 800
Local: Online ou em centros de teste credenciados
PontuaÃ§Ã£o para AprovaÃ§Ã£o: 65% de acerto
Resultados: DisponÃ­veis imediatamente apÃ³s a conclusÃ£oâ€‹

PolÃ­ticas do Programa de CertificaÃ§Ã£o

â—â€‹ Material: NÃ£o Ã© permitido o uso de materiais impressos, anotaÃ§Ãµes ou acesso a
recursos online durante o exame.
â—â€‹ Termo de ConcordÃ¢ncia: Ao participar, vocÃª concorda com o Acordo do Programa de
CertificaÃ§Ã£o Funifier, que estabelece diretrizes sobre:
â—‹â€‹ Confidencialidade: ProteÃ§Ã£o do conteÃºdo da prova e nÃ£o compartilhamento de
perguntas e respostas.
â—‹â€‹ Conduta: ProibiÃ§Ã£o de qualquer tipo de cola, consulta ou comportamento
desonesto.
â—‹â€‹ Integridade: Compromisso com Ã©tica, honestidade e profissionalismo durante
todo o processo de avaliaÃ§Ã£o.

12. ManutenÃ§Ã£o da CertificaÃ§Ã£o
Mantendo sua certificaÃ§Ã£o Funifier Gamification
Developer I ativa e vÃ¡lida:
AtualizaÃ§Ãµes Anuais
â—â€‹ Ã‰ obrigatÃ³rio concluir mÃ³dulos de atualizaÃ§Ã£o anuais, que incluem:
â—‹â€‹ Novas funcionalidades da API e plataforma Funifier
â—‹â€‹ AtualizaÃ§Ãµes de seguranÃ§a, autenticaÃ§Ã£o e melhores prÃ¡ticas de
desenvolvimento
â—‹â€‹ Novas funcionalidades em widgets, aggregates, triggers e interfaceâ€‹

Validade da CertificaÃ§Ã£o
â—â€‹ Caso nÃ£o seja realizada a atualizaÃ§Ã£o no prazo estipulado, a certificaÃ§Ã£o passarÃ¡ ao
status de inativa/expirada, e serÃ¡ necessÃ¡rio realizar um novo exame completo para
reativaÃ§Ã£o.

ConclusÃ£o
Este guia foi desenvolvido para fornecer todos os conteÃºdos necessÃ¡rios para a sua
preparaÃ§Ã£o completa rumo Ã  certificaÃ§Ã£o Funifier Gamification Developer I. Agora Ã© com
vocÃª! Revise, pratique, desenvolva protÃ³tipos, simule integraÃ§Ãµes e mergulhe profundamente
no universo da Funifier. Boa sorte na prova! Que vocÃª se torne oficialmente um(a) Funifier
Developer certificado(a)!

Anexo I - MÃ³dulos Funifier

A plataforma Funifier Ã© composta por diversos mÃ³dulos que permitem ao designer configurar,
personalizar e gerenciar cada aspecto de uma estratÃ©gia de gamificaÃ§Ã£o. Cada mÃ³dulo atende
a uma funÃ§Ã£o especÃ­fica, desde o cadastro de aÃ§Ãµes e participantes atÃ© a definiÃ§Ã£o de regras,
recompensas, campanhas e integraÃ§Ãµes externas. A seguir, apresentamos os principais
mÃ³dulos da plataforma, organizados por assunto, com suas respectivas funÃ§Ãµes e exemplos de
uso para facilitar o entendimento e a implementaÃ§Ã£o no Funifier Studio ou via API.

MÃ³dulos de ConfiguraÃ§Ã£o BÃ¡sica
A configuraÃ§Ã£o bÃ¡sica Ã© o ponto de partida para qualquer gamificaÃ§Ã£o no Funifier. Aqui vocÃª
define as principais entidades que serÃ£o utilizadas ao longo da estratÃ©gia: as aÃ§Ãµes que os
jogadores podem realizar, quem sÃ£o esses jogadores e como eles se agrupam em equipes.

Action (AÃ§Ã£o)
â—â€‹ Acesso: /studio/action
â—â€‹ API: /v3/action
â—â€‹ FunÃ§Ã£o: Cadastro das diferentes aÃ§Ãµes que os jogadores podem realizar na
gamificaÃ§Ã£o.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar e configurar todas as aÃ§Ãµes possÃ­veis dentro da experiÃªncia gamificada,
como â€œvenderâ€, â€œcomprarâ€, â€œcomentarâ€, â€œcompartilharâ€, entre outras. As aÃ§Ãµes sÃ£o a base
da estratÃ©gia de engajamento, pois definem o que Ã© possÃ­vel fazer na gamificaÃ§Ã£o e
servem para disparar regras e recompensas. Ã‰ possÃ­vel adicionar atributos extras a
cada aÃ§Ã£o, por exemplo, â€œprodutoâ€ e â€œvalorâ€ na aÃ§Ã£o de venda. Isso possibilita desde
interaÃ§Ãµes simples atÃ© configuraÃ§Ãµes avanÃ§adas, como metas personalizadas.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ AÃ§Ã£o de â€œlogarâ€ para iniciar sessÃ£o.
â—‹â€‹ AÃ§Ã£o de â€œvenderâ€ com atributos de produto e valor, permitindo criar regras como
â€œvender 2 carros de R$50.000 por semana durante 3 mesesâ€.â€‹

Player (Jogador)
â—â€‹ Acesso: /studio/player
â—â€‹ API: /v3/player

â—â€‹ FunÃ§Ã£o: Cadastro e gerenciamento dos participantes da gamificaÃ§Ã£o.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite cadastrar e detalhar cada jogador, incluindo nome, login, email, equipes,
amigos, foto, avatar e informaÃ§Ãµes adicionais como telefone (para envio de SMS),
integraÃ§Ã£o com redes sociais (para contabilizar interaÃ§Ãµes externas) e data de
aniversÃ¡rio (para recompensas exclusivas). TambÃ©m Ã© possÃ­vel definir senha para cada
jogador no momento da configuraÃ§Ã£o.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Cadastro do jogador JoÃ£o Silva, com login â€œjsilvaâ€, email
â€œjoao.silva@example.comâ€, equipe â€œVendasâ€ e foto de perfil.

Team (Equipe)
â—â€‹ Acesso: /studio/team
â—â€‹ API: /v3/team
â—â€‹ FunÃ§Ã£o: ConfiguraÃ§Ã£o de grupos ou equipes de jogadores.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar grupos fixos (como â€œEquipe de Vendasâ€ ou â€œEquipe de Tecnologiaâ€) ou
equipes dinÃ¢micas, formadas automaticamente com base em critÃ©rios como
aniversariantes do dia. O designer pode nomear equipes e adicionar imagens ou
brasÃµes personalizados, como acontece em times esportivos. Equipes permitem a
competiÃ§Ã£o ou colaboraÃ§Ã£o entre grupos dentro da gamificaÃ§Ã£o.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Equipe de Tecnologia, composta por desenvolvedores e analistas.
â—‹â€‹ Equipe dinÃ¢mica de aniversariantes do dia, formada automaticamente pela data
de nascimento dos jogadores.

MÃ³dulos de MecÃ¢nicas de Jogos
Os mÃ³dulos de mecÃ¢nicas de jogos sÃ£o responsÃ¡veis por estruturar toda a lÃ³gica de
progressÃ£o, desafios, recompensas, competiÃ§Ã£o e interaÃ§Ã£o entre jogadores dentro da
gamificaÃ§Ã£o. Eles possibilitam criar experiÃªncias ricas, dinÃ¢micas e adaptadas a diferentes
pÃºblicos e objetivos, permitindo ao designer implementar desde mecÃ¢nicas clÃ¡ssicas, como

pontos e rankings, atÃ© experiÃªncias inovadoras, como sorteios, avatares personalizados e
histÃ³rias interativas.

Point (Ponto)
â—â€‹ Acesso: /studio/point
â—â€‹ API: /v3/point
â—â€‹ FunÃ§Ã£o: ConfiguraÃ§Ã£o dos diferentes tipos de pontuaÃ§Ã£o que os jogadores podem
conquistar.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar e personalizar unidades de medida de progresso, como XP, moedas
virtuais, pontos de conhecimento ou mÃ©tricas customizadas. Os pontos sÃ£o
fundamentais para recompensar aÃ§Ãµes, mensurar desempenho e alimentar outros
mÃ³dulos, como rankings, lojas virtuais e desafios.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ XP, moedas, karma, pontos em diferentes Ã¡reas de conhecimento ou
desempenho.â€‹

Challenge (Desafio)
â—â€‹ Acesso: /studio/challenge
â—â€‹ API: /v3/challenge
â—â€‹ FunÃ§Ã£o: ConfiguraÃ§Ã£o de desafios a serem completados por jogadores ou equipes.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar desafios personalizados, definindo aÃ§Ãµes e recompensas envolvidas. Os
desafios podem variar de simples tarefas a missÃµes complexas compostas por mÃºltiplas
aÃ§Ãµes ou etapas, exigindo planejamento e engajamento dos participantes.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Assistir a um vÃ­deo para ganhar pontos; vender produtos por uma semana para
ganhar prÃªmios; completar uma sequÃªncia de aÃ§Ãµes para receber recompensas
especiais.â€‹

Level (NÃ­vel)
â—â€‹ Acesso: /studio/level
â—â€‹ API: /v3/level
â—â€‹ FunÃ§Ã£o: Sistema de progressÃ£o por nÃ­veis.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite definir a progressÃ£o dos jogadores com base em pontos acumulados ou outros
critÃ©rios, atribuindo tÃ­tulos ou benefÃ­cios a cada nÃ­vel. Pode-se exigir tambÃ©m desafios
especÃ­ficos para desbloquear certos nÃ­veis, tornando a progressÃ£o mais desafiadora.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ TÃ­tulos como JÃºnior, Pleno, SÃªnior em ambientes corporativos; faixas coloridas
em artes marciais.â€‹

Leaderboard (Ranking)
â—â€‹ Acesso: /studio/leaderboard
â—â€‹ API: /v3/leaderboard
â—â€‹ FunÃ§Ã£o: CriaÃ§Ã£o e gestÃ£o de rankings.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite comparar o desempenho dos jogadores utilizando diferentes critÃ©rios, como
pontos, tempo, ou mÃ©tricas customizadas. Rankings podem ser individuais, por equipes,
por perÃ­odo ou por status.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Ranking de vendedores por volume de vendas; funcionÃ¡rios com mais pontos;
alunos com melhores notas.â€‹

Virtual Good (Loja Virtual)
â—â€‹ Acesso: /studio/catalog
â—â€‹ API: /v3/catalog
â—â€‹ FunÃ§Ã£o: Cadastro e gestÃ£o de objetos e benefÃ­cios que podem ser adquiridos pelos
jogadores.â€‹

â—â€‹ DescriÃ§Ã£o:â€‹
Permite cadastrar produtos fÃ­sicos, virtuais ou benefÃ­cios, estipular preÃ§os, quantidades,
limites de compra e atributos. Os jogadores podem trocar pontos ou itens por esses
objetos, que tambÃ©m podem ser concedidos como recompensas de desafios.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Camiseta de evento por 100 pontos; resgate de drone com peÃ§as colecionÃ¡veis;
gift cards; itens virtuais para avatares.â€‹

Lottery (Sorteio)
â—â€‹ Acesso: /studio/lottery
â—â€‹ API: /v3/lottery
â—â€‹ FunÃ§Ã£o: ConfiguraÃ§Ã£o de sorteios e concursos.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar sorteios nos quais os jogadores participam com cupons obtidos em outras
mecÃ¢nicas, como desafios. Ã‰ possÃ­vel definir datas, limites de ganhadores e prÃªmios
para os sorteados.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Sorteio de viagem; campanhas promocionais com distribuiÃ§Ã£o de cupons.â€‹

Competition (CompetiÃ§Ã£o)
â—â€‹ Acesso: /studio/competition
â—â€‹ API: /v3/competition
â—â€‹ FunÃ§Ã£o: ConfiguraÃ§Ã£o de disputas diretas entre jogadores ou equipes.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar competiÃ§Ãµes com regras prÃ³prias, prÃªmios para diferentes posiÃ§Ãµes e
critÃ©rios de apuraÃ§Ã£o customizÃ¡veis. Geralmente, o jogador ou equipe precisa se
inscrever para participar.â€‹
â—â€‹ Exemplo de uso:â€‹

â—‹â€‹ CompetiÃ§Ã£o de vendas semanais com premiaÃ§Ã£o para os melhores colocados.â€‹

Swap (Troca)
â—â€‹ Acesso: /studio/swap
â—â€‹ API: /v3/swap
â—â€‹ FunÃ§Ã£o: NegociaÃ§Ã£o e troca de objetos ou pontos entre jogadores.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite que jogadores faÃ§am ofertas pÃºblicas de troca, negociando objetos ou pontos.
Outros jogadores podem aceitar ou propor novas condiÃ§Ãµes, incentivando a
colaboraÃ§Ã£o e interaÃ§Ã£o.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Troca de figurinhas repetidas, objetos de loja ou moedas.â€‹

Question (Pergunta)
â—â€‹ Acesso: /studio/question
â—â€‹ API: /v3/question
â—â€‹ FunÃ§Ã£o: ConfiguraÃ§Ã£o de perguntas e respostas para os jogadores.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar perguntas em diferentes formatos (mÃºltipla escolha, verdadeiro/falso, com
mÃ­dia), definir respostas corretas ou colher opiniÃµes, e aplicar pesos diferentes para as
perguntas.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Quiz de conhecimentos gerais; perguntas de opiniÃ£o para pesquisas internas.â€‹

Quiz (Quiz)
â—â€‹ Acesso: /studio/quiz
â—â€‹ API: /v3/quiz

â—â€‹ FunÃ§Ã£o: Agrupamento de perguntas em formato de prova ou simulado.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar provas compostas por perguntas, definir nota total, controlar tentativas e
embaralhar questÃµes para cada jogador. Ideal para avaliaÃ§Ãµes, simulados ou concursos
internos.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Prova de matemÃ¡tica; simulado de histÃ³ria com embaralhamento de perguntas.â€‹

Mystery (MistÃ©rio)
â—â€‹ Acesso: /studio/mystery
â—â€‹ API: /v3/mystery
â—â€‹ FunÃ§Ã£o: Jogos de probabilidade e recompensas aleatÃ³rias.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar experiÃªncias como caixas surpresa, rodas da fortuna, raspadinhas e
outros jogos baseados em sorte, definindo as chances e prÃªmios disponÃ­veis.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Roda da Fortuna com prÃªmios variados; raspadinhas premiadas.â€‹

Crossword (Palavras Cruzadas)
â—â€‹ Acesso: /studio/crossword
â—â€‹ API: /v3/crossword
â—â€‹ FunÃ§Ã£o: ConfiguraÃ§Ã£o de jogos de palavras cruzadas.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar jogos de palavras cruzadas customizados, com dicas, posiÃ§Ãµes e temas
especÃ­ficos para diferentes objetivos educacionais ou promocionais.â€‹
â—â€‹ Exemplo de uso:â€‹

â—‹â€‹ Palavras cruzadas sobre termos tÃ©cnicos para onboarding de funcionÃ¡rios;
desafios temÃ¡ticos para campanhas de marketing.â€‹

Story (HistÃ³ria)
â—â€‹ Acesso: /studio/story
â—â€‹ API: /v3/story
â—â€‹ FunÃ§Ã£o: CriaÃ§Ã£o de histÃ³rias interativas com mÃºltiplos caminhos e finais.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar narrativas gamificadas nas quais o jogador faz escolhas que afetam o
desenrolar da trama. CenÃ¡rios, personagens, imagens e vÃ­deos podem ser utilizados
para enriquecer a experiÃªncia.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Treinamentos baseados em storytelling; campanhas de marketing com
desfechos alternativos; jogos educacionais interativos.â€‹

Avatar (Avatar)
â—â€‹ Acesso: (MÃ³dulo nÃ£o tem caminho especÃ­fico no Studio, pode ser acessado em
diversos pontos)
â—â€‹ FunÃ§Ã£o: CriaÃ§Ã£o e customizaÃ§Ã£o de avatares para os jogadores.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite aos jogadores criarem avatares personalizados, desbloqueando acessÃ³rios e
itens de acordo com o desempenho na gamificaÃ§Ã£o ou por compras na loja. Pode ser
usado em ambientes 2D ou 3D.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Avatares com roupas e acessÃ³rios de uma marca; avatares para perfis em
ambientes virtuais.â€‹

LastMile (Ãšltima Milha)

â—â€‹ Acesso: /studio/lastmile
â—â€‹ API: /v3/lastmile
â—â€‹ FunÃ§Ã£o: Envio de mensagens motivacionais quando o jogador estÃ¡ prÃ³ximo de uma
meta.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite configurar mensagens automÃ¡ticas para engajar e lembrar os jogadores sobre
metas e desafios que estÃ£o prestes a serem concluÃ­dos, aumentando a taxa de
finalizaÃ§Ã£o.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Lembrete para quem completou 90% de um desafio; mensagem motivacional
para vendedores prÃ³ximos da meta.â€‹

Folder (Pasta)
â—â€‹ Acesso: /studio/folder
â—â€‹ API: /v3/folder
â—â€‹ FunÃ§Ã£o: OrganizaÃ§Ã£o de conteÃºdos e monitoramento do progresso em cursos ou
trilhas.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar pastas virtuais para agrupar conteÃºdos como quizzes, desafios, materiais
de estudo e jogos, facilitando o acompanhamento do progresso dos jogadores em
jornadas de aprendizagem ou trilhas gamificadas.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ EstruturaÃ§Ã£o de cursos online, trilhas de capacitaÃ§Ã£o, acompanhamento de
progresso em treinamentos.â€‹

MÃ³dulos de Registro de Atividades e Conquistas
Esses mÃ³dulos sÃ£o responsÃ¡veis por monitorar, registrar e comunicar cada passo dos
jogadores dentro da gamificaÃ§Ã£o. Eles viabilizam o acompanhamento do progresso, o
reconhecimento de conquistas e a geraÃ§Ã£o de feedbacks automÃ¡ticos, alÃ©m de integrarem as
mecÃ¢nicas do Funifier Ã s principais tÃ©cnicas de jogos e motivaÃ§Ãµes dos usuÃ¡rios. Utilizando

esses mÃ³dulos, o designer garante rastreabilidade, transparÃªncia e engajamento contÃ­nuo para
todos os participantes.

Action Log (Registro de AÃ§Ã£o)
â—â€‹ API: /v3/action/log
â—â€‹ FunÃ§Ã£o: Registro detalhado de todas as aÃ§Ãµes executadas pelos jogadores.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Armazena cada aÃ§Ã£o realizada, com detalhes como quem executou, qual aÃ§Ã£o foi feita
e quando ocorreu. Esse registro Ã© fundamental para alimentar todos os outros mÃ³dulos
da plataforma, permitindo calcular impactos, atualizar conquistas, rankings e enviar
notificaÃ§Ãµes relevantes.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ JoÃ£o realizou uma venda de um livro de 120 reais Ã s 11:30 do dia 01/09/2024.â€‹

Progress Log (Registro de Progresso)
â—â€‹ FunÃ§Ã£o: Monitoramento do progresso dos jogadores em relaÃ§Ã£o a objetivos, desafios
ou jornadas.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
MantÃ©m o acompanhamento em tempo real do quanto cada jogador jÃ¡ avanÃ§ou em
suas metas, desafios, quizzes ou cursos. O registro Ã© atualizado toda vez que uma nova
aÃ§Ã£o Ã© registrada, permitindo feedbacks constantes e transparentes ao participante.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Jogador completou 50% de um desafio â€œFaÃ§a 10 vendasâ€.
â—‹â€‹ Jogador avanÃ§ou 85% no curso de programaÃ§Ã£o Java.â€‹

Achievement (Conquista)
â—â€‹ API: /v3/achievement

â—â€‹ FunÃ§Ã£o: Registro das conquistas dos jogadores ao atingirem marcos relevantes.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Todas as conquistas â€“ como completar desafios, subir de nÃ­vel, ganhar pontos ou
adquirir itens â€“ sÃ£o registradas nesse mÃ³dulo. Ele automatiza o reconhecimento dos
marcos alcanÃ§ados, mas tambÃ©m permite ajustes manuais sempre que necessÃ¡rio.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Sandra completou o desafio â€œFaÃ§a 10 vendasâ€.
â—‹â€‹ Beatriz subiu para o nÃ­vel Princesa Valorosa.â€‹

Notification (NotificaÃ§Ã£o)
â—â€‹ API: /v3/notification
â—â€‹ FunÃ§Ã£o: Envio de mensagens automÃ¡ticas e feedback instantÃ¢neo aos jogadores.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite configurar e disparar notificaÃ§Ãµes personalizadas quando eventos importantes
acontecem, como a conclusÃ£o de um desafio, o ganho de uma competiÃ§Ã£o ou uma
compra na loja virtual. NotificaÃ§Ãµes podem ser configuradas diretamente em diferentes
mÃ³dulos.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ â€œParabÃ©ns Sandra! VocÃª acaba de completar o desafio FaÃ§a 10 vendas.â€
â—‹â€‹ â€œParabÃ©ns, Ricardo! VocÃª acabou de ganhar a competiÃ§Ã£o de vendas em 1Âº
lugar e ganhou 1 diamante.â€â€‹

Technique Link (Link de TÃ©cnica)
â—â€‹ FunÃ§Ã£o: ConexÃ£o entre mÃ³dulos da plataforma e tÃ©cnicas de jogo.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Atua como ponte entre cada configuraÃ§Ã£o de mÃ³dulo e as tÃ©cnicas de jogos
associadas, facilitando o rastreio das motivaÃ§Ãµes principais dos jogadores e oferecendo
insights sobre o engajamento. Isso possibilita anÃ¡lises e ajustes mais estratÃ©gicos nas
mecÃ¢nicas do sistema.â€‹

â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Vincular o item â€œmoedaâ€ do mÃ³dulo Pontos Ã  tÃ©cnica de jogo â€œPontos TrocÃ¡veisâ€.â€‹

MÃ³dulos de ConfiguraÃ§Ãµes AvanÃ§adas
Os mÃ³dulos de configuraÃ§Ãµes avanÃ§adas da plataforma Funifier oferecem flexibilidade e poder
para personalizar o comportamento do sistema, automatizar tarefas e implementar lÃ³gicas
complexas que vÃ£o alÃ©m das funcionalidades padrÃ£o. Esses recursos sÃ£o especialmente Ãºteis
para desenvolvedores e administradores que precisam adaptar a gamificaÃ§Ã£o a regras de
negÃ³cio, integraÃ§Ãµes e dinÃ¢micas sofisticadas.

Trigger (Trigger)
â—â€‹ Acesso: /studio/trigger
â—â€‹ API: /v3/trigger
â—â€‹ FunÃ§Ã£o: ExecuÃ§Ã£o automÃ¡tica de cÃ³digos JAVA quando eventos especÃ­ficos
acontecem na gamificaÃ§Ã£o.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite programar aÃ§Ãµes customizadas disparadas por eventos, como o cadastro de
um jogador ou a realizaÃ§Ã£o de uma compra. As triggers dÃ£o liberdade para alterar o
comportamento padrÃ£o dos mÃ³dulos, integrar com sistemas externos ou implementar
automaÃ§Ãµes em tempo real.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Enviar um email de boas-vindas quando um novo jogador Ã© cadastrado.
â—‹â€‹ Fazer requisiÃ§Ã£o a uma API externa ao completar uma compra.
â—‹â€‹ Alterar a quantidade de pontos concedidos ao finalizar um desafio.â€‹

Scheduler (Scheduler)
â—â€‹ Acesso: /studio/scheduler
â—â€‹ API: /v3/scheduler

â—â€‹ FunÃ§Ã£o: ExecuÃ§Ã£o de cÃ³digos JAVA em datas e horÃ¡rios agendados (expressÃµes
CRON).â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite agendar tarefas e automaÃ§Ãµes para rodar em horÃ¡rios ou intervalos
prÃ©-definidos. Ideal para atividades recorrentes, relatÃ³rios, campanhas temporais ou
aplicaÃ§Ã£o de regras periÃ³dicas.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Gerar relatÃ³rios de desempenho toda sexta-feira Ã s 10h.
â—‹â€‹ Debitar pontos de jogadores inativos no fim do mÃªs.
â—‹â€‹ Enviar lembretes automÃ¡ticos de metas pendentes.â€‹

KPI Formulas (FÃ³rmulas de KPI)
â—â€‹ FunÃ§Ã£o: ConfiguraÃ§Ã£o de regras e cÃ¡lculos avanÃ§ados para avaliar aÃ§Ãµes dos
jogadores.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar fÃ³rmulas customizadas para avaliaÃ§Ã£o de desempenho e resultados, indo
alÃ©m das regras padrÃ£o dos outros mÃ³dulos. Essas fÃ³rmulas podem ser utilizadas em
desafios, rankings e outros pontos estratÃ©gicos do sistema. Devem ser usadas com
critÃ©rio, apenas quando os recursos padrÃ£o nÃ£o atendem plenamente Ã  necessidade.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ FÃ³rmula para calcular eficiÃªncia de vendas em desafios considerando mÃºltiplos
critÃ©rios (quantidade, valor, tempo).
â—‹â€‹ Regras avanÃ§adas para rankings, diferenciando jogadores com base em uma
combinaÃ§Ã£o de indicadores.â€‹

MÃ³dulos de Interface Visual e Feedback
Os mÃ³dulos de interface visual e feedback sÃ£o responsÃ¡veis por transformar as informaÃ§Ãµes e
mecÃ¢nicas da gamificaÃ§Ã£o em experiÃªncias visuais acessÃ­veis e motivadoras para os
jogadores. Eles tambÃ©m viabilizam interaÃ§Ãµes dinÃ¢micas e feedbacks instantÃ¢neos, seja em
portais, sistemas corporativos ou Ã¡reas administrativas. Com esses recursos, a Funifier garante

que tanto jogadores quanto administradores possam visualizar, interagir e acompanhar o
progresso gamificado em tempo real.

Widget (Widget)
â—â€‹ Acesso: /studio/widget
â—â€‹ API: /v3/widget
â—â€‹ FunÃ§Ã£o: CriaÃ§Ã£o de componentes visuais para exibir tÃ©cnicas de jogo.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar e configurar widgets grÃ¡ficos â€” como rankings, listas de desafios, status
do jogador, lojas virtuais e muito mais â€” para apresentar informaÃ§Ãµes gamificadas de
maneira clara e motivadora. Esses widgets podem ser integrados em sistemas web
existentes, como intranets, CRMs ou LMS, tornando a experiÃªncia de gamificaÃ§Ã£o
visÃ­vel e acessÃ­vel ao pÃºblico-alvo.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Exibir o ranking semanal de vendedores na intranet.
â—‹â€‹ Mostrar uma lista de desafios ativos para toda a equipe.â€‹

WebSocket (WebSocket)
â—â€‹ Acesso: /studio/websocket
â—â€‹ API: /v3/websocket
â—â€‹ FunÃ§Ã£o: Entrega de feedbacks em tempo real e interaÃ§Ã£o instantÃ¢nea entre jogadores.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite configurar rotinas para enviar e receber informaÃ§Ãµes instantaneamente entre
jogadores e o sistema. Ã‰ ideal para chats ao vivo, notificaÃ§Ãµes instantÃ¢neas, atualizaÃ§Ã£o
de status ou acompanhamento de desafios sem precisar recarregar a pÃ¡gina.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ ComunicaÃ§Ã£o em tempo real entre jogadores durante competiÃ§Ãµes.
â—‹â€‹ Feedback instantÃ¢neo ao completar um desafio ou conquistar uma recompensa.â€‹

Static Repo (RepositÃ³rio EstÃ¡tico)
â—â€‹ Acesso: /studio/static
â—â€‹ API: /v3/static
â—â€‹ FunÃ§Ã£o: Hospedagem de interfaces e conteÃºdos estÃ¡ticos em subdomÃ­nios Funifier.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar repositÃ³rios pÃºblicos nos servidores da Funifier para hospedar interfaces
grÃ¡ficas customizadas. Os conteÃºdos podem ser enviados manualmente, sincronizados
via Git ou upload de arquivos, facilitando o acesso dos jogadores a uma experiÃªncia
gamificada personalizada.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Hospedagem de uma interface exclusiva da gamificaÃ§Ã£o em um subdomÃ­nio
prÃ³prio (ex: seugame.funifier.app).â€‹

Studio Page (PÃ¡gina do Studio)
â—â€‹ Acesso: /studio/page
â—â€‹ FunÃ§Ã£o: CriaÃ§Ã£o de pÃ¡ginas personalizadas para administraÃ§Ã£o no Funifier Studio.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar pÃ¡ginas customizadas na Ã¡rea administrativa do Funifier Studio, utilizando
HTML, CSS e JavaScript (AngularJS e Bootstrap). Ã‰ ideal para gestores que desejam
visualizar relatÃ³rios, grÃ¡ficos, indicadores de desempenho ou criar funcionalidades
administrativas sob medida para suas necessidades.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ PÃ¡gina personalizada com grÃ¡ficos de vendas por vendedor.
â—‹â€‹ Painel de acompanhamento de desempenho de equipes ou campanhas.â€‹

MÃ³dulos de IntegraÃ§Ã£o e Conectividade
A Funifier oferece uma arquitetura aberta e flexÃ­vel para integraÃ§Ã£o com sistemas externos,
automaÃ§Ã£o de processos e desenvolvimento de experiÃªncias personalizadas. Esses mÃ³dulos
facilitam tanto a comunicaÃ§Ã£o em tempo real quanto a preparaÃ§Ã£o e encapsulamento de

comandos, permitindo que empresas expandam e conectem a gamificaÃ§Ã£o a qualquer contexto
de negÃ³cio.

API Restful (API Restful)
â—â€‹ FunÃ§Ã£o: Interface principal para integraÃ§Ã£o de sistemas externos com a gamificaÃ§Ã£o.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Disponibiliza uma interface robusta para construir integraÃ§Ãµes, automatizar processos e
criar novas interfaces para a gamificaÃ§Ã£o. Todas as operaÃ§Ãµes do motor de gamificaÃ§Ã£o
da Funifier podem ser acionadas por API, garantindo mÃ¡xima flexibilidade para
integraÃ§Ã£o com CRMs, ERPs, portais externos e outras soluÃ§Ãµes.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Sincronizar dados de clientes e atividades entre o CRM e a gamificaÃ§Ã£o.
â—‹â€‹ Desenvolvimento de portais e apps que consomem diretamente os serviÃ§os do
Funifier.â€‹

Request (Request)
â—â€‹ Acesso: /studio/request
â—â€‹ FunÃ§Ã£o: Ferramenta para testar e preparar requisiÃ§Ãµes Ã  API.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite aos desenvolvedores testar, validar e compartilhar requisiÃ§Ãµes de API,
garantindo que integraÃ§Ãµes e automaÃ§Ãµes estejam funcionando conforme o esperado.
Facilita o desenvolvimento colaborativo e a documentaÃ§Ã£o dos fluxos de integraÃ§Ã£o.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Testar requisiÃ§Ãµes para integraÃ§Ã£o com sistemas como CRM, ERPs,
e-commerce etc.
â—‹â€‹ Compartilhar coleÃ§Ãµes de requisiÃ§Ãµes com outros membros da equipe.â€‹

Find (Find)

â—â€‹ Acesso: /studio/prepared
â—â€‹ API: /v3/find
â—â€‹ FunÃ§Ã£o: Cadastro de comandos de consulta encapsulados.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar e salvar comandos aggregate complexos no servidor, protegendo a lÃ³gica
de banco de dados dos usuÃ¡rios finais. Dessa forma, consultas sofisticadas podem ser
chamadas de forma simplificada e segura pelas interfaces da gamificaÃ§Ã£o.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Criar uma consulta agregada que retorna o histÃ³rico completo de aÃ§Ãµes de um
jogador, sem expor detalhes do banco de dados ao frontend.â€‹

SDK (SDK)
â—â€‹ FunÃ§Ã£o: Ferramentas para desenvolvedores criarem software e aplicaÃ§Ãµes
personalizadas.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
O SDK inclui tudo o que desenvolvedores precisam para criar, estender ou integrar
soluÃ§Ãµes com a Funifier: bibliotecas, depuradores, documentaÃ§Ã£o, tutoriais e exemplos
prÃ¡ticos, tornando o processo de desenvolvimento mais Ã¡gil e seguro.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Desenvolvimento de novas funcionalidades, widgets ou integraÃ§Ãµes utilizando o
SDK da Funifier.â€‹

WebHook (WebHook)
â—â€‹ API: /v3/webhook
â—â€‹ FunÃ§Ã£o: NotificaÃ§Ãµes automÃ¡ticas para endpoints externos em tempo real.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite que a Funifier envie notificaÃ§Ãµes automÃ¡ticas (payloads) para sistemas
externos sempre que eventos importantes ocorrem na gamificaÃ§Ã£o, sem necessidade
de polling. Os Webhooks garantem atualizaÃ§Ãµes em tempo real, otimizando recursos e

melhorando a experiÃªncia do usuÃ¡rio.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Enviar dados para um sistema de BI ou CRM sempre que um jogador completar
um desafio ou atingir uma meta.â€‹

MÃ³dulos de SeguranÃ§a e Controle de Acesso
Garantir a seguranÃ§a e o controle de acesso Ã© fundamental para qualquer estratÃ©gia de
gamificaÃ§Ã£o, especialmente em ambientes corporativos ou que lidam com dados sensÃ­veis. Os
mÃ³dulos abaixo oferecem as ferramentas necessÃ¡rias para proteger informaÃ§Ãµes, personalizar
autenticaÃ§Ãµes, auditar aÃ§Ãµes e garantir a integridade de todas as operaÃ§Ãµes na plataforma
Funifier.

Auth (AutenticaÃ§Ã£o)
â—â€‹ API: /v3/auth
â—â€‹ FunÃ§Ã£o: Gerenciamento de autenticaÃ§Ã£o e critÃ©rios bÃ¡sicos de seguranÃ§a.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite configurar como serÃ¡ o processo de login dos jogadores, definindo exigÃªncia
de senha, auto-criaÃ§Ã£o de usuÃ¡rios, geraÃ§Ã£o de tokens de acesso (incluindo tempo de
expiraÃ§Ã£o e revalidaÃ§Ã£o), entre outros critÃ©rios essenciais para proteÃ§Ã£o de acessos.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Exigir senha dos jogadores ao fazer login.
â—‹â€‹ GeraÃ§Ã£o de tokens de acesso com expiraÃ§Ã£o definida para sessÃµes seguras.â€‹

Auth Module (MÃ³dulo Customizado de AutenticaÃ§Ã£o)
â—â€‹ Acesso: /studio/auth
â—â€‹ API: /v3/auth/module
â—â€‹ FunÃ§Ã£o: CriaÃ§Ã£o de rotinas personalizadas de autenticaÃ§Ã£o.â€‹

â—â€‹ DescriÃ§Ã£o:â€‹
Permite aos desenvolvedores criar processos de autenticaÃ§Ã£o sob medida, adicionando
etapas de validaÃ§Ã£o extra, integraÃ§Ã£o com sistemas externos, registro de logs de login,
ou a implementaÃ§Ã£o de SSO (Single Sign-On) para unificaÃ§Ã£o de acessos entre
plataformas.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ ValidaÃ§Ã£o do login no sistema da empresa antes de liberar acesso ao Funifier.
â—‹â€‹ Registro de um log sempre que um jogador faz login.
â—‹â€‹ ImplementaÃ§Ã£o de SSO entre Funifier e outros sistemas corporativos.â€‹

Audit (Auditoria)
â—â€‹ Acesso: /studio/audit
â—â€‹ API: /v3/audit
â—â€‹ FunÃ§Ã£o: Auditoria e rastreamento de alteraÃ§Ãµes e eventos no sistema.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite definir quais informaÃ§Ãµes e operaÃ§Ãµes devem ser auditadas, garantindo
rastreabilidade e transparÃªncia. Registra quem alterou um dado, quando e qual foi a
modificaÃ§Ã£o, protegendo o sistema contra fraudes, erros e aÃ§Ãµes nÃ£o autorizadas.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Rastreamento de alteraÃ§Ãµes no cadastro de jogadores.
â—‹â€‹ Auditoria de exclusÃ£o de dados ou mudanÃ§as em nÃ­veis/pontuaÃ§Ãµes.â€‹

Crypt (Criptografia)
â—â€‹ Acesso: /studio/crypt
â—â€‹ API: /v3/crypt
â—â€‹ FunÃ§Ã£o: Criptografia de dados sensÃ­veis.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Protege informaÃ§Ãµes crÃ­ticas e confidenciais (dados pessoais, senhas, registros
estratÃ©gicos), garantindo que apenas usuÃ¡rios autorizados possam acessÃ¡-las. Esse
mÃ³dulo impede a visualizaÃ§Ã£o ou leitura indevida por terceiros nÃ£o autorizados.â€‹

â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Criptografia de informaÃ§Ãµes pessoais dos jogadores para garantir a privacidade
e seguranÃ§a dos dados.â€‹

MÃ³dulos de GestÃ£o e OtimizaÃ§Ã£o de Dados
Para garantir uma operaÃ§Ã£o eficiente, escalÃ¡vel e flexÃ­vel, a plataforma Funifier oferece
recursos avanÃ§ados de gestÃ£o, importaÃ§Ã£o, exportaÃ§Ã£o, organizaÃ§Ã£o, backup e otimizaÃ§Ã£o dos
dados da gamificaÃ§Ã£o. Esses mÃ³dulos permitem que administradores e desenvolvedores
extraiam o mÃ¡ximo valor dos dados, realizem operaÃ§Ãµes complexas, personalizem a
experiÃªncia e mantenham a performance do sistema.

Database (Database)
â—â€‹ API: /v3/database
â—â€‹ FunÃ§Ã£o: Acesso direto Ã  base de dados para operaÃ§Ãµes avanÃ§adas.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Oferece ferramentas para criar Ã­ndices, executar comandos aggregate (MongoDB),
importar dados em lote, e muito mais. Permite extrair relatÃ³rios personalizados e realizar
manipulaÃ§Ãµes complexas diretamente no banco de dados da gamificaÃ§Ã£o.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ CriaÃ§Ã£o de Ã­ndices para otimizar consultas.
â—‹â€‹ GeraÃ§Ã£o de relatÃ³rios por comandos aggregate.
â—‹â€‹ ImportaÃ§Ã£o em massa de dados histÃ³ricos.â€‹

Custom Object (Objeto Customizado)
â—â€‹ FunÃ§Ã£o: CriaÃ§Ã£o de objetos personalizados para necessidades especÃ­ficas.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar e gerenciar coleÃ§Ãµes personalizadas no banco de dados (sufixo __c), que
podem ser acessadas via API, triggers, schedulers e pÃ¡ginas personalizadas. Ideal para

quando os mÃ³dulos padrÃ£o nÃ£o atendem a todos os requisitos do projeto.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Cadastro de produtos (carros, imÃ³veis) em uma gamificaÃ§Ã£o de vendas.
â—‹â€‹ Listagem de pontos turÃ­sticos em uma gamificaÃ§Ã£o de turismo.â€‹

Csv Data (Dados CSV)
â—â€‹ API: /v3/csv
â—â€‹ FunÃ§Ã£o: ImportaÃ§Ã£o e exportaÃ§Ã£o de dados no formato CSV.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite importar ou exportar dados em CSV de forma fÃ¡cil e segura, seja via upload
manual ou FTP. Suporta arquivos criptografados, garantindo seguranÃ§a no trÃ¢nsito das
informaÃ§Ãµes.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ ImportaÃ§Ã£o de listas de jogadores.
â—‹â€‹ ExportaÃ§Ã£o de relatÃ³rios de desempenho para anÃ¡lise externa.
â—‹â€‹ ImportaÃ§Ã£o segura de dados criptografados via FTP.â€‹

Upload (Upload)
â—â€‹ API: /v3/upload
â—â€‹ FunÃ§Ã£o: Upload de arquivos para uso na gamificaÃ§Ã£o.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite enviar imagens, documentos e outros tipos de arquivos para utilizaÃ§Ã£o em
avatares, desafios, recursos visuais ou qualquer outra funcionalidade que torne a
experiÃªncia mais rica.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Upload de imagens para avatares personalizados.
â—‹â€‹ Envio de documentos para utilizaÃ§Ã£o em treinamentos e desafios.â€‹

Backup (Backup)
â—â€‹ Acesso: /studio/backup
â—â€‹ API: /v3/backup
â—â€‹ FunÃ§Ã£o: Backup e remoÃ§Ã£o controlada de dados antigos.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar rotinas automÃ¡ticas de backup de registros importantes, alÃ©m de remover
dados antigos de maneira controlada para manter a performance da plataforma.
Garante seguranÃ§a, integridade e bom desempenho mesmo em grandes volumes de
dados.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ Backup de logs antigos antes de uma atualizaÃ§Ã£o.
â—‹â€‹ RemoÃ§Ã£o de registros histÃ³ricos para otimizar consultas.â€‹

Compact (CompactaÃ§Ã£o)
â—â€‹ Acesso: /studio/compact
â—â€‹ API: /v3/compact
â—â€‹ FunÃ§Ã£o: CompactaÃ§Ã£o e otimizaÃ§Ã£o do armazenamento de dados.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Configura rotinas para agrupar registros e reduzir o espaÃ§o ocupado por dados
histÃ³ricos, como achievements ou logs, melhorando o tempo de resposta das consultas
e a performance geral do sistema.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ CompactaÃ§Ã£o de registros de achievements para reduzir volume de dados.
â—‹â€‹ OtimizaÃ§Ã£o de coleÃ§Ãµes de acesso rÃ¡pido para performance superior.â€‹

MÃ³dulos de Ambientes e PublicaÃ§Ã£o

A Funifier permite aos administradores e desenvolvedores gerenciar diferentes ambientes,
testar novas funcionalidades com seguranÃ§a e reutilizar componentes jÃ¡ validados em outras
gamificaÃ§Ãµes. Esses mÃ³dulos sÃ£o essenciais para projetos de missÃ£o crÃ­tica, grandes
corporaÃ§Ãµes ou qualquer operaÃ§Ã£o que precise garantir qualidade, padronizaÃ§Ã£o e agilidade na
publicaÃ§Ã£o de soluÃ§Ãµes gamificadas.

Staging (Staging)
â—â€‹ Acesso: /studio/integration/staging
â—â€‹ FunÃ§Ã£o: Gerenciamento de ambientes de homologaÃ§Ã£o e produÃ§Ã£o, com clonagem e
migraÃ§Ã£o de dados.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Permite criar e gerenciar ambientes de homologaÃ§Ã£o (staging) separados do ambiente
de produÃ§Ã£o. Possibilita clonar o ambiente produtivo para o de testes e migrar dados
entre servidores localizados em diferentes regiÃµes. Dessa forma, Ã© possÃ­vel testar novas
funcionalidades, validar atualizaÃ§Ãµes e garantir que os lanÃ§amentos ocorram sem riscos
para o ambiente principal.â€‹
â—â€‹ Exemplo de uso:â€‹
â—‹â€‹ CriaÃ§Ã£o de ambiente de testes espelhando o ambiente real para validar
novidades sem impactar os usuÃ¡rios.
â—‹â€‹ MigraÃ§Ã£o de dados entre servidores em diferentes continentes para atender a
necessidades regionais ou compliance.â€‹

Marketplace (Mercado)
â—â€‹ Acesso: /market
â—â€‹ FunÃ§Ã£o: Compartilhamento e reutilizaÃ§Ã£o de componentes prontos para gamificaÃ§Ãµes.â€‹
â—â€‹ DescriÃ§Ã£o:â€‹
Disponibiliza um catÃ¡logo de componentes jÃ¡ configurados â€” como desafios, rankings,
widgets, modelos de gamificaÃ§Ã£o e outros â€” que podem ser reutilizados em diferentes
projetos, acelerando a implementaÃ§Ã£o e evitando retrabalho. UsuÃ¡rios podem
empacotar e compartilhar soluÃ§Ãµes para toda a organizaÃ§Ã£o ou para o ecossistema
Funifier.â€‹
â—â€‹ Exemplo de uso:â€‹

â—‹â€‹ Compartilhamento de um modelo de gamificaÃ§Ã£o corporativa para uso em
diferentes departamentos ou unidades de negÃ³cio.
â—‹â€‹ ReutilizaÃ§Ã£o de conjuntos de desafios e widgets jÃ¡ validados em mÃºltiplos
projetos.â€‹

Anexo II - API Funifier
A plataforma Funifier disponibiliza uma API RESTful que permite a integraÃ§Ã£o e o controle total
das funcionalidades da gamificaÃ§Ã£o por sistemas externos. AtravÃ©s desta API, Ã© possÃ­vel
realizar operaÃ§Ãµes como autenticaÃ§Ã£o de jogadores, registro de aÃ§Ãµes, atribuiÃ§Ã£o de
recompensas, consulta e manipulaÃ§Ã£o de dados, entre outras. Abaixo estÃ¡ a documentaÃ§Ã£o
dos principais recursos da API, com seus respectivos endpoints, mÃ©todos suportados,
descriÃ§Ãµes e exemplos de uso. Essa estrutura permite que desenvolvedores implementem
soluÃ§Ãµes gamificadas de forma flexÃ­vel, segura e escalÃ¡vel.

Recurso: Player
Este recurso representa os jogadores que interagem com a gamificaÃ§Ã£o. Permite criar,
consultar, excluir e monitorar o progresso dos jogadores.

Listar Jogadores
MÃ©todo: GET
Endpoint: /v3/player
DescriÃ§Ã£o: Retorna todos os jogadores cadastrados na gamificaÃ§Ã£o.â€‹
Exemplo de Resposta:â€‹
[
{
"_id": "jerry",
"name": "Jerry",
"email": "jerry@yourdomain.com",
"extra": {
"company": "Tom & Jerry Inc."
},
"created": 1694990893810,
"updated": 1694990893880
}
]

Criar Jogador
MÃ©todo: POST
Endpoint: /v3/player
DescriÃ§Ã£o: Cria um novo jogador com atributos personalizados.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
{
"_id": "jerry",
"name": "Jerry",
"email": "jerry@yourdomain.com",
"image": {
"small": { "url": "https://my.funifier.com/images/funny.png" },
"medium": { "url": "https://my.funifier.com/images/funny.png" },
"original": { "url": "https://my.funifier.com/images/funny.png" }
},
"teams": ["cartoon"],
"friends": ["tom", "spike", "quacker"],
"extra": {
"country": "USA",
"company": "Tom & Jerry Inc.",
"sports": ["soccer", "cycling", "surf"]
}
}
Exemplo de Resposta:â€‹
{
"_id": "jerry",
"name": "Jerry",
"email": "jerry@yourdomain.com",
"created": 1695216470091,
"updated": 1695216470091
}

Excluir Jogador
MÃ©todo: DELETE
Endpoint: /v3/player/:id
DescriÃ§Ã£o: Remove o jogador e todas as suas informaÃ§Ãµes da gamificaÃ§Ã£o. Substitua :id pelo
identificador do jogador.â€‹

Consultar Status do Jogador

MÃ©todo: GET
Endpoint: /v3/player/:id/status
DescriÃ§Ã£o: Retorna as estatÃ­sticas do jogador, como total de pontos, nÃ­vel atual, desafios
concluÃ­dos e itens adquiridos. Substitua :id pelo ID do jogador.â€‹
Exemplo de Resposta:â€‹
{

"name": "Jerry",
"total_challenges": 0,
"total_points": 0,
"level_progress": {
"percent_completed": 0,
"next_level": {
"level": "Apprentice",
"minPoints": 10
}
},
"_id": "jerry"
}

Recurso: Team
Este recurso representa as equipes, ou grupos de jogadores, dentro da gamificaÃ§Ã£o. Permite
criar, consultar, gerenciar membros e acompanhar o desempenho das equipes.

Listar Equipes
MÃ©todo: GET
Endpoint: /v3/team
DescriÃ§Ã£o: Retorna todas as equipes cadastradas na gamificaÃ§Ã£o.â€‹

Criar Equipe

MÃ©todo: POST
Endpoint: /v3/team
DescriÃ§Ã£o: Cria uma nova equipe, com nome, descriÃ§Ã£o, imagem e dono.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
{
"_id": "sales",
"name": "Sales",
"description": "Funifier sales team",
"image": {
"small": {"url": "https://my.funifier.com/images/funny.png"},
"medium": {"url": "https://my.funifier.com/images/funny.png"},
"original": {"url": "https://my.funifier.com/images/funny.png"}
},
"extra": {
"country": "USA"
},
"owner": "john"
}
Exemplo de Resposta:â€‹
{
"_id": "sales",

"name": "Sales",
"description": "Funifier sales team",
"image": {
"small": {"url": "https://my.funifier.com/images/funny.png"},
"medium": {"url": "https://my.funifier.com/images/funny.png"},
"original": {"url": "https://my.funifier.com/images/funny.png"}
},
"extra": {
"country": "USA"
},
"owner": "john",
"created": 1695135261192,
"updated": 1695135261192
}

Excluir Equipe
MÃ©todo: DELETE
Endpoint: /v3/team/:id
DescriÃ§Ã£o: Remove a equipe especificada pelo ID.â€‹

Adicionar Membro Ã  Equipe

MÃ©todo: GET
Endpoint: /v3/team/:id/member/add/:player
DescriÃ§Ã£o: Adiciona um jogador Ã  equipe. Substitua :id pelo ID da equipe e :player pelo ID
do jogador.â€‹
Exemplo de Resposta:â€‹
{
"team": "sales",
"player": "tom"
}

Remover Membro da Equipe

MÃ©todo: GET
Endpoint: /v3/team/:team_id/member/remove/:player_id
DescriÃ§Ã£o: Remove um jogador da equipe. Substitua os parÃ¢metros pela equipe e jogador
desejado.â€‹

Listar IDs dos Membros

MÃ©todo: GET
Endpoint: /v3/team/:team_id/memberids
DescriÃ§Ã£o: Lista apenas os identificadores dos jogadores de uma equipe.â€‹
Exemplo de Resposta:â€‹
[

"tom"
]

Consultar Status da Equipe

MÃ©todo: GET
Endpoint: /v3/team/:id/status
DescriÃ§Ã£o: Retorna estatÃ­sticas da equipe, como pontos totais, progresso em desafios e itens
adquiridos.â€‹
Exemplo de Resposta:â€‹
â€‹
{
"_id": "sales",
"name": "Sales",
"image": {
"small": {"url": "https://my.funifier.com/images/funny.png"},
"medium": {"url": "https://my.funifier.com/images/funny.png"},
"original": {"url": "https://my.funifier.com/images/funny.png"}
},
"total_challenges": 0,
"total_points": 0,
"point_categories": {},
"catalog_items": {},
"extra": {
"country": "USA"
}
}

Recurso: Auth
Este recurso Ã© responsÃ¡vel por autenticar jogadores na gamificaÃ§Ã£o, retornando um token de
acesso que poderÃ¡ ser usado nas requisiÃ§Ãµes seguintes.

Autenticar Jogador
MÃ©todo: POST
Endpoint: /v3/auth/token
DescriÃ§Ã£o: Autentica o jogador usando nome de usuÃ¡rio e senha, retornando um token de
acesso.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
{
"apiKey": "YOUR_API_KEY",
"grant_type": "password",
"username": "tom",
"password": "123"
}

Exemplo de Resposta:â€‹
{
"access_token": "eyJhbGciOiJIUzUxMiIsImNhbGciOiJHWklQIn0...",
"token_type": "Bearer",
"expires_in": 1695751444626
}

Recurso: Action
Este recurso representa as aÃ§Ãµes que os jogadores podem realizar dentro da gamificaÃ§Ã£o.
Exemplos comuns de aÃ§Ãµes sÃ£o: "vender", "comprar", "comentar", "assistir vÃ­deo", entre outras.
Cada aÃ§Ã£o pode conter atributos personalizados como produto, valor, localizaÃ§Ã£o etc.

Listar AÃ§Ãµes
MÃ©todo: GET
Endpoint: /v3/action
DescriÃ§Ã£o: Retorna a lista de aÃ§Ãµes configuradas na gamificaÃ§Ã£o.â€‹
Exemplo de Resposta:â€‹
[
{
"action": "Sell",
"attributes": [
{ "name": "product", "type": "String" },
{ "name": "price", "type": "Number" }
],
"active": true,
"_id": "sell"
},
{
"action": "Watch Video",
"active": true,
"_id": "watch_video"
}
]

Criar AÃ§Ã£o

MÃ©todo: POST
Endpoint: /v3/action
DescriÃ§Ã£o: Cria uma nova aÃ§Ã£o com nome, atributos e status de ativaÃ§Ã£o.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
{
"action": "Sell",
"attributes": [
{ "name": "product", "type": "String" },

{ "name": "price", "type": "Number" }
],
"active": true,
"_id": "sell"
}
Exemplo de Resposta:â€‹
{
"action": "Sell",
"attributes": [
{ "name": "product", "type": "String" },
{ "name": "price", "type": "Number" }
],
"active": true,
"_id": "sell"
}

Excluir AÃ§Ã£o

MÃ©todo: DELETE
Endpoint: /v3/action/:id
DescriÃ§Ã£o: Remove uma aÃ§Ã£o da gamificaÃ§Ã£o. Substitua :id pelo identificador da aÃ§Ã£o.â€‹

Recurso: ActionLog
Este recurso registra quando uma aÃ§Ã£o Ã© realmente executada por um jogador. Cada log de
aÃ§Ã£o contÃ©m o identificador da aÃ§Ã£o, do jogador, os atributos envolvidos e o horÃ¡rio da
execuÃ§Ã£o. Ã‰ Ãºtil para rastrear o comportamento dos jogadores em tempo real.

Listar ActionLogs
MÃ©todo: GET
Endpoint: /v3/action/log
DescriÃ§Ã£o: Retorna a lista de aÃ§Ãµes realizadas pelos jogadores, incluindo atributos como data,
jogador e detalhes da aÃ§Ã£o.â€‹
Exemplo de Resposta:â€‹
[
{
"_id": "6509e4e28325771ffaa4506e",
"actionId": "sell",
"userId": "jerry",
"time": 1695147234712,
"attributes": {
"product": "bike",
"price": 1200
}
},
{

"_id": "6509e4d18325771ffaa4505c",
"actionId": "sell",
"userId": "tom",
"time": 1695147217658,
"attributes": {
"product": "book",
"price": 25
}
}
]

Registrar ActionLog
MÃ©todo: POST
Endpoint: /v3/action/log
DescriÃ§Ã£o: Registra a execuÃ§Ã£o de uma aÃ§Ã£o por um jogador.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
{
"actionId": "sell",
"userId": "jerry",
"attributes": {
"product": "bike",
"price": 1200
}
}
Exemplo de Resposta:â€‹
{
"actionId": "sell",
"userId": "jerry",
"time": 1695147341932,
"attributes": {
"product": "bike",
"price": 1200
},
"_id": "6509e54d8325771ffaa4509a"
}

Registrar MÃºltiplos ActionLogs
MÃ©todo: POST
Endpoint: /v3/action/log/bulk
DescriÃ§Ã£o: Permite registrar mÃºltiplas aÃ§Ãµes de jogadores em uma Ãºnica requisiÃ§Ã£o.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
â€‹
[
{
"actionId": "sell",

"userId": "jerry",
"attributes": {
"product": "bike",
"price": 1200
}
},
{
"actionId": "sell",
"userId": "tom",
"attributes": {
"product": "book",
"price": 25
}
}
]
Exemplo de Resposta:â€‹
{
"content_size": 2,
"total_registered": 2,
"content": [
{
"actionId": "sell",
"userId": "jerry",
"time": 1695147549965,
"attributes": {
"product": "bike",
"price": 1200
},
"_id": "6509e61d8325771ffaa450de"
},
{
"actionId": "sell",
"userId": "tom",
"time": 1695147549969,
"attributes": {
"product": "book",
"price": 25
},
"_id": "6509e61d8325771ffaa450df"
}
]
}

Excluir ActionLog
MÃ©todo: DELETE
Endpoint: /v3/action/log/:id
DescriÃ§Ã£o: Remove um registro de aÃ§Ã£o especÃ­fica, informando o ID do ActionLog.â€‹

Recurso: Achievement
Reconhecimentos que os jogadores recebem ao atingir certos marcos, como completar um
desafio, subir de nÃ­vel, ganhar pontos, comprar um item da loja virtual.

Listar Conquistas
MÃ©todo: GET
Endpoint: /v3/achievement
DescriÃ§Ã£o: Retorna a lista de conquistas obtidas pelos jogadores.â€‹
Exemplo de Resposta:
[
{
"_id": "6509e4e28325771ffaa4506f",
"player": "jerry",
"total": 1,
"type": 1,
"item": "DTqtTl9",
"time": 1695147234712
}
]

Recurso: Point
Pontos sÃ£o unidades de medida do status do jogador. Uma gamificaÃ§Ã£o pode ter vÃ¡rios tipos de
pontos diferentes.

Listar Pontos
MÃ©todo: GET
Endpoint: /v3/point
DescriÃ§Ã£o: Retorna todos os tipos de pontos disponÃ­veis na gamificaÃ§Ã£o.â€‹
Exemplo de Resposta:
[
{
"category": "Exchangeable Coins",
"shortName": "Coins",
"extra": {},
"techniques": ["GT75"],
"_id": "coin"
}
]

Criar Ponto
MÃ©todo: POST
Endpoint: /v3/point
DescriÃ§Ã£o: Cria uma nova categoria de pontos.â€‹

Exemplo de Body da RequisiÃ§Ã£o:
{
"category": "Experience Points",
"shortName": "XP",
"extra": {},
"techniques": ["GT01"],
"_id": "xp"
}

Excluir Ponto
MÃ©todo: DELETE
Endpoint: /v3/point/:id
DescriÃ§Ã£o: Exclui um tipo de ponto com base no seu ID.â€‹

Recurso: Challenge
Tarefas que os jogadores precisam executar. No desafio sÃ£o configuradas as aÃ§Ãµes que o
jogador precisa realizar e as recompensas que receberÃ¡.

Listar Desafios
MÃ©todo: GET
Endpoint: /v3/challenge
DescriÃ§Ã£o: Retorna todos os desafios configurados no sistema.â€‹
Exemplo de Resposta:
[
{
"challenge": "Sell 10 books",
"description": "Sell 10 books to earn 25 xp and 5 coins",
"rules": [
{
"actionId": "sell",
"filters": [
{ "value": "book", "operator": 1, "param": "product" }
],
"total": 10
}
],
"points": [
{ "total": 25, "category": "xp" },
{ "total": 5, "category": "coin" }
],
"_id": "DTkhJHV"
}
]

Criar Desafio
MÃ©todo: POST
Endpoint: /v3/challenge

DescriÃ§Ã£o: Cria um novo desafio.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
{
"challenge": "Watch Video",
"description": "Complete this challenge by watching a video, and earn 10 xp",
"rules": [
{ "actionId": "watch_video", "operator": 5, "total": 0 }
],
"points": [
{ "total": 10.0, "category": "xp", "operation": 0 }
],
"techniques": ["GT35"]
}

Excluir Desafio
MÃ©todo: DELETE
Endpoint: /v3/challenge/:id
DescriÃ§Ã£o: Exclui um desafio com base no ID informado.â€‹

Recurso: Level
Sistema de evoluÃ§Ã£o do jogador, com mÃºltiplos nÃ­veis baseados em pontos acumulados e
critÃ©rios definidos.â€‹

Listar nÃ­veis
MÃ©todo: GET
Endpoint: /v3/level
Retorna a lista de todos os nÃ­veis configurados no sistema.â€‹

Criar nÃ­vel
MÃ©todo: POST
Endpoint: /v3/levelâ€‹
Corpo do JSON:â€‹
{
"level": "Apprentice",
"position": 0,
"description": "It indicates that you are learning, growing and striving to reach your goals.",
"minPoints": 10,
"notifications": [],
"requirements": [],
"i18n": {},
"extra": {},

"techniques": ["GT85"],
"_id": "L0"
}

Excluir nÃ­vel
MÃ©todo: DELETE
Endpoint: /v3/level/:id
Remove um nÃ­vel especÃ­fico baseado em seu _id.â€‹

Listar configuraÃ§Ã£o global de pontos para nÃ­veis
MÃ©todo: GET
Endpoint: /v3/database/level_config
Retorna a configuraÃ§Ã£o atual da categoria de pontos usada para calcular a progressÃ£o dos
nÃ­veis.

Atualizar configuraÃ§Ã£o global de pontos para nÃ­veis
Define a categoria de ponto usada para calcular a evoluÃ§Ã£o de nÃ­veis.
MÃ©todo: PUT
Endpoint: /v3/database/level_configâ€‹
Corpo do JSON:â€‹
{
"_id": "global",
"pointCategory": "xp"
}

Atualizar posiÃ§Ãµes dos nÃ­veis
Recalcula automaticamente as posiÃ§Ãµes dos nÃ­veis com base no valor de minPoints de cada
um.
MÃ©todo: PUT
Endpoint: /v3/level/position
â€‹

Recurso: Leaderboard
Este recurso permite configurar rankings baseados em resultados de jogadores. Ã‰ possÃ­vel
definir como os lÃ­deres serÃ£o calculados, qual a mÃ©trica de avaliaÃ§Ã£o (como pontos, moedas ou
aÃ§Ãµes) e o perÃ­odo de apuraÃ§Ã£o (semanal, mensal, tempo real, etc).

Listar Leaderboards
MÃ©todo: GET
Endpoint: /v3/leaderboard

DescriÃ§Ã£o: Retorna a lista de leaderboards configurados no projeto.â€‹
Exemplo de Resposta:â€‹
[
{
"title": "Top Players",
"description": "Players with the most points xp in the week",
"principalType": 0,
"operation": {
"type": 3,
"achievement_type": 0,
"item": "xp",
"filters": [],
"sort": -1,
"sub": false
},
"period": {
"type": 0,
"timeAmount": 1,
"timeScale": 6
},
"techniques": ["GT03"],
"_id": "DTjTvZ5"
}
]

Criar Leaderboard
MÃ©todo: POST
Endpoint: /v3/leaderboard
DescriÃ§Ã£o: Cria um novo leaderboard com critÃ©rios de cÃ¡lculo e perÃ­odo definidos.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
{
"title": "Top Players",
"description": "Players with the most points xp in the week",
"principalType": 0,
"operation": {
"type": 3,
"achievement_type": 0,
"item": "xp",
"filters": [],
"sort": -1,
"sub": false
},
"period": {
"type": 0,
"timeAmount": 1,

"timeScale": 6
},
"techniques": ["GT03"],
"_id": "DTjTvZ5"
}

Deletar Leaderboard

MÃ©todo: DELETE
Endpoint: /v3/leaderboard/:id
DescriÃ§Ã£o: Remove um leaderboard existente com base no seu ID.â€‹

Obter Lista de LÃ­deres (Aggregate)
MÃ©todo: POST
Endpoint: /v3/leaderboard/:id/leader/aggregate?period=&live=true
DescriÃ§Ã£o: Retorna a lista de lÃ­deres de um leaderboard, podendo usar agregaÃ§Ãµes
personalizadas. ParÃ¢metros opcionais na URL incluem:
â—‹â€‹ period: perÃ­odo especÃ­fico de apuraÃ§Ã£o.
â—‹â€‹ live: define se o ranking deve ser recalculado em tempo real (true/false).â€‹
Exemplo de Resposta:â€‹
[
{
"_id": "tom_D0zCMvq",
"total": 30,
"position": 1,
"move": "up",
"player": "tom",
"name": "Tom",
"extra": { "cache": "D0zCMvq" },
"boardId": "DTjTvZ5"
},
{
"_id": "jerry_D0zCMvq",
"total": 30,
"position": 2,
"move": "up",
"player": "jerry",
"name": "Jerry",
"image": "https://my.funifier.com/images/funny.png",
"extra": { "cache": "D0zCMvq" },
"boardId": "DTjTvZ5"
}
]

Resetar Cache de Leaderboards
MÃ©todo: GET

Endpoint: /v3/leaderboard/reset
DescriÃ§Ã£o: Limpa o cache de resultado de lÃ­deres de todos os leaderboards.â€‹
Exemplo de Resposta:
{
"status": "OK"
}

Recurso: Virtual Good
MÃ³dulo responsÃ¡vel por configurar catÃ¡logos de recompensas (lojas) em que jogadores podem
trocar pontos ou moedas por itens fÃ­sicos ou virtuais. Cada item pode ter quantidade limitada,
regras para compra e um limite de aquisiÃ§Ãµes por jogador.

Listar CatÃ¡logos
MÃ©todo: GET
Endpoint: /v3/virtualgoods/catalog
DescriÃ§Ã£o: Retorna a lista de catÃ¡logos de itens virtuais cadastrados.â€‹

Criar CatÃ¡logo
MÃ©todo: POST
Endpoint: /v3/virtualgoods/catalog
DescriÃ§Ã£o: Cria um novo catÃ¡logo de itens virtuais.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
{
"catalog": "Gifts",
"extra": {},
"i18n": {},
"_id": "gifts"
}

Excluir CatÃ¡logo
MÃ©todo: DELETE
Endpoint: /v3/virtualgoods/catalog/:id
DescriÃ§Ã£o: Remove um catÃ¡logo de itens virtuais.â€‹

Listar Itens

MÃ©todo: GET
Endpoint: /v3/virtualgoods/item
DescriÃ§Ã£o: Retorna todos os itens cadastrados nos catÃ¡logos virtuais.â€‹

Criar Item
MÃ©todo: POST
Endpoint: /v3/virtualgoods/item
DescriÃ§Ã£o: Cria um novo item no catÃ¡logo de recompensas.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
{
"catalogId": "gifts",
"name": "Bike",
"description": "Eletric bike",
"amount": -1,
"active": true,
"extra": {},
"requires": [],
"rewards": [],
"notifications": [],
"i18n": {},
"techniques": ["GT08"],
"_id": "DTj7lVn"
}

Excluir Item
MÃ©todo: DELETE
Endpoint: /v3/virtualgoods/item/:id
DescriÃ§Ã£o: Remove um item do catÃ¡logo de recompensas.â€‹

Realizar Compra

MÃ©todo: POST
Endpoint: /v3/virtualgoods/purchase
DescriÃ§Ã£o: Permite que um jogador compre um item do catÃ¡logo, debitando os pontos e
creditando o item.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
{
"player": "tom",
"item": "DTj7lVn",
"total": 1
}

Excluir Compra
MÃ©todo: DELETE
Endpoint: /v3/virtualgoods/purchase
DescriÃ§Ã£o: Remove uma compra e desfaz os dÃ©bitos e crÃ©ditos gerados.â€‹

Exemplo de Body da RequisiÃ§Ã£o:â€‹
{
"_id": "650b0f2a8325771ffaa5bcfb"
}

Recurso: Lottery
MÃ³dulo para configurar sorteios. Quando o sorteio Ã© realizado, as recompensas sÃ£o dadas a
um nÃºmero de vencedores selecionado de forma aleatÃ³ria. Por exemplo, um sorteio de uma
viagem com apenas um ganhador, que serÃ¡ sorteado em uma data definida pelo administrador.
Para participar, o jogador acumula cupons de sorteio.

Listar Sorteios

MÃ©todo: GET
Endpoint: /v3/lottery
DescriÃ§Ã£o: Retorna a lista de sorteios configurados no sistema.â€‹
Exemplo de Resposta:â€‹
[
{
"title": "Travel to Cancun",
"description": "Travel with a companion to Cancun, with airfare and accommodation, for 7
days.",
"drawDate": 1690824650503,
"autoExecute": true,
"choiceMethod": "random_ticket",
"maxWinners": 1,
"maxPerPlayer": 1,
"techniques": ["GT74"],
"rewards": [
{
"total": 1,
"type": 2,
"item": "flight_ticket"
}
],
"_id": "DTj0x5z"
}
]

Criar Sorteio
MÃ©todo: POST
Endpoint: /v3/lottery
DescriÃ§Ã£o: Cria um novo sorteio com as configuraÃ§Ãµes desejadas.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
{

"title": "Travel to Cancun",
"description": "Travel with a companion to Cancun, with airfare and accommodation, for 7
days.",
"drawDate": 1690824650503,
"autoExecute": true,
"choiceMethod": "random_ticket",
"maxWinners": 1,
"maxPerPlayer": 1,
"techniques": ["GT74"],
"rewards": [
{
"total": 1,
"type": 2,
"item": "flight_ticket"
}
],
"_id": "DTj0x5z"
}

Deletar Sorteio

MÃ©todo: DELETE
Endpoint: /v3/lottery/:id
DescriÃ§Ã£o: Remove um sorteio especÃ­fico da plataforma.â€‹

Listar Cupons
MÃ©todo: GET
Endpoint: /v3/lottery/ticket?lottery=DTj0x5z
DescriÃ§Ã£o: Lista todos os cupons emitidos para um sorteio especÃ­fico.â€‹

Criar Cupom
MÃ©todo: POST
Endpoint: /v3/lottery/ticket
DescriÃ§Ã£o: Emite um novo cupom para um jogador participar do sorteio.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
{
"lottery": "DTj0x5z",
"player": "tom"
}

Deletar Cupom

MÃ©todo: DELETE
Endpoint: /v3/lottery/ticket/:id
DescriÃ§Ã£o: Remove um cupom de sorteio especÃ­fico.â€‹

Executar Sorteio
MÃ©todo: GET
Endpoint: /v3/lottery/DTj0x5z/execute
DescriÃ§Ã£o: Executa o sorteio e seleciona os vencedores aleatoriamente.â€‹

Reverter ExecuÃ§Ã£o do Sorteio
MÃ©todo: DELETE
Endpoint: /v3/lottery/DTj0x5z/execute
DescriÃ§Ã£o: Reverte a execuÃ§Ã£o de um sorteio, permitindo realizar novamente.â€‹

Listar Vencedores

MÃ©todo: GET
Endpoint: /v3/lottery/winner?lottery=DTj0x5z
DescriÃ§Ã£o: Retorna a lista de vencedores de um sorteio executado.â€‹

Listar Participantes
MÃ©todo: GET
Endpoint: /v3/lottery/participants?lottery=DTj0x5z
DescriÃ§Ã£o: Mostra os participantes, quantidade de cupons, ganhadores e dados do sorteio.â€‹

Recurso: Competition
MÃ³dulo para promover disputas entre dois ou mais jogadores em um determinado perÃ­odo,
avaliando quem atinge os melhores resultados. As competiÃ§Ãµes podem ter nÃºmero mÃ¡ximo de
participantes e de vencedores, alÃ©m de regras de pontuaÃ§Ã£o e critÃ©rios de ranqueamento
definidos.

Listar CompetiÃ§Ãµes

MÃ©todo: GET
Endpoint: /v3/competition
DescriÃ§Ã£o: Retorna a lista de competiÃ§Ãµes configuradas.â€‹

Criar CompetiÃ§Ã£o
MÃ©todo: POST
Endpoint: /v3/competition
DescriÃ§Ã£o: Cria uma nova competiÃ§Ã£o entre jogadores.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
{
"title": "Sales Race",

"description": "Leads the competition who has the highest amount of closed sales in the
month.",
"period": {
"expression": "-0M-;+1M+"
},
"maxWinners": 1,
"maxPlayers": 100,
"minScore": 0,
"operation": {
"type": 1,
"achievement_type": 0,
"item": "sell",
"filters": [],
"sort": -1,
"sub": false
},
"requires": [
{
"total": 10,
"type": 0,
"item": "coin",
"operation": 1,
"extra": {},
"restrict": false,
"perPlayer": false
}
],
"rewards": [
{
"total": 100,
"type": 0,
"item": "xp",
"operation": 0,
"extra": {
"position_start": 1,
"position_ends": 3
},
"restrict": false,
"perPlayer": false
}
],
"notifications": [],
"active": true,
"teamCompetition": false,
"autoExecute": true,
"extra": {},
"techniques": ["GT26"],
"_id": "race"
}

Deletar CompetiÃ§Ã£o
MÃ©todo: DELETE
Endpoint: /v3/competition/:id
DescriÃ§Ã£o: Remove uma competiÃ§Ã£o especÃ­fica da plataforma.â€‹

Listar ParticipaÃ§Ãµes (Joins)
MÃ©todo: GET
Endpoint: /v3/competition/join?competition=race
DescriÃ§Ã£o: Retorna a lista de jogadores inscritos em uma competiÃ§Ã£o.â€‹

Criar ParticipaÃ§Ã£o (Join)
MÃ©todo: POST
Endpoint: /v3/competition/join
DescriÃ§Ã£o: Inscreve um jogador em uma competiÃ§Ã£o.â€‹
Exemplo de Body da RequisiÃ§Ã£o:â€‹
{
"competition":"race",
"player":"jerry"
}

Deletar ParticipaÃ§Ã£o (Join)

MÃ©todo: DELETE
Endpoint: /v3/competition/join
DescriÃ§Ã£o: Remove a inscriÃ§Ã£o de um jogador em uma competiÃ§Ã£o.â€‹
Exemplo de Body da RequisiÃ§Ã£o:
{
"competition":"race",
"player":"tom"
}

Listar LÃ­deres da CompetiÃ§Ã£o
MÃ©todo: POST
Endpoint: /v3/competition/leader/aggregate?id=race
DescriÃ§Ã£o: Retorna a posiÃ§Ã£o atual dos jogadores inscritos, com base na mÃ©trica definida.â€‹

Executar CompetiÃ§Ã£o
MÃ©todo: GET
Endpoint: /v3/competition/:id/execute
DescriÃ§Ã£o: Finaliza a competiÃ§Ã£o, calcula os resultados e premia os vencedores.â€‹

Reverter ExecuÃ§Ã£o da CompetiÃ§Ã£o
MÃ©todo: DELETE
Endpoint: /v3/competition/:id/execute
DescriÃ§Ã£o: Reverte a execuÃ§Ã£o da competiÃ§Ã£o e remove os resultados registrados.â€‹

Recurso: Swap
MÃ³dulo que permite que jogadores troquem itens conquistados na gamificaÃ§Ã£o com outros
jogadores. Por exemplo, um jogador pode oferecer uma camiseta em troca de uma bola e 10
moedas. Pode ser usado para criar mercados de troca como de figurinhas. As trocas sÃ£o
criadas pelos prÃ³prios jogadores, e nÃ£o pelo administrador.

Listar Trocas
MÃ©todo: GETâ€‹
Endpoint: /v3/database/swapâ€‹
DescriÃ§Ã£o: Retorna a lista de trocas (swaps) disponÃ­veis criadas pelos jogadores.

Criar Troca
MÃ©todo: POSTâ€‹
Endpoint: /v3/swapâ€‹
DescriÃ§Ã£o: Cria uma nova proposta de troca. O jogador define os itens que estÃ¡ oferecendo e
os itens que deseja em troca.
Exemplo de Body da RequisiÃ§Ã£o:
{
"seller": "tom",
"rewards": [
{
"total": 1,
"type": 2,
"item": "DTj7lVn"
}
],
"requires": [
{
"total": 2,
"type": 0,
"item": "coin"
}
]
}

Deletar Troca

MÃ©todo: DELETEâ€‹
Endpoint: /v3/swap/:idâ€‹
DescriÃ§Ã£o: Remove uma proposta de troca existente, identificada pelo seu ID.

Realizar Troca (Adquirir Swap)
MÃ©todo: POSTâ€‹
Endpoint: /v3/swap/acquireâ€‹
DescriÃ§Ã£o: Permite que um jogador aceite uma proposta de troca criada por outro jogador.
Exemplo de Body da RequisiÃ§Ã£o:
{
"buyer": "jerry",
"swap": "650c67f88325771ffaa78a24"
}

Receber Recompensas da Troca
MÃ©todo: POSTâ€‹
Endpoint: /v3/swap/receiveâ€‹
DescriÃ§Ã£o: O jogador que criou a troca (vendedor) recebe os itens oferecidos pelo comprador.
Exemplo de Body da RequisiÃ§Ã£o:
{
"swap": "650c67f88325771ffaa78a24"
}

Listar Contra Propostas
MÃ©todo: POSTâ€‹
Endpoint: /v3/database/swap_counter_offer/aggregateâ€‹
DescriÃ§Ã£o: Lista as contra propostas feitas por compradores para uma troca especÃ­fica.
Exemplo de Body da RequisiÃ§Ã£o:
[
{
"$match": {
"swap": "650c683c8325771ffaa78a3f"
}
}
]

Criar Contra Proposta
MÃ©todo: POSTâ€‹
Endpoint: /v3/swap/counter/offerâ€‹
DescriÃ§Ã£o: Permite que um jogador proponha uma troca alternativa ao vendedor.
Exemplo de Body da RequisiÃ§Ã£o:
{

"swap": "650c683c8325771ffaa78a3f",
"buyer": "jerry",
"offer": [
{
"total": 1,
"type": 0,
"item": "coin"
}
]
}

Deletar Contra Proposta
MÃ©todo: DELETEâ€‹
Endpoint: /v3/swap/counter/offer/:idâ€‹
DescriÃ§Ã£o: Remove uma contra proposta previamente feita por um comprador.
Exemplo de Body da RequisiÃ§Ã£o:
{
"swap": "650c683c8325771ffaa78a3f",
"buyer": "jerry",
"offer": [
{
"total": 1,
"type": 0,
"item": "coin"
}
]
}

Aceitar Contra Proposta
MÃ©todo: POSTâ€‹
Endpoint: /v3/swap/counter/offer/acceptâ€‹
DescriÃ§Ã£o: Permite que o vendedor aceite uma contra proposta feita por um comprador.
Exemplo de Body da RequisiÃ§Ã£o:
{
"offer": "650c69aa8325771ffaa78b1b"
}

Receber Recompensas de Contra Proposta
MÃ©todo: POSTâ€‹
Endpoint: /v3/swap/counter/offer/receiveâ€‹
DescriÃ§Ã£o: Permite que o vendedor receba os itens propostos por um comprador em uma
contra proposta aceita.
Exemplo de Body da RequisiÃ§Ã£o:
{

"swap": "650c683c8325771ffaa78a3f"
}

Recurso: Question
MÃ³dulo para criar perguntas para os jogadores. A apresentaÃ§Ã£o da pergunta pode se dar no
formato tradicional com a pergunta e as opÃ§Ãµes de resposta abaixo, mas tambÃ©m em formatos
de mini games como por exemplo, um caÃ§a-palavras, uma cruzadinha, etc. Cada pergunta
pode apresentar texto, imagens, conteÃºdos audiovisuais, e as respostas podem ser de mÃºltipla
escolha, verdadeiro ou falso, dissertaÃ§Ã£o, etc.

Listar Perguntas
MÃ©todo: GETâ€‹
Endpoint: /v3/questionâ€‹
DescriÃ§Ã£o: Retorna a lista de perguntas configuradas.

Criar Pergunta
MÃ©todo: POSTâ€‹
Endpoint: /v3/questionâ€‹
DescriÃ§Ã£o: Cria uma nova pergunta com opÃ§Ãµes de resposta.
Exemplo de Body da RequisiÃ§Ã£o:
{
"_id": "64a5b2c2d8dcca49bcf7eb6e",
"type": "MULTIPLE_CHOICE",
"title": "Visual Components",
"question": "In Funifier, what is the small visual components that can be added to a web page
to display feedbacks?",
"grade": 1,
"choices": [
{ "answer": "1", "label": "Points", "grade": 0, "extra": {} },
{ "answer": "2", "label": "Badges", "grade": 0, "extra": {} },
{ "answer": "3", "label": "Challenges", "grade": 0, "extra": {} },
{ "answer": "4", "label": "Leaderboards", "grade": 0, "extra": {} },
{ "answer": "5", "label": "Widgets", "grade": 1, "extra": {} }
],
"techniques": ["GT05"],
"select": "one_answer",
"answerNumbering": "uppercase_letters",
"shuffle": false,
"feedbacks": [],
"extra": {}
}

Deletar Pergunta

MÃ©todo: DELETEâ€‹
Endpoint: /v3/question/:idâ€‹
DescriÃ§Ã£o: Remove uma pergunta existente pelo seu identificador.

Listar Respostas de Jogadores
MÃ©todo: GETâ€‹
Endpoint: /v3/question/log?question=:idâ€‹
DescriÃ§Ã£o: Retorna o histÃ³rico de respostas dos jogadores para uma determinada pergunta.

Criar Resposta de Jogador
MÃ©todo: POSTâ€‹
Endpoint: /v3/question/logâ€‹
DescriÃ§Ã£o: Registra a resposta de um jogador a uma pergunta.
Exemplo de Body da RequisiÃ§Ã£o:
{
"question": "64a5b2c2d8dcca49bcf7eb6e",
"answer": ["5"],
"player": "tom"
}

Deletar Resposta de Jogador
MÃ©todo: DELETEâ€‹
Endpoint: /v3/question/log/:idâ€‹
DescriÃ§Ã£o: Remove uma entrada de resposta registrada de um jogador.

Recurso: Quiz
DescriÃ§Ã£oâ€‹
MÃ³dulo para agrupar vÃ¡rias perguntas em um bloco Ãºnico a ser respondido pelos jogadores.
Por exemplo, uma prova com vÃ¡rias questÃµes. O administrador define o valor total em pontos e
o sistema calcula a pontuaÃ§Ã£o com base na performance. Os quizzes podem ser apresentados
como mini games, como uma corrida espacial.
Listar Quizzes
MÃ©todo: GET
URL: /v3/database/quiz
DescriÃ§Ã£o: Retorna todos os quizzes cadastrados.â€‹
Criar Quiz
MÃ©todo: POST
URL: /v3/quiz
DescriÃ§Ã£o: Cria um novo quiz.â€‹

Exemplo de RequisiÃ§Ã£o:
{
"_id": "650c82fe832",
"title": "Funifier Exam",
"description": "Test your knowledge about the best gamification platform in the world.",
"grade": 10,
"i18n": {},
"extra": {},
"feedbacks": [],
"questionNumbering": "uppercase_letters",
"showGradeBeforeFinish": false,
"shuffle": false
}
Deletar Quiz
MÃ©todo: DELETE
URL: /v3/quiz/{quiz_id}
DescriÃ§Ã£o: Remove um quiz existente.â€‹
Listar Perguntas de um Quiz
MÃ©todo: GET
URL: /v3/quiz/{quiz_id}/question
DescriÃ§Ã£o: Retorna todas as perguntas de um quiz especÃ­fico.â€‹
Criar Pergunta para um Quiz
MÃ©todo: POST
URL: /v3/question
DescriÃ§Ã£o: Adiciona uma nova pergunta ao quiz.â€‹
Exemplo de RequisiÃ§Ã£o:
{
"quiz": "650c82fe832",
"type": "MULTIPLE_CHOICE",
"title": "Best Platform",
"question": "What is the best gamification platform?",
"grade": 1,
"choices": [
{ "answer": "1", "label": "Funifier", "grade": 1, "extra": {}, "gradePercent": 100, "gradeCheck":
true },
{ "answer": "2", "label": "Points", "grade": 0, "extra": {}, "gradePercent": 0 },
{ "answer": "3", "label": "Badges", "grade": 0, "extra": {}, "gradePercent": 0 },
{ "answer": "4", "label": "Leaderboards", "grade": 0, "extra": {}, "gradePercent": 0 }
],
"i18n": {},
"select": "one_answer",
"shuffle": false
}

Iniciar Quiz
MÃ©todo: POST
URL: /v3/quiz/start
DescriÃ§Ã£o: Inicia um quiz para um jogador.â€‹
Exemplo de RequisiÃ§Ã£o:
{
"quiz": "650c82fe832",
"player": "tom"
}
Registrar Respostas em Lote
MÃ©todo: POST
URL: /v3/question/log/bulk
DescriÃ§Ã£o: Registra mÃºltiplas respostas de uma sÃ³ vez.â€‹
Exemplo de RequisiÃ§Ã£o:
[
{
"quiz": "650c82fe832",
"quiz_log": "650dc6168325771ffaa94098",
"question": "650dc4d98325771ffaa93e5e",
"answer": ["1"],
"player": "tom"
}
]
Finalizar Quiz
MÃ©todo: POST
URL: /v3/quiz/finish
DescriÃ§Ã£o: Finaliza a tentativa do jogador em um quiz.â€‹
Exemplo de RequisiÃ§Ã£o:
{
"quiz_log": "650dc6168325771ffaa94098"
}

Recurso: Mystery Box
MÃ³dulo para configurar prÃªmios aleatÃ³rios. O jogador nÃ£o sabe o prÃªmio que irÃ¡ ganhar. Por
exemplo: uma raspadinha onde o jogador sÃ³ descobre se ganhou algum prÃªmio ou nÃ£o depois
de raspar a cartela; um jogo de cara ou coroa, onde existe 50% de chance para cada opÃ§Ã£o;
uma roda da fortuna, onde existem vÃ¡rias opÃ§Ãµes, algumas com prÃªmios legais e outras nem
tanto. VocÃª configura este mÃ³dulo informando um tÃ­tulo para a caixa surpresa, as opÃ§Ãµes
possÃ­veis e a probabilidade de cada uma ser escolhida, alÃ©m das combinaÃ§Ãµes vencedoras
com seus respectivos prÃªmios.

Listar Mystery Boxesâ€‹
MÃ©todo: GETâ€‹
Endpoint: /v3/mysteryâ€‹
DescriÃ§Ã£o: Retorna a lista de caixas de prÃªmios aleatÃ³rios configuradas.
Criar Mystery Boxâ€‹
MÃ©todo: POSTâ€‹
Endpoint: /v3/mysteryâ€‹
DescriÃ§Ã£o: Cria uma nova caixa de prÃªmios aleatÃ³rios com suas opÃ§Ãµes e probabilidades.
Exemplo de Body da RequisiÃ§Ã£o:
{
"title": "Heads or Tails",
"options": [
{ "title": "Heads", "value": "heads", "probability": 0.5 },
{ "title": "Tails", "value": "tails", "probability": 0.5 }
],
"columns": 1,
"requirements": [],
"win_chart": [
{
"combination": ["heads"],
"orderSensitive": false,
"reward": {
"total": 1,
"type": 0,
"item": "coin"
}
}
],
"techniques": ["GT72"],
"_id": "64a5b464d8dcca49bcf7edd0"
}
Deletar Mystery Boxâ€‹
MÃ©todo: DELETEâ€‹
Endpoint: /v3/mystery/{mystery_id}â€‹
DescriÃ§Ã£o: Remove uma caixa de prÃªmios aleatÃ³rios previamente configurada.
Avaliar CondiÃ§Ãµes de Mystery Boxâ€‹
MÃ©todo: GETâ€‹
Endpoint: /v3/mystery/evaluate/{mystery_id}?player={player_id}â€‹
DescriÃ§Ã£o: Avalia se o jogador estÃ¡ apto a executar a Mystery Box, verificando limites e
requisitos.

Executar Mystery Boxâ€‹
MÃ©todo: GETâ€‹
Endpoint: /v3/mystery/execute/{mystery_id}?player={player_id}â€‹
DescriÃ§Ã£o: Executa a lÃ³gica de sorteio de uma Mystery Box para um jogador especÃ­fico e
retorna o resultado.

Recurso: Folder
MÃ³dulo para criar pastas virtuais onde vocÃª pode incluir qualquer tipo de conteÃºdo. As pastas
podem ser utilizadas, por exemplo, para construir um curso online, composto de mÃ³dulos, onde
cada mÃ³dulo possui um conjunto de aulas, e cada aula possui um conjunto de conteÃºdos. Esse
mÃ³dulo permite monitorar o progresso do jogador dentro dessa Ã¡rvore de diretÃ³rios e
conteÃºdos, registrar logs de aÃ§Ãµes e aplicar tÃ©cnicas de jogos para criar experiÃªncias
educativas e engajadoras.
Listar Pastasâ€‹
MÃ©todo: GETâ€‹
Endpoint: /v3/database/folderâ€‹
DescriÃ§Ã£o: Retorna a lista de pastas existentes.
Criar Pastaâ€‹
MÃ©todo: POSTâ€‹
Endpoint: /v3/folderâ€‹
DescriÃ§Ã£o: Cria uma nova pasta com tÃ­tulo e pasta-pai opcional.
Exemplo de Body da RequisiÃ§Ã£o:
{
"title": "CoreDrives",
"parent": "D0MmmNf"
}
Deletar Pastaâ€‹
MÃ©todo: DELETEâ€‹
Endpoint: /v3/folder/{folder_id}â€‹
DescriÃ§Ã£o: Remove uma pasta existente a partir do seu identificador.
Obter Breadcrumb da Pastaâ€‹
MÃ©todo: POSTâ€‹
Endpoint: /v3/folder/breadcrumbâ€‹
DescriÃ§Ã£o: Retorna o caminho hierÃ¡rquico da pasta informada, desde a raiz atÃ© ela.
Exemplo de Body da RequisiÃ§Ã£o:
{
"folder": "CD1"
}

Listar Tipos de ConteÃºdo de Pastaâ€‹
MÃ©todo: GETâ€‹
Endpoint: /v3/database/folder_content_typeâ€‹
DescriÃ§Ã£o: Retorna os tipos de conteÃºdo que podem ser adicionados Ã s pastas.
Criar ou Atualizar Tipo de ConteÃºdoâ€‹
MÃ©todo: PUTâ€‹
Endpoint: /v3/database/folder_content_typeâ€‹
DescriÃ§Ã£o: Define um novo tipo de conteÃºdo ou atualiza um tipo existente.
Exemplo de Body da RequisiÃ§Ã£o:
{
"_id": "text",
"input": "formulary",
"form": [
{
"name": "title",
"type": "string",
"title": "Title",
"dropdown": {
"type": "",
"static": [],
"dynamic": {}
}
},
{
"name": "content",
"type": "text",
"title": "Content",
"dropdown": {
"type": "",
"static": [],
"dynamic": {}
}
}
],
"title": "Text",
"entity": "text__c"
}

Recurso: Database
Permite acessar as coleÃ§Ãµes do banco de dados da gamificaÃ§Ã£o. Cada gamificaÃ§Ã£o tem seu
prÃ³prio banco de dados. AtravÃ©s desse mÃ³dulo Ã© possÃ­vel listar coleÃ§Ãµes existentes, consultar,
inserir, atualizar e excluir dados de coleÃ§Ãµes, alÃ©m de criar e gerenciar Ã­ndices.

Listar ColeÃ§Ãµesâ€‹
MÃ©todo: GETâ€‹
Endpoint: /v3/database/collectionsâ€‹
DescriÃ§Ã£o: Lista o nome de todas as coleÃ§Ãµes existentes no banco de dados da gamificaÃ§Ã£o.
Listar Dados de uma ColeÃ§Ã£oâ€‹
MÃ©todo: GETâ€‹
Endpoint: /v3/database/:collectionâ€‹
DescriÃ§Ã£o: Retorna os dados da coleÃ§Ã£o especificada. O nome da coleÃ§Ã£o deve ser informado
na URL.
Criar Registro em uma ColeÃ§Ã£oâ€‹
MÃ©todo: POSTâ€‹
Endpoint: /v3/database/:collectionâ€‹
DescriÃ§Ã£o: Cria um novo registro em uma coleÃ§Ã£o.
Exemplo de Body da RequisiÃ§Ã£o:
{
"year": 2010,
"fuel": "gasoline",
"price": 50000,
"name": "Civic",
"description": "Honda Civic",
"brand": "honda"
}
Atualizar Registro em uma ColeÃ§Ã£oâ€‹
MÃ©todo: PUTâ€‹
Endpoint: /v3/database/:collectionâ€‹
DescriÃ§Ã£o: Atualiza um registro existente em uma coleÃ§Ã£o.
Exemplo de Body da RequisiÃ§Ã£o:
{
"_id": "6553e49815865a7a732f5fc7",
"year": 2010,
"fuel": "gasoline",
"price": 50000,
"name": "Civic",
"description": "Honda Civic",
"brand": "honda"
}
Excluir Registro(s) de uma ColeÃ§Ã£oâ€‹
MÃ©todo: DELETEâ€‹
Endpoint: /v3/database/:collection?q=_id:'contend_id'â€‹

DescriÃ§Ã£o: Exclui um ou mais registros de uma coleÃ§Ã£o, com base no parÃ¢metro q informado
na URL.
Executar AgregaÃ§Ãµesâ€‹
MÃ©todo: POSTâ€‹
Endpoint: /v3/database/:collection/aggregate?strict=trueâ€‹
DescriÃ§Ã£o: Executa uma lista de comandos aggregate no banco de dados, seguindo a sintaxe
do MongoDB.
Exemplo de Body da RequisiÃ§Ã£o:
[
{ "$match": { "actionId": "sell", "userId": "jerry", "attributes.price": { "$gte": 10 } } },
{ "$limit": 1 }
]
InserÃ§Ã£o em Massa (Bulk)â€‹
MÃ©todo: POSTâ€‹
Endpoint: /v3/database/:collection/bulkâ€‹
DescriÃ§Ã£o: Permite inserir mÃºltiplos registros em uma coleÃ§Ã£o de uma sÃ³ vez.
Exemplo de Body da RequisiÃ§Ã£o:
[
{
"_id": "6553e49815865a7a732f5fc7",
"year": 2010,
"fuel": "gasoline",
"price": 60000,
"name": "Honda Civic",
"description": "Honda Civic",
"brand": "honda"
},
{
"_id": "6553e49815865a7a732f5fc8",
"year": 2012,
"fuel": "gasoline",
"price": 70000,
"name": "Toyota Corola",
"description": "Toyota Corola",
"brand": "toyota"
}
]
Listar Ãndicesâ€‹
MÃ©todo: GETâ€‹
Endpoint: /v3/database/:collection/indexâ€‹
DescriÃ§Ã£o: Lista os Ã­ndices existentes em uma determinada coleÃ§Ã£o.

Criar Ãndiceâ€‹
MÃ©todo: POSTâ€‹
Endpoint: /v3/database/:collection/indexâ€‹
DescriÃ§Ã£o: Cria um novo Ã­ndice para uma coleÃ§Ã£o.
Exemplo de Body da RequisiÃ§Ã£o:
{
"fuel": 1
}
Excluir Ãndiceâ€‹
MÃ©todo: DELETEâ€‹
Endpoint: /v3/database/:collection/index/:index_nameâ€‹
DescriÃ§Ã£o: Exclui um Ã­ndice especÃ­fico de uma coleÃ§Ã£o.

Recurso: Upload
Permite enviar arquivos (como imagens) para o servidor da gamificaÃ§Ã£o, com suporte a envio
via FormData, definiÃ§Ã£o de nome e metadados adicionais no campo extra.
Upload de Imagemâ€‹
MÃ©todo: POSTâ€‹
Endpoint: /v3/upload/imageâ€‹
DescriÃ§Ã£o: Realiza o upload de uma imagem para o servidor da Funifier, utilizando um
formulÃ¡rio multipart (FormData). Ã‰ possÃ­vel enviar dados adicionais atravÃ©s do campo extra.
Exemplo de Body da RequisiÃ§Ã£o (via FormData):
â—â€‹ file: conteÃºdo da imagem (ex: profile-pic.jpg)
â—â€‹ extra: { "session": "images" }â€‹
Headers:
â—â€‹ Authorization: {token}
â—â€‹ Content-Type: multipart/form-data (gerenciado automaticamente pelo
FormData, portanto deve ser undefined no cÃ³digo)â€‹
Resposta esperada:
{
"uploads": [
{
"url": "https://cdn.funifier.com/uploads/images/abc123/profile-pic.jpg"
}
]
}

Anexo III - Aggregates Funifier
A plataforma Funifier utiliza o MongoDB como banco de dados, permitindo que
desenvolvedores realizem consultas avanÃ§adas por meio do recurso de aggregates. Essa
funcionalidade Ã© fundamental para extrair relatÃ³rios, gerar indicadores personalizados e
construir dashboards inteligentes a partir dos dados gerados pelas aÃ§Ãµes dos jogadores, seus
desafios, recompensas e comportamento na plataforma.
Neste anexo, apresentamos a estrutura das coleÃ§Ãµes mais utilizadas na plataforma, exemplos
prÃ¡ticos de comandos aggregate e explicaÃ§Ãµes detalhadas sobre a sintaxe e os filtros
especÃ­ficos oferecidos pela Funifier â€” como as expressÃµes de datas relativas (ex: -0M- para o
inÃ­cio do mÃªs atual). Este conteÃºdo Ã© essencial para os candidatos Ã  certificaÃ§Ã£o Funifier
Gamification Developer I, pois oferece o conhecimento necessÃ¡rio para construir queries
eficientes que viabilizam anÃ¡lises profundas e decisÃµes orientadas por dados dentro de
projetos gamificados.
Os comandos aggregates sÃ£o executados em uma coleÃ§Ã£o do MongoDB. O nome da coleÃ§Ã£o Ã©
informado na url que tem o seguinte formato /v3/database/{collection}/aggregate. Os comandos
aggregate sÃ£o enviados no corpo da requisiÃ§Ã£o no formato JSON, usando o mÃ©todo POST. Por
exemplo, se vocÃª quiser executar um aggregate na coleÃ§Ã£o "achievement" para somar quantos
pontos xp o jogador john teve na gamificaÃ§Ã£o faÃ§a a requisiÃ§Ã£o abaixo:
# Soma o total de pontos xp do john na coleÃ§Ã£o achievement
# POST /v3/database/achievement/aggregate
[
{"$match":{ "player": "john", "type": 0, "item": "xp" }},
{"$group":{ "_id":null, "total":{"$sum":"$total"} }}
]
ESTRUTURA DOS OBJETOS DAS COLEÃ‡Ã•ES
Abaixo temos uma lista das principais coleÃ§Ãµes e estrutura de seus objetos:
ColeÃ§Ã£o "player" onde estÃ£o todos os jogadores da gamificaÃ§Ã£o. Neste exemplo temos o
jogador John Travolta, com login John, e-mail john@funifier.com, que pertence a equipe de
vendas, Ã© dos Estados Unidos, estÃ¡ no departamento de IT e foi criado em 5 de julho de 2023.
Esta Ã© a estrutura dos objetos dentro desta coleÃ§Ã£o:
{"_id": "john", "name": "John Travolta", "email": "john@funifier.com", "teams": ["sales"], "extra":
{"country": "USA", "department": "IT"}, "created": {"$date": "2023-07-05T20:57:25.776Z"},
"updated": {"$date": "2023-07-05T20:57:25.777Z"}}

ColeÃ§Ã£o "action" onde estÃ£o as configuraÃ§Ãµes dos tipos de aÃ§Ãµes; No exemplo temos uma
aÃ§Ã£o vender, com dois atributos, produto do tipo string e preÃ§o do tipo nÃºmero, e essa aÃ§Ã£o
estÃ¡ ativa. Esta Ã© a estrutura dos objetos dentro desta coleÃ§Ã£o:
{"_id": "sell", "action": "Sell", "attributes": [{"name": "product", "type": "String"}, {"name": "price",
"type": "Number"}], "active": true}
ColeÃ§Ã£o "action_log" onde ficam todas as aÃ§Ãµes executadas pelos jogadores. No exemplo
temos um registro de que o jogador John fez uma venda de um livro por 120 no dia 5 de julho
de 2023. O campo userId se relaciona com o campo _id da coleÃ§Ã£o player. O campo actionId
se relaciona com o campo _id da coleÃ§Ã£o action. Esta Ã© a estrutura dos objetos dentro desta
coleÃ§Ã£o:
{"_id": "64a5d92", "actionId": "sell", "userId": "john", "time": {"$date":
"2023-07-05T20:57:33.303Z"}, "attributes": {"product": "book", "price": 120}}
ColeÃ§Ã£o "achievement" onde estÃ£o as conquistas dos jogadores, como um desafio concluÃ­do,
um nÃ­vel alcanÃ§ado, pontos que ganhou, item que comprou; No exemplo abaixo John
conquistou 25 pontos XP no dia 5 de julho de 2023. O campo type indica o tipo da conquista,
que pode ser 0 para point, 1 para challenge, 2 para virtual good, 3 para level. O campo item
indica o id do item que foi conquistado. Que pode ser o id de um point, level, challenge, etc. O
campo player se relaciona com o campo _id da coleÃ§Ã£o player. Esta Ã© a estrutura dos objetos
dentro desta coleÃ§Ã£o:
{"_id": "64a5d2", "player": "john", "total": 25.0, "type": 0, "item": "xp", "time": {"$date":
"2023-07-05T20:57:33.303Z"}}
ColeÃ§Ã£o "challenge" onde estÃ£o os desafios da gamificaÃ§Ã£o. Neste exemplo temos o desafio
Assistir VÃ­deo que dÃ¡ 10 pontos XP como recompensa. Esta Ã© a estrutura dos objetos dentro
desta coleÃ§Ã£o:
{"challenge": "Watch Video", "active": true, "_id": "DTo8dS3", "description": "Complete this
challenge by watching a video", "rules": [{"actionId": "watch_video", "operator": 5, "total": 0}],
"points": [{"total": 10.0, "category": "xp", "operation": 0}]}
ColeÃ§Ã£o "point_category" onde estÃ£o os tipos de pontos da gamificaÃ§Ã£o. Neste exemplo
temos o ponto do tipo XP. Esta Ã© a estrutura dos objetos dentro desta coleÃ§Ã£o:
{"_id": "xp", "category": "Experience Points", "shortName": "XP", "extra": {}}
ColeÃ§Ã£o "catalog_item" onde estÃ£o os itens da loja virtual. Neste exemplo temos uma camisa,
que pode ser adquirida por 15 moedas, e no estoque existem apenas 100 disponÃ­veis, este
item foi criado no dia 5 de julho de 2023. Esta Ã© a estrutura dos objetos dentro desta coleÃ§Ã£o:
{"_id": "prd1", "catalogId": "gifts", "name": "T-shirt", "description": "White t-shirt with the Funifier
logo", "amount": 100, "active": true, "created": {"$date": "2023-07-05T17:10:58.416Z"}, "extra":
{}, "requires": [{"total": 15, "type": 0, "item": "coin", "operation": 1}]}

EXEMPLOS
Abaixo temos alguns dos principais exemplos de comandos de agregaÃ§Ã£o utilizados em
projetos reais de gamificaÃ§Ã£o usando a plataforma FUNIFIER.
EXEMPLO 1: AGGREGATE PARA CALCULAR OS 10 JOGADORES COM MAIS PONTOS
XP NA GAMIFICAÃ‡ÃƒO NO MÃŠS ATUAL
Neste exemplo comeÃ§amos o aggregate na coleÃ§Ã£o achievement que Ã© onde estÃ£o as
conquistas dos pontos, filtrando pelo item "xp" e nas datas estamos filtrando usando a
expressÃ£o "-0M-" que indica o inÃ­cio do mÃªs atual, e a expressÃ£o "-0M+" que indica o fim do
mÃªs atual. Esta expressÃ£o Ã© especÃ­fica da plataforma FUNIFIER. Mais a frente Ã© feito um
lookup na coleÃ§Ã£o player para recuperar o nome do jogador.
# POST /v3/database/achievement/aggregate
[
{"$match":{ "type":0, "item": "xp", "time":{"$gte":{"$date":"-0M-"}, "$lte":{"$date":"-0M+"}} }},
{"$group":{ "_id":"$player", "total":{"$sum":"$total"} }},
{"$sort":{ "total":-1 }},
{"$lookup": {"from":"player", "localField":"_id", "foreignField":"_id", "as":"p" }},
{"$unwind" : "$p" },
{"$project":{ "_id":1, "player":"$p.name", "total":1 }},
{"$limit":10}
]

ExpressÃµes de Data (Funifier Syntax)
A expressÃ£o de data Ã© composta de 3 partes obrigatÃ³rias e uma opcional. A primeira parte Ã© o
sinal de - ou + que indica se Ã© para voltar no tempo ou avanÃ§ar no tempo. A segunda parte Ã©
uma letra que indica a unidade de tempo. Letra "m" para minuto, "h" para hora, "d" para dia, "w"
para semana, "M" para mÃªs, e "y" para ano. A terceira parte Ã© um nÃºmero com a quantidade de
tempo. Por exemplo -2d significa voltar 2 dias em relaÃ§Ã£o ao momento atual. A quarta parte Ã© o
sinal de - ou + que indica se a data calculada deve recuar para o inÃ­cio ou avanÃ§ar para o final
da unidade de tempo. Por exemplo -1d- significa voltar 1 dia e recuar atÃ© a 00:00:00 que Ã© o
primeiro momento da unidade dia.
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹
â—â€‹

-0d-: InÃ­cio do dia atual (00:00:00)
-0d+: Fim do dia atual (23:59:59)
-1d: Agora, um dia atrÃ¡s
-0w- / -0w+: Semana atual (inÃ­cio/fim)
-0M- / -0M+: MÃªs atual (inÃ­cio/fim)
-1M-: InÃ­cio do mÃªs anteriorâ€‹

Formato: [sinal][unidade][quantidade][ajuste opcional]â€‹
Exemplo: -2w+ = Fim da semana retrasada
Aqui estÃ£o mais alguns exemplos de expressÃµes de data que podem ser usadas nos filtros:

ExpressÃ£o "-0d", agora.
ExpressÃ£o "-0d-", 00:00:00 do dia atual
ExpressÃ£o "-0d+", 23:59:59 do dia atual
ExpressÃ£o "-1d", exactly one day before now
ExpressÃ£o "-1d-", 00:00:00 the day before the current day
ExpressÃ£o "-1d+", 23:59:59 the day before the current day
ExpressÃ£o "-0w-", 00:00:00 on the most recent first day of the current week
ExpressÃ£o "-0w+", 23:59:59 on the last day of the current week
ExpressÃ£o "-1w", exactly one week before now
ExpressÃ£o "-0M-", 00:00:00 on the first day of the month that the current day is
ExpressÃ£o "-0M+", 23:59:59 on the last day of the month that the current day is
ExpressÃ£o "-1M", exactly one month before now

EXEMPLO 2: AGGREGATE PARA SABER QUANTOS JOGADORES DISTINTOS
COMPLETARAM UM CERTO DESAFIO
# POST /v3/database/achievement/aggregate
[
{"$match":{ "type":1, "item": "DTo8dS3" }},
{"$group":{ "_id":"$player", "challenge":{"$first":"$item"} }},
{"$group":{ "_id":"$challenge", "total_players":{"$sum":1} }},
{"$lookup": {"from":"challenge", "localField":"_id", "foreignField":"_id", "as":"c" }},
{"$project":{ "_id":1, "total_players":1, "challenge_name":{"$first":"$c.challenge"} }}
]
EXEMPLO 3: AGGREGATE PARA SABER A MÃ‰DIA DE PONTOS XP GANHOS PELOS
JOGADORES EM UM DETERMINADO MÃŠS
# POST /v3/database/achievement/aggregate
[
{"$match": {"type": 0, "item": "xp", "time": {"$gte": {"$date": "2023-08-01T00:00:00.000Z"},
"$lte": {"$date": "2023-08-31T23:59:59.999Z"}}}},
{"$group": {"_id": "$player", "averageXP": {"$avg": "$total"}}}
]
EXEMPLO 4: AGGREGATE PARA SABER QUAIS FORAM OS 3 ITENS MAIS VENDIDOS
NA LOJA VIRTUAL ESTE ANO
# POST /v3/database/achievement/aggregate
[
{"$match":{ "type":2, "time":{"$gte":{"$date":"-0y-"}, "$lte":{"$date":"-0y+"}} }},
{"$group":{ "_id":"$item", "totalSold":{"$sum":"$total"} }},

{"$lookup": {"from":"catalog_item", "localField":"_id", "foreignField":"_id", "as":"ci" }},
{"$project":{ "_id":1, "catalogItemName":{"$first":"$ci.name"}, "totalSold":1 }},
{"$sort":{ "totalSold":-1 }},
{"$limit": 3}
]
EXEMPLO 5: AGGREGATE PARA SABER QUEM FORAM OS JOGADORES QUE
EXECUTARAM AÃ‡Ã•ES ONTEM
# POST /v3/database/action_log/aggregate
[
{"$match":{ "time":{"$gte":{"$date":"-1d-"}, "$lte":{"$date":"-1d+"}} }},
{"$group":{ "_id":"$userId" }},
{"$lookup": {"from":"player", "localField":"_id", "foreignField":"_id", "as":"p" }},
{"$project":{ "_id":1, "playerName":{"$first":"$p.name"} }}
]

Anexo IV - Triggers Funifier
Triggers sÃ£o cÃ³digos JAVA executados dentro do FUNIFIER ENGINE quando um evento
especÃ­fico acontecer dentro da gamificaÃ§Ã£o. As triggers oferecem aos desenvolvedores uma
grande flexibilidade para manipular informaÃ§Ãµes em tempo real, permitindo mudar o
comportamento padrÃ£o das tÃ©cnicas de jogos e demais funcionalidades da plataforma. Por
exemplo, a funcionalidade padrÃ£o de cadastro de um jogador na gamificaÃ§Ã£o, nÃ£o faz nada
alÃ©m de cadastrar os dados do jogador no banco de dados. PorÃ©m, com a Trigger, o
desenvolvedor pode escrever um cÃ³digo JAVA para enviar um email de boas vindas para o
jogador, logo apÃ³s ele ser cadastrado no banco de dados. Triggers podem ser configuradas
atravÃ©s do FUNIFIER STUDIO ou pela FUNIFIER API.
O caminho para configuraÃ§Ã£o de triggers no STUDIO Ã©: /studio/trigger
O endpoint para configuraÃ§Ã£o de triggers na API REST Ã©: /v3/trigger

CONFIGURAÃ‡ÃƒO DE UMA TRIGGER
A configuraÃ§Ã£o de uma trigger Ã© composta de trÃªs informaÃ§Ãµes essenciais: o evento que indica
quando a trigger deve ser executada, a entidade que informa que tipo de objeto estÃ¡ vinculado
Ã quele evento, e o script Java a ser executado. Veja abaixo um exemplo de uma trigger que irÃ¡
alterar o nome do jogador para letra maiÃºscula, antes de criar o jogador no banco de dados.
Neste exemplo o evento Ã© "before_create" e a entidade Ã© "player".

# Trigger que alterar o nome do jogador para letra maiÃºscula antes do jogador ser criado
# POST /v3/trigger
{
"name": "Make the player's name uppercase", "_id": "DTv7uHc",
"description": "Before creating the player, change the letters of the name to uppercase",
"entity": "player",
"event": "before_create",
"script": "void trigger(event, entity, player, database){ entity.name =
entity.name.toUpperCase(); }"
}
Os campos utilizados nesta configuraÃ§Ã£o bÃ¡sica de trigger sÃ£o:
â—â€‹ "_id" : Identificador Ãºnico da trigger; Caso nÃ£o seja informado o Funifier define um valor;
â—â€‹ "name": Nome da trigger;
â—â€‹ "description": Descreve o que a trigger faz quando Ã© executada pela engine;
â—â€‹ "entity": Qual entidade estÃ¡ sendo observada; Neste exemplo estamos observando a
entidade player;
â—â€‹ "event": Evento que irÃ¡ acionar a trigger quando ele ocorrer na entidade especificada;
Neste exemplo estamos usando o evento "before_create", que acontece antes de criar o
jogador no banco de dados.
â—â€‹ "script": CÃ³digo JAVA que serÃ¡ executado quando a trigger for acionada. Todo script
comeÃ§a com a declaraÃ§Ã£o do mÃ©todo void trigger(event, entity, player, database){};

EVENTOS E ENTIDADES
Eventos determinam quando uma trigger serÃ¡ executada. Por exemplo "before_create", Ã© um
evento que acontece antes de criar algo. Os eventos sÃ£o expressÃµes compostas de um prefixo
e um sufixo. O prefixo indica o momento do evento (before ou after). O sufixo indica a operaÃ§Ã£o
(create, update, delete, win). JÃ¡ as entidades indicam o que estÃ¡ sendo afetado pelo evento.
Por exemplo, player, team, challenge. Veja abaixo alguns exemplos de combinaÃ§Ã£o de eventos
e entidades, e quando cada uma destas Ã© acionada:
â—â€‹ "event": "before_create", "entity": "player" = Executado logo antes do novo jogador ser
cadastrado no banco de dados; O objeto manipulado neste caso Ã© um Player;
â—â€‹ "event": "after_create", "entity": "player" = Executado logo apÃ³s o novo jogador ser
cadastrado no banco de dados; O objeto manipulado neste caso Ã© um Player;
â—â€‹ "event": "before_update", "entity": "player" = Executado quando um jogador existente
estiver sendo modificado. Logo antes da alteraÃ§Ã£o ser registrada no banco de dados;
â—â€‹ "event": "after_delete", "entity": "player" = Executado logo apÃ³s um jogador ser removido
da gamificaÃ§Ã£o; O objeto manipulado neste caso Ã© um Player;
â—â€‹ "event": "after_create", "entity": "challenge" = Executado logo apÃ³s o administrador da
gamificaÃ§Ã£o criar um novo desafio; O objeto manipulado neste caso Ã© um Challenge;
â—â€‹ "event": "after_win", "entity": "challenge" = Executado logo apÃ³s um jogador conquistar
um desafio; O objeto manipulado neste caso Ã© um Achievement;.
â—â€‹ "event": "before_create", "entity": "action" = Executado logo antes do administrador da
gamificaÃ§Ã£o criar uma nova action; O objeto manipulado neste caso Ã© um Action;

â—â€‹ "event": "before_win", "entity": "action" = Executado logo antes de um jogador realizar
uma aÃ§Ã£o; O objeto manipulado neste caso Ã© um ActionLog;
â—â€‹ "event": "after_win", "entity": "level" = Executado logo apÃ³s um jogador subir de nÃ­vel; O
objeto manipulado neste caso Ã© um Achievement;
â—â€‹ "event": "after_win", "entity": "catalog_item" = Executado logo apÃ³s um jogador comprar
um item da loja virtual; O objeto manipulado neste caso Ã© um Achievement;
â—â€‹ "event": "after_win", "entity": "lottery" = Executado logo apÃ³s um jogador ser sorteado na
loteria; O objeto manipulado neste caso Ã© um Achievement;
â—â€‹ "event": "after_win", "entity": "mystery_box" = Executado logo apÃ³s um jogador ser
ganhar um prÃªmio surpresa; O objeto manipulado neste caso Ã© um Achievement;
â—â€‹ "event": "after_win", "entity": "competition" = Executado logo apÃ³s um jogador vencer
uma competiÃ§Ã£o; O objeto manipulado neste caso Ã© um Achievement;
â—â€‹ "event": "after_create", "entity": "question_log" = Executado logo apÃ³s um jogador
responder uma pergunta; O objeto manipulado neste caso Ã© um QuestionLog;
â—â€‹ "event": "before_create", "entity": "achievement" = Executado logo antes de registrar
uma recompensa gerada por um desafio; Por exemplo quando estÃ¡ sendo registrado os
pontos gerados pelo desafio; O objeto manipulado neste caso Ã© um Achievement;
â—â€‹ "event": "before_create", "entity": "car__c" = Executado logo antes do administrador da
gamificaÃ§Ã£o criar um objeto customizado car; O objeto neste caso Ã© um HashMap com
qualquer estrutura que o administrador esteja usando na collection car__c;

SCRIPT DA TRIGGER
Uma vez que a trigger foi acionada, a plataforma irÃ¡ executar o mÃ©todo trigger que foi
declarado dentro do script JAVA. Veja abaixo um exemplo do cÃ³digo JAVA de uma Trigger para
colocar o campo name do jogador em letras maiÃºsculas antes de criar o jogador no banco:
/* "event": "before_create", "entity": "player" */
void trigger(event, entity, player, database) {
â€‹
entity.name = entity.name.toUpperCase();
}
Os parÃ¢metros informados na assinatura do mÃ©todo trigger sÃ£o:
â—â€‹ "event" : String com evento que foi acionado, Neste exemplo Ã© "before_create";
â—â€‹ "entity": Objeto que estÃ¡ sendo manipulado; Neste exemplo Ã© do tipo Player; Alguns
tipos de objetos JAVA recebidos sÃ£o Player, Challenge, Action, ActionLog, Achievement;
â—â€‹ "player" : String com o id do jogador que deu origem ao evento;
â—â€‹ "database" : Objeto utilitÃ¡rio para acessar o banco de dados da gamificaÃ§Ã£o;

TIPOS DE OBJETOS
Um dos parÃ¢metros do mÃ©todo trigger, Ã© o entity. Este parÃ¢metro Ã© um objeto que pode ser de
vÃ¡rios tipos diferentes. Alguns dos tipos de objetos que recebemos sÃ£o Player, Challenge,
Action, ActionLog, e Achievement. Mas existem vÃ¡rios outros tipos que vocÃª poderÃ¡ manipular

na sua trigger. Veja abaixo a estrutura dos principais objetos que serÃ£o recebidos no parÃ¢metro
entity dentro das triggers:
â—â€‹ Player : {"_id": "john", "name": "John Travolta", "email": "john@funifier.com", "image":
{"small": { "url": "https://a.com/a.jpg"}, "medium": {"url": "https://a.com/a.jpg"}, "original":
{"url": "https://a.com/a.jpg"}}, "teams": ["sales"], "extra": {"country": "USA", "department":
"IT"}, "created": {"$date": "2023-07-05T20:57:25.776Z"}, "updated": {"$date":
"2023-07-05T20:57:25.777Z"}}
â—â€‹ Challenge : {"challenge": "Watch Video", "active": true, "id": "DTo8dS3", "description":
"Complete this challenge by watching a video", "rules": [{"actionId": "watch_video",
"operator": 5, "total": 0}], "points": [{"total": 10.0, "category": "xp", "operation": 0}]}
â—â€‹ Action : {"id": "sell", "action": "Sell", "attributes": [{"name": "product", "type": "String"},
{"name": "price", "type": "Number"}], "active": true}
â—â€‹ ActionLog : {"id": "64a5d92", "actionId": "sell", "userId": "john", "time": {"$date":
"2023-07-05T20:57:33.303Z"}, "attributes": {"product": "book", "price": 120}}
â—â€‹ Achievement : {"_id": "64a5d2", "player": "john", "total": 25.0, "type": 0, "item": "xp",
"time": {"$date": "2023-07-05T20:57:33.303Z"}}

EXEMPLOS DE CÃ“DIGO JAVA DE TRIGGER
Podemos utilizar as triggers para por exemplo: Enviar email de boas vindas para o jogador
quando ele entrar na gamificaÃ§Ã£o; Publicar uma mensagem de parabenizaÃ§Ã£o em uma rede
social quando o jogador ganhar uma medalha, etc. Perceba que este recurso deve ser usado
com moderaÃ§Ã£o, apenas nos casos onde as configuraÃ§Ãµes padrÃ£o de tÃ©cnicas de jogos do
Funifier nÃ£o forem suficientes para alcanÃ§ar o resultado esperado pelo negÃ³cio. Por exemplo,
na configuraÃ§Ã£o de um desafio Ã© possÃ­vel definir que, ao completar um desafio o jogador ganha
10 pontos. Neste caso nÃ£o Ã© necessÃ¡rio a utilizaÃ§Ã£o de uma trigger para dar os 10 pontos.
PorÃ©m, caso a pontuaÃ§Ã£o nÃ£o seja tÃ£o direta assim, envolvendo uma regra especial que nÃ£o
pode ser traduzida na configuraÃ§Ã£o padrÃ£o do desafio usamos a trigger. Por exemplo, suponha
que a pontuaÃ§Ã£o para aquele desafio envolve uma fÃ³rmula onde consideramos quantos dias de
empresa o jogador tem multiplicado pelo peso do departamento em que o jogador estÃ¡ lotado
dentro da empresa. EntÃ£o esta pontuaÃ§Ã£o serÃ¡ diferente de jogador para jogador, mesmo que
eles estejam completando o mesmo desafio. Este sim Ã© um exemplo de situaÃ§Ã£o onde a trigger
Ã© necessÃ¡ria.
EXEMPLO 1: TRIGGER PARA DUPLICAR PONTOS DE JOGADORES DA ÃREA DE TI
Neste exemplo, vamos criar uma trigger para dobrar a quantidade de pontos ganhos pelos
jogadores do departamento de TI quando eles completarem um desafio. Neste cÃ³digo o
parÃ¢metro entity Ã© um objeto do tipo Achievement. Este objeto tem um campo type que indica o
tipo de conquista. Neste cÃ³digo vamos: Verificar se o achievement Ã© do tipo ponto; Usar o
manager para consultar quem Ã© o jogador que estÃ¡ recebendo este ponto; Ver se no campo
extra do jogador existe o departamento de TI; E multiplicar o total de pontos por 2. Veja abaixo
o cÃ³digo JAVA da trigger:
/* "event": "before_create", "entity": "achievement" */

void trigger(event, entity, player, database) {
if(entity.type == Achievement.TYPE_POINT) {
Player currentPlayer = manager.getPlayerManager().findById(player);
if("IT".equals(currentPlayer.extra.department)) { entity.total = entity.total * 2; }
}
}
EXEMPLO 2: TRIGGER PARA DAR PONTO PARA TODOS OS AMIGOS DO JOGADOR
Neste exemplo, vamos criar uma trigger para dar 1 ponto para todos os amigos de um jogador,
quando este jogador ganhar 100 pontos ou mais em um desafio. Neste cÃ³digo o parÃ¢metro
entity Ã© um objeto do tipo Achievement. Este objeto tem um campo type que indica o tipo de
conquista. Neste cÃ³digo vamos: Verificar se o achievement Ã© do tipo ponto e se o total de
pontos Ã© maior ou igual a 100; Usar o manager para consultar quem Ã© o jogador; Registrar um
um Achievement de 1 ponto para cada amigo do jogador; Veja abaixo o cÃ³digo JAVA da trigger:
/* "event": "before_create", "entity": "achievement" */
void trigger(event, entity, player, database){
if(entity.type == Achievement.TYPE_POINT && entity.total >= 100) {
Player p = manager.getPlayerManager().findById(player);
for(String friend : p.friends) {
Achievement a = new Achievement();
a.player = friend;
a.total = 1;
a.type = 0;
a.item = entity.item;
a.time = new Date();
a.id = Guid.newShortGuid();
manager.getAchievementManager().addAchievement(a);
}
}
}
EXEMPLO 3: TRIGGER PARA ENVIAR EMAIL DE BOAS VINDAS PARA JOGADOR
Neste exemplo, vamos criar uma trigger para enviar um email de boas vindas ao jogador assim
que ele for criado no banco de dados. Neste cÃ³digo o parÃ¢metro entity Ã© um objeto do tipo
Player. Este objeto tem os campos name e email que vamos usar no envio do email. Neste
cÃ³digo vamos: Consultar quantos jogadores jÃ¡ estÃ£o cadastrados na gamificaÃ§Ã£o; Montar e
enviar o email usando a biblioteca (org.simplejavamail) que estÃ¡ disponÃ­vel no contexto da
trigger; Veja abaixo o cÃ³digo JAVA da trigger:
/* "event": "after_create", "entity": "player" */
void trigger(event, entity, player, database){
long total = manager.getPlayerManager().findTotal();
Email email = EmailBuilder
.startingBlank()
.from("Company", "your@company.com")
.to(entity.getName(), entity.email)
.withSubject("Welcome!")

.withPlainText("Welcome " + entity.name + ", you are the member number " + total)
.buildEmail();
MailerBuilder.withSMTPServer("host", 587, "login", "password")
.buildMailer()
.sendMail(email);
}
EXEMPLO 4: TRIGGER PARA FAZER REQUISIÃ‡Ã•ES HTTP USANDO UNIREST
Neste exemplo, vamos criar uma trigger para enviar os dados da compra feita pelo jogador
para o Zapier. Para isso vamos precisar fazer uma requisiÃ§Ã£o HTTP na api do Zapier. Neste
cÃ³digo o parÃ¢metro entity Ã© um objeto do tipo Achievement. Este objeto tem o login do jogador
e ID do item que foi comprado; Neste cÃ³digo vamos: Consultar os dados completos do jogador
que fez a compra; Consultar os dados completos do item que foi comprado; Colocar estas duas
informaÃ§Ãµes em um novo objeto; Transformar este objeto em JSON; e enviar o JSON no corpo
da requisiÃ§Ã£o. A requisiÃ§Ã£o HTTP serÃ¡ feita usando a biblioteca (com.mashape.unirest) que
estÃ¡ disponÃ­vel no contexto da trigger; Veja abaixo o cÃ³digo JAVA da trigger:
/* "event": "after_win", "entity": "catalog_item" */
void trigger(event, entity, player, database){
Player buyer = manager.getPlayerManager().findById(entity.player);
CatalogItem item = manager.getCatalogManager().findItemById(entity.item);
HashMap zap = new HashMap();
zap.put("purchase", entity);
zap.put("buyer", buyer);
zap.put("item", item);
HttpResponse<String> response =
Unirest.post("https://hooks.zapier.com/hooks/catch/80/b6/")
.header("Content-Type", "application/json")
.body(JsonUtil.toJson(zap))
.asString();
}
EXEMPLO 5: TRIGGER PARA CRIAR CÃ“DIGO PARA CONVIDAR AMIGOS
Neste exemplo, vamos criar uma trigger para criar um cÃ³digo e inserir no perfil do jogador antes
do jogador ser criado; O jogador poderÃ¡ compartilhar este cÃ³digo posteriormente com seus
amigos; Neste cÃ³digo o parÃ¢metro entity Ã© um objeto do tipo Player. Este objeto tem um campo
extra onde podemos incluir informaÃ§Ãµes adicionais como este cÃ³digo para convidar amigos.
Veja abaixo o cÃ³digo JAVA da trigger:
/* "event": "before_create", "entity": "player" */
void trigger(event, entity, player, database){
String code = Guid.shortTimeMillis();
entity.extra.put("code", code);
}
EXEMPLO 6: TRIGGER PARA CONSULTAR OBJETOS NO BANCO DE DADOS

Neste exemplo, vamos criar uma trigger para pesquisar no banco de dados o preÃ§o de um
produto que o jogador estÃ¡ vendendo e incluir no log de aÃ§Ã£o que estÃ¡ sendo criado; Usaremos
a biblioteca do MongoDB para consultar o objeto customizado. Neste cÃ³digo o parÃ¢metro entity
Ã© um objeto do tipo ActionLog. Vamos incluir o preÃ§o nos atributos da venda. Veja abaixo o
cÃ³digo JAVA da trigger:
/* "before_win", "entity": "action" */
void trigger(event, entity, player, database){
String id = entity.attributes.product;
Object product = database.getCollection("product__c").findOne('{_id:#}', id).as(Object.class);
entity.attributes.put("price", product.price);
}
EXEMPLO 7: TRIGGER PARA EXECUTAR COMANDOS AGGREGATE NO DB
Neste exemplo, vamos criar uma trigger para descobrir o total de pontos do jogador com mais
pontos na gamificaÃ§Ã£o. E vamos incluir esta informaÃ§Ã£o nos atributos do log de aÃ§Ã£o que estÃ¡
sendo criado. Para isso vamos executar um comando aggregate usando a biblioteca
(org.jongo) que estÃ¡ disponÃ­vel no contexto da trigger. Neste cÃ³digo o parÃ¢metro entity Ã© um
objeto do tipo ActionLog. Veja abaixo o cÃ³digo JAVA da trigger:
/* "before_win", "entity": "action" */
void trigger(event, entity, player, database){
org.jongo.MongoCollection collection = database.getCollection("achievement");
List<Object> highest = Arrays.asList(
collection.aggregate('{"$match": {"type": 0, "item": "xp"}}')
.and('{"$group": {"_id": "$player", "total": {"$sum": "$total"}}}')
.and('{"$sort": {"total": -1}}')
.and('{"$limit":1}')
.as(Object.class));
if(highest != null && highest.size() > 0) {
Object highestPointsPlayer = highest.get(0);
entity.attributes.put("highest", highestPointsPlayer.total);
}
}

MANAGERS
Dentro de uma trigger Ã© possÃ­vel acessar o objeto "manager". Este objeto dÃ¡ acesso aos
diversos managers disponÃ­veis dentro da FUNIFIER ENGINE. Estes managers permitem
acessar poderosas funcionalidades dentro da plataforma. JÃ¡ utilizamos alguns managers atÃ©
agora, como por exemplo: PlayerManager para localizar um jogador pelo seu id;
CatalogManager para localizar um item em um catÃ¡logo; Veja abaixo alguns exemplos de
managers disponÃ­veis dentro da FUNIFIER ENGINE e suas principais operaÃ§Ãµes:
PlayerManager : Forma de acesso manager.getPlayerManager(); Permite gerenciar jogadores;
Principais mÃ©todos:
â—â€‹ Player findById(String id);

â—â€‹ void insert(Player player);
â—â€‹ void delete(String id);
ActionManager : Forma de acesso manager.getActionManager(); Permite gerenciar aÃ§Ãµes e
registrar action logs; Principais mÃ©todos:
â—â€‹ Action findActionById(String id);
â—â€‹ void addAction(Action action);
â—â€‹ void deleteAction(String id);
â—â€‹ void track(ActionLog log);
â—â€‹ List<Achievement> trackSynchonous(ActionLog log);
CatalogManager : Forma de acesso manager.getCatalogManager(); Permite gerenciar e
comprar itens de um catÃ¡logo; Principais mÃ©todos:
â—â€‹ Catalog findById(String id);
â—â€‹ void add(Catalog catalog);
â—â€‹ void delete(String id);
â—â€‹ CatalogItem findItemById(String id);
â—â€‹ void addItem(CatalogItem item);
â—â€‹ void deleteItem(String id);
â—â€‹ Map<String, Object> purchase(Achievement purchase, boolean async);
â—â€‹ void undoPurchase(String id);
LotteryManager : Forma de acesso manager.getLotteryManager(); Permite gerenciar, rodar, e
criar tickets para participar de sorteios; Principais mÃ©todos:
â—â€‹ Lottery find(String id);
â—â€‹ void insert(Lottery lottery);
â—â€‹ void delete(String id);
â—â€‹ void insertTicket(LotteryTicket ticket);
â—â€‹ Iterable<LotteryTicket> execute(String id);
â—â€‹ void undoExecute(String id);

