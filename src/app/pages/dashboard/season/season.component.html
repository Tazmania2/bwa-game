<c4u-card [titulo]="'LABEL_SEASON_LEVEL' | translate" [fog]="collapse" class="!backdrop-blur-[20px]">
    <div flex hAlign="center" *ngIf="false">
        <c4u-mostrador-nivel-temporada
                [level]="seasonInfo.nivel.nivelAtual"
                *enableShimmer="[!apiReady, {height: 106, width: 106, borderRadius: '50%'}]"
        >
        </c4u-mostrador-nivel-temporada>
    </div>

    <div flex vAlign="start" direction="column" [marginTop]="24">
    <span class="player-name"
          *enableShimmer="[!nomeConsulta, {height: 19, width: 150, borderRadius: 4}]">{{ nomeConsulta }}</span>
        <div
                flex
                [gap]="4"
                vAlign="center"
                *ngIf="isCSLayout && showTeamGoal"
                class="team-data-season"
        >
            <c4u-mostrador-nivel-temporada
                    [level]="seasonInfo.nivel.nivelMax"
                    [iconify]="true"
                    *enableShimmer="[
          !apiReady,
          { width: 32, height: 32, borderRadius: '50%' }
        ]"
            >
            </c4u-mostrador-nivel-temporada>
        </div>
        <span
                class="squad-name"
                *enableShimmer="[
        !apiReady,
        { marginLeft: 4, width: 100, height: 18, borderRadius: 4 }
      ]"
        >
     {{ time?.nome }}
    </span>
    </div>

    <div [marginTop]="24" flex direction="column" [gap]="24" *ngIf="!isCSLayout">
        <h1 translate="LABEL_SEASON_POINTS" [translateParams]="{pointAlias: pointAlias}"></h1>
        <div flex [h]="56" hAlign="space-evenly" class="div-points"
             *enableShimmer="[!apiReady, {height: 56, borderRadius: 8}]">
            <div flex direction="column" vAlign="center" hAlign="center" flexItem="1"
                 [toolTip]="'HINT_TOTAL_POINTS' | translate : {pointAlias: pointAlias, actionAlias: actionAlias}">
                <span class="points">{{ seasonInfo.blocked_points + seasonInfo.unblocked_points }}</span>
                <span class="points-hint" translate="LABEL_TOTAL"></span>
            </div>
            <div flex direction="column" vAlign="center" hAlign="center" flexItem="1"
                 [toolTip]="'HINT_BLOCKED_POINTS' | translate : {value: getPercentPontosBloqueados(), pointAlias: pointAlias}">
                <span class="points">{{ seasonInfo.blocked_points }}</span>
                <span class="points-hint" translate="LABEL_BLOCKED"></span>
            </div>
        </div>
        <div class="div-cid-points" flex hAlign="space-evenly" class="div-unblocked-points"
             *enableShimmer="[!apiReady, {height: 56, borderRadius: 8}]">
            <div flex direction="column" vAlign="center" hAlign="center" flexItem="1">
                <span class="unblocked-points">{{ seasonInfo?.unblocked_points }}</span>
                <span class="unblocked-points-hint" translate="LABEL_UNBLOCKED"></span>
            </div>
        </div>
    </div>

    <div flex [gap]="16" direction="column" *ngIf="!isCSLayout" [marginTop]="42">
    <span flex [gap]="2">
        <h1 translate="LABEL_SEASON_PROGRESS"></h1>
        <!-- <i class="icon-expand_content"></i> TODO: Descomentar quando as modais forem implementadas.-->
    </span>

        <div flex vAlign="center" [gap]="4" *enableShimmer="[!apiReady, {height: 19.8, borderRadius: 4}]">
            <i class="icon-rule"></i>
            <span flexItem="auto"><small translate="LABEL_PROCESSES_QUESTS_INCOMPLETE" [translateParams]="{deliveryAlias: deliveryAlias}"></small></span>
            <strong>{{ seasonInfo.incompleteDeliveries }}</strong>
        </div>
        <div flex vAlign="center" [gap]="4" *enableShimmer="[!apiReady, {height: 19.8, borderRadius: 4}]">
            <i class="icon-fact_check"></i>
            <span flexItem="auto"><small translate="LABEL_QUESTS_FINISHED" [translateParams]="{actionAlias: actionAlias}"></small></span>
            <strong>{{ seasonInfo.completedTasks }}</strong>
        </div>
        <div flex vAlign="center" [gap]="4" *enableShimmer="[!apiReady, {height: 19.8, borderRadius: 4}]">
            <i class="icon-new_releases"></i>
            <span flexItem="auto"><small translate="LABEL_PROCESSES_QUESTS_FINISHED" [translateParams]="{deliveryAlias: deliveryAlias}"></small></span>
            <strong>{{ seasonInfo.completedDeliveries }}</strong>
        </div>

        <div [marginTop]="32" flex direction="column" hAlign="center" vAlign="center">
            <strong *enableShimmer="[!seasonDatesReady, {height: 16, width: 155, borderRadius: 4, marginBottom: 4}]">
                {{ seasonDates?.start | date:'dd/MM/yy' }} a {{
                    seasonDates?.end |
                        date:'dd/MM/yy'
                }}</strong>
            <small translate="LABEL_CURRENT_SEASON"></small>
        </div>
    </div>

    <!-- Botões de ação -->
    <div [marginTop]="12" flex hAlign="center" direction="column" [gap]="1" *ngIf="!isCSLayout">
        <!-- Botão Gerenciar Realizações - condicionado por permissão -->
        <button 
            class="sidenav-shortcut" 
            (click)="abrirModalInserirAtividade()"
            [disabled]="!apiReady"
            *ngIf="shouldShowManagePointsModal">
            <i class="icon-add"></i>
            Gerenciar Realizações
        </button>
        <!-- Botão Sair - sempre visível -->
        <button
            class="logout-btn"
            (click)="sair()"
            [disabled]="!apiReady">
            Sair
        </button>
    </div>
</c4u-card>


